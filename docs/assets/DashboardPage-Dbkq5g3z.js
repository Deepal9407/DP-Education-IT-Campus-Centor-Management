import{k as vt,p as Mt,h as y,a2 as Yt,ab as eo,ac as ga,g as pt,r as F,c as _,w as Qe,t as Ct,ad as to,l as wt,_ as Re,H as Et,a as lo,m as gn,ae as ha,o as $l,a1 as Ft,L as Cl,af as Hl,ag as ba,J as dn,M as It,a4 as no,K as In,O as ao,a8 as ya,a9 as pa,N as _a,ah as oo,D as Ol,B as ol,y as pl,u as Bl,ai as Xl,b as io,aj as bl,ak as so,al as ro,am as uo,z as al,C as Dn,an as wa,v as Sa,I as co,ao as En,ap as Vl,aq as fo,ar as vo,E as vl,q as mo,as as go,at as Nn,au as Tn,av as jn,aw as xa,ax as ho,a0 as Ve,x as ka,A as hn,G as bo,ay as yo,az as po,aA as _o,aB as wo,aC as So,aD as Ca,aE as xo,S as bt,U as oe,V as m,Y as s,aF as st,$ as Oe,f as o,a7 as Se,a3 as ko,Z as Ke,F as zt,a5 as Kt,a6 as Un,aG as Co,aH as qo}from"./index-B5G9evRI.js";import{u as cn,j as fn,k as vn,p as jt,t as qt,r as Vt,v as tt,Q as Do,e as ln,n as To,s as Rn,g as On,l as Vo,m as Mo,w as Yn,q as yl,c as Qn,d as Wn,x as ft,o as Ao}from"./use-prevent-scroll-DwIz3bUO.js";import{u as el,a as tl}from"./use-dark-BbgiJ76y.js";import{d as Po,e as Io,f as qa,g as Ln,h as Da,i as Ta,r as Kn,j as Eo,k as Va,u as Bn,l as Ro,m as Gn,n as Oo,c as Ma,p as Lo,Q as Jn,a as rt}from"./QForm-DXrY6HoK.js";import{_ as Bo,Q as Fo,a as Ee,b as ge}from"./_plugin-vue_export-helper-RSNwod5w.js";import{u as xl}from"./use-timeout-CiCrPLTx.js";import{Q as bn,u as $o,a as Ho,b as zo}from"./QCheckbox-CrTJVYZQ.js";import{supabase as ze}from"./supabase-CvbrL4DE.js";import{u as No}from"./use-quasar-DzTJ7Wdc.js";const jo=vt({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:l,emit:n}){let r=!1,u,i,v=null,f=null,h,w;function d(){u?.(),u=null,r=!1,v!==null&&(clearTimeout(v),v=null),f!==null&&(clearTimeout(f),f=null),i?.removeEventListener("transitionend",h),h=null}function C(O,x,P){x!==void 0&&(O.style.height=`${x}px`),O.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,u=P}function T(O,x){O.style.overflowY=null,O.style.height=null,O.style.transition=null,d(),x!==w&&n(x)}function q(O,x){let P=0;i=O,r===!0?(d(),P=O.offsetHeight===O.scrollHeight?0:void 0):(w="hide",O.style.overflowY="hidden"),C(O,P,x),v=setTimeout(()=>{v=null,O.style.height=`${O.scrollHeight}px`,h=pe=>{f=null,(Object(pe)!==pe||pe.target===O)&&T(O,"show")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}function A(O,x){let P;i=O,r===!0?d():(w="show",O.style.overflowY="hidden",P=O.scrollHeight),C(O,P,x),v=setTimeout(()=>{v=null,O.style.height=0,h=pe=>{f=null,(Object(pe)!==pe||pe.target===O)&&T(O,"hide")},O.addEventListener("transitionend",h),f=setTimeout(h,e.duration*1.1)},100)}return Mt(()=>{r===!0&&d()}),()=>y(Yt,{css:!1,appear:e.appear,onEnter:q,onLeave:A},l.default)}}),rl=eo({}),Uo=Object.keys(ga),Yo=vt({name:"QExpansionItem",props:{...ga,...fn,...el,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...cn,"click","afterShow","afterHide"],setup(e,{slots:l,emit:n}){const{proxy:{$q:r}}=pt(),u=tl(e,r),i=F(e.modelValue!==null?e.modelValue:e.defaultOpened),v=F(null),f=Po(),{show:h,hide:w,toggle:d}=vn({showing:i});let C,T;const q=_(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),A=_(()=>e.contentInsetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),O=_(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),x=_(()=>{const $={};return Uo.forEach(ce=>{$[ce]=e[ce]}),$}),P=_(()=>O.value===!0||e.expandIconToggle!==!0),pe=_(()=>e.expandedIcon!==void 0&&i.value===!0?e.expandedIcon:e.expandIcon||r.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),U=_(()=>e.disable!==!0&&(O.value===!0||e.expandIconToggle===!0)),I=_(()=>({expanded:i.value===!0,detailsId:f.value,toggle:d,show:h,hide:w})),Y=_(()=>{const $=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:r.lang.label[i.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":f.value,"aria-label":$}});Qe(()=>e.group,$=>{T?.(),$!==void 0&&N()});function he($){O.value!==!0&&d($),n("click",$)}function ee($){$.keyCode===13&&g($,!0)}function g($,ce){ce!==!0&&$.qAvoidFocus!==!0&&v.value?.focus(),d($),Et($)}function p(){n("afterShow")}function V(){n("afterHide")}function N(){C===void 0&&(C=Io()),i.value===!0&&(rl[e.group]=C);const $=Qe(i,J=>{J===!0?rl[e.group]=C:rl[e.group]===C&&delete rl[e.group]}),ce=Qe(()=>rl[e.group],(J,Ne)=>{Ne===C&&J!==void 0&&J!==C&&w()});T=()=>{$(),ce(),rl[e.group]===C&&delete rl[e.group],T=void 0}}function j(){const $={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},ce=[y(Re,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:pe.value})];return U.value===!0&&(Object.assign($,{tabindex:0,...Y.value,onClick:g,onKeyup:ee}),ce.unshift(y("div",{ref:v,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),y(tt,$,()=>ce)}function re(){let $;return l.header!==void 0?$=[].concat(l.header(I.value)):($=[y(tt,()=>[y(Vt,{lines:e.labelLines},()=>e.label||""),e.caption?y(Vt,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&$[e.switchToggleSide===!0?"push":"unshift"](y(tt,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>y(Re,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&$[e.switchToggleSide===!0?"unshift":"push"](j()),$}function Q(){const $={ref:"item",style:e.headerStyle,class:e.headerClass,dark:u.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return P.value===!0&&($.clickable=!0,$.onClick=he,Object.assign($,O.value===!0?x.value:Y.value)),y(qt,$,re)}function ue(){return Ct(y("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:f.value},wt(l.default)),[[to,i.value]])}function _e(){const $=[Q(),y(jo,{duration:e.duration,onShow:p,onHide:V},ue)];return e.expandSeparator===!0&&$.push(y(jt,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:u.value}),y(jt,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:u.value})),$}return e.group!==void 0&&N(),Mt(()=>{T?.()}),()=>y("div",{class:q.value},[y("div",{class:"q-expansion-item__container relative-position"},_e())])}});let Qo=0;const Wo=["click","keydown"],Ko={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Qo++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Go(e,l,n,r){const u=lo(ha,gn);if(u===gn)return console.error("QTab/QRouteTab component needs to be child of QTabs"),gn;const{proxy:i}=pt(),v=F(null),f=F(null),h=F(null),w=_(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),d=_(()=>u.currentModel.value===e.name),C=_(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(d.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),T=_(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),q=_(()=>e.disable===!0||u.hasFocus.value===!0||d.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function A(U,I){if(I!==!0&&U?.qAvoidFocus!==!0&&v.value?.focus(),e.disable!==!0){u.updateModel({name:e.name}),n("click",U);return}}function O(U){Hl(U,[13,32])?A(U,!0):ba(U)!==!0&&U.keyCode>=35&&U.keyCode<=40&&U.altKey!==!0&&U.metaKey!==!0&&u.onKbdNavigate(U.keyCode,i.$el)===!0&&Et(U),n("keydown",U)}function x(){const U=u.tabProps.value.narrowIndicator,I=[],Y=y("div",{ref:h,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&I.push(y(Re,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&I.push(y("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&I.push(e.alertIcon!==void 0?y(Re,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):y("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),U===!0&&I.push(Y);const he=[y("div",{class:"q-focus-helper",tabindex:-1,ref:v}),y("div",{class:T.value},Cl(l.default,I))];return U===!1&&he.push(Y),he}const P={name:_(()=>e.name),rootRef:f,tabIndicatorRef:h,routeData:r};Mt(()=>{u.unregisterTab(P)}),$l(()=>{u.registerTab(P)});function pe(U,I){const Y={ref:f,class:C.value,tabindex:q.value,role:"tab","aria-selected":d.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:A,onKeydown:O,...I};return Ct(y(U,Y,x()),[[Ft,w.value]])}return{renderTab:pe,$tabs:u}}const Ul=vt({name:"QTab",props:Ko,emits:Wo,setup(e,{slots:l,emit:n}){const{renderTab:r}=Go(e,l,n);return()=>r("div")}});function _l(){let e;const l=pt();function n(){e=void 0}return dn(n),Mt(n),{removeTick:n,registerTick(r){e=r,It(()=>{e===r&&(no(l)===!1&&e(),e=void 0)})}}}let Fl=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Fl=e.scrollLeft>=0,e.remove()}function Jo(e,l,n){const r=n===!0?["left","right"]:["top","bottom"];return`absolute-${l===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const Xo=["left","center","right","justify"],Zo=vt({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Xo.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:l,emit:n}){const{proxy:r}=pt(),{$q:u}=r,{registerTick:i}=_l(),{registerTick:v}=_l(),{registerTick:f}=_l(),{registerTimeout:h,removeTimeout:w}=xl(),{registerTimeout:d,removeTimeout:C}=xl(),T=F(null),q=F(null),A=F(e.modelValue),O=F(!1),x=F(!0),P=F(!1),pe=F(!1),U=[],I=F(0),Y=F(!1);let he=null,ee=null,g;const p=_(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Jo(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),V=_(()=>{const z=I.value,ne=A.value;for(let ie=0;ie<z;ie++)if(U[ie].name.value===ne)return!0;return!1}),N=_(()=>`q-tabs__content--align-${O.value===!0?"left":pe.value===!0?"justify":e.align}`),j=_(()=>`q-tabs row no-wrap items-center q-tabs--${O.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),re=_(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+N.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),Q=_(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ue=_(()=>e.vertical!==!0&&u.lang.rtl===!0),_e=_(()=>Fl===!1&&ue.value===!0);Qe(ue,E),Qe(()=>e.modelValue,z=>{$({name:z,setCurrent:!0,skipEmit:!0})}),Qe(()=>e.outsideArrows,ce);function $({name:z,setCurrent:ne,skipEmit:ie}){A.value!==z&&(ie!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",z),(ne===!0||e["onUpdate:modelValue"]===void 0)&&(Ne(A.value,z),A.value=z))}function ce(){i(()=>{T.value&&J({width:T.value.offsetWidth,height:T.value.offsetHeight})})}function J(z){if(Q.value===void 0||q.value===null)return;const ne=z[Q.value.container],ie=Math.min(q.value[Q.value.scroll],Array.prototype.reduce.call(q.value.children,(Pe,be)=>Pe+(be[Q.value.content]||0),0)),je=ne>0&&ie>ne;O.value=je,je===!0&&v(E),pe.value=ne<parseInt(e.breakpoint,10)}function Ne(z,ne){const ie=z!=null&&z!==""?U.find(Pe=>Pe.name.value===z):null,je=ne!=null&&ne!==""?U.find(Pe=>Pe.name.value===ne):null;if(ot===!0)ot=!1;else if(ie&&je){const Pe=ie.tabIndicatorRef.value,be=je.tabIndicatorRef.value;he!==null&&(clearTimeout(he),he=null),Pe.style.transition="none",Pe.style.transform="none",be.style.transition="none",be.style.transform="none";const qe=Pe.getBoundingClientRect(),lt=be.getBoundingClientRect();be.style.transform=e.vertical===!0?`translate3d(0,${qe.top-lt.top}px,0) scale3d(1,${lt.height?qe.height/lt.height:1},1)`:`translate3d(${qe.left-lt.left}px,0,0) scale3d(${lt.width?qe.width/lt.width:1},1,1)`,f(()=>{he=setTimeout(()=>{he=null,be.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",be.style.transform="none"},70)})}je&&O.value===!0&&S(je.rootRef.value)}function S(z){const{left:ne,width:ie,top:je,height:Pe}=q.value.getBoundingClientRect(),be=z.getBoundingClientRect();let qe=e.vertical===!0?be.top-je:be.left-ne;if(qe<0){q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(qe),E();return}qe+=e.vertical===!0?be.height-Pe:be.width-ie,qe>0&&(q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(qe),E())}function E(){const z=q.value;if(z===null)return;const ne=z.getBoundingClientRect(),ie=e.vertical===!0?z.scrollTop:Math.abs(z.scrollLeft);ue.value===!0?(x.value=Math.ceil(ie+ne.width)<z.scrollWidth-1,P.value=ie>0):(x.value=ie>0,P.value=e.vertical===!0?Math.ceil(ie+ne.height)<z.scrollHeight:Math.ceil(ie+ne.width)<z.scrollWidth)}function L(z){ee!==null&&clearInterval(ee),ee=setInterval(()=>{R(z)===!0&&H()},5)}function de(){L(_e.value===!0?Number.MAX_SAFE_INTEGER:0)}function ve(){L(_e.value===!0?0:Number.MAX_SAFE_INTEGER)}function H(){ee!==null&&(clearInterval(ee),ee=null)}function W(z,ne){const ie=Array.prototype.filter.call(q.value.children,lt=>lt===ne||lt.matches&&lt.matches(".q-tab.q-focusable")===!0),je=ie.length;if(je===0)return;if(z===36)return S(ie[0]),ie[0].focus(),!0;if(z===35)return S(ie[je-1]),ie[je-1].focus(),!0;const Pe=z===(e.vertical===!0?38:37),be=z===(e.vertical===!0?40:39),qe=Pe===!0?-1:be===!0?1:void 0;if(qe!==void 0){const lt=ue.value===!0?-1:1,Ze=ie.indexOf(ne)+qe*lt;return Ze>=0&&Ze<je&&(S(ie[Ze]),ie[Ze].focus({preventScroll:!0})),!0}}const te=_(()=>_e.value===!0?{get:z=>Math.abs(z.scrollLeft),set:(z,ne)=>{z.scrollLeft=-ne}}:e.vertical===!0?{get:z=>z.scrollTop,set:(z,ne)=>{z.scrollTop=ne}}:{get:z=>z.scrollLeft,set:(z,ne)=>{z.scrollLeft=ne}});function R(z){const ne=q.value,{get:ie,set:je}=te.value;let Pe=!1,be=ie(ne);const qe=z<be?-1:1;return be+=qe*5,be<0?(Pe=!0,be=0):(qe===-1&&be<=z||qe===1&&be>=z)&&(Pe=!0,be=z),je(ne,be),E(),Pe}function ke(z,ne){for(const ie in z)if(z[ie]!==ne[ie])return!1;return!0}function K(){let z=null,ne={matchedLen:0,queryDiff:9999,hrefLen:0};const ie=U.filter(qe=>qe.routeData?.hasRouterLink.value===!0),{hash:je,query:Pe}=r.$route,be=Object.keys(Pe).length;for(const qe of ie){const lt=qe.routeData.exact.value===!0;if(qe.routeData[lt===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ze,query:at,matched:Ue,href:St}=qe.routeData.resolvedLink.value,yt=Object.keys(at).length;if(lt===!0){if(Ze!==je||yt!==be||ke(Pe,at)===!1)continue;z=qe.name.value;break}if(Ze!==""&&Ze!==je||yt!==0&&ke(at,Pe)===!1)continue;const _t={matchedLen:Ue.length,queryDiff:be-yt,hrefLen:St.length-Ze.length};if(_t.matchedLen>ne.matchedLen){z=qe.name.value,ne=_t;continue}else if(_t.matchedLen!==ne.matchedLen)continue;if(_t.queryDiff<ne.queryDiff)z=qe.name.value,ne=_t;else if(_t.queryDiff!==ne.queryDiff)continue;_t.hrefLen>ne.hrefLen&&(z=qe.name.value,ne=_t)}if(z===null&&U.some(qe=>qe.routeData===void 0&&qe.name.value===A.value)===!0){ot=!1;return}$({name:z,setCurrent:!0})}function Te(z){if(w(),Y.value!==!0&&T.value!==null&&z.target&&typeof z.target.closest=="function"){const ne=z.target.closest(".q-tab");ne&&T.value.contains(ne)===!0&&(Y.value=!0,O.value===!0&&S(ne))}}function Le(){h(()=>{Y.value=!1},30)}function Ae(){De.avoidRouteWatcher===!1?d(K):C()}function Fe(){if(g===void 0){const z=Qe(()=>r.$route.fullPath,Ae);g=()=>{z(),g=void 0}}}function Ce(z){U.push(z),I.value++,ce(),z.routeData===void 0||r.$route===void 0?d(()=>{if(O.value===!0){const ne=A.value,ie=ne!=null&&ne!==""?U.find(je=>je.name.value===ne):null;ie&&S(ie.rootRef.value)}}):(Fe(),z.routeData.hasRouterLink.value===!0&&Ae())}function Xe(z){U.splice(U.indexOf(z),1),I.value--,ce(),g!==void 0&&z.routeData!==void 0&&(U.every(ne=>ne.routeData===void 0)===!0&&g(),Ae())}const De={currentModel:A,tabProps:p,hasFocus:Y,hasActiveTab:V,registerTab:Ce,unregisterTab:Xe,verifyRouteModel:Ae,updateModel:$,onKbdNavigate:W,avoidRouteWatcher:!1};ao(ha,De);function Ge(){he!==null&&clearTimeout(he),H(),g?.()}let mt,ot;return Mt(Ge),dn(()=>{mt=g!==void 0,Ge()}),In(()=>{mt===!0&&(Fe(),ot=!0,Ae()),ce()}),()=>y("div",{ref:T,class:j.value,role:"tablist",onFocusin:Te,onFocusout:Le},[y(Do,{onResize:J}),y("div",{ref:q,class:re.value,onScroll:E},wt(l.default)),y(Re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(x.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:de,onTouchstartPassive:de,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H}),y(Re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ve,onTouchstartPassive:ve,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H})])}}),ei={xs:8,sm:10,md:14,lg:20,xl:24},El=vt({name:"QChip",props:{...el,...ya,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:l,emit:n}){const{proxy:{$q:r}}=pt(),u=tl(e,r),i=pa(e,ei),v=_(()=>e.selected===!0||e.icon!==void 0),f=_(()=>e.selected===!0?e.iconSelected||r.iconSet.chip.selected:e.icon),h=_(()=>e.iconRemove||r.iconSet.chip.remove),w=_(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=_(()=>{const x=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(x?` text-${x} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(w.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(u.value===!0?" q-chip--dark q-dark":"")}),C=_(()=>{const x=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},P={...x,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||r.lang.label.remove};return{chip:x,remove:P}});function T(x){x.keyCode===13&&q(x)}function q(x){e.disable||(n("update:selected",!e.selected),n("click",x))}function A(x){(x.keyCode===void 0||x.keyCode===13)&&(Et(x),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function O(){const x=[];w.value===!0&&x.push(y("div",{class:"q-focus-helper"})),v.value===!0&&x.push(y(Re,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const P=e.label!==void 0?[y("div",{class:"ellipsis"},[e.label])]:void 0;return x.push(y("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},oo(l.default,P))),e.iconRight&&x.push(y(Re,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&x.push(y(Re,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:h.value,...C.value.remove,onClick:A,onKeyup:A})),x}return()=>{if(e.modelValue===!1)return;const x={class:d.value,style:i.value};return w.value===!0&&Object.assign(x,C.value.chip,{onClick:q,onKeyup:T}),_a("div",x,O(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Ft,e.ripple]])}}}),ti=vt({name:"QField",inheritAttrs:!1,props:{...Ln,tag:{type:String,default:"label"}},emits:qa,setup(){return Da(Ta({tagProp:!0}))}}),Aa={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},li={...Aa,contextMenu:Boolean};function Pa({showing:e,avoidEmit:l,configureAnchorEl:n}){const{props:r,proxy:u,emit:i}=pt(),v=F(null);let f=null;function h(q){return v.value===null?!1:q===void 0||q.touches===void 0||q.touches.length<=1}const w={};n===void 0&&(Object.assign(w,{hide(q){u.hide(q)},toggle(q){u.toggle(q),q.qAnchorHandled=!0},toggleKey(q){Hl(q,13)===!0&&w.toggle(q)},contextClick(q){u.hide(q),Ol(q),It(()=>{u.show(q),q.qAnchorHandled=!0})},prevent:Ol,mobileTouch(q){if(w.mobileCleanup(q),h(q)!==!0)return;u.hide(q),v.value.classList.add("non-selectable");const A=q.target;ol(w,"anchor",[[A,"touchmove","mobileCleanup","passive"],[A,"touchend","mobileCleanup","passive"],[A,"touchcancel","mobileCleanup","passive"],[v.value,"contextmenu","prevent","notPassive"]]),f=setTimeout(()=>{f=null,u.show(q),q.qAnchorHandled=!0},300)},mobileCleanup(q){v.value.classList.remove("non-selectable"),f!==null&&(clearTimeout(f),f=null),e.value===!0&&q!==void 0&&ln()}}),n=function(q=r.contextMenu){if(r.noParentEvent===!0||v.value===null)return;let A;q===!0?u.$q.platform.is.mobile===!0?A=[[v.value,"touchstart","mobileTouch","passive"]]:A=[[v.value,"mousedown","hide","passive"],[v.value,"contextmenu","contextClick","notPassive"]]:A=[[v.value,"click","toggle","passive"],[v.value,"keyup","toggleKey","passive"]],ol(w,"anchor",A)});function d(){pl(w,"anchor")}function C(q){for(v.value=q;v.value.classList.contains("q-anchor--skip");)v.value=v.value.parentNode;n()}function T(){if(r.target===!1||r.target===""||u.$el.parentNode===null)v.value=null;else if(r.target===!0)C(u.$el.parentNode);else{let q=r.target;if(typeof r.target=="string")try{q=document.querySelector(r.target)}catch{q=void 0}q!=null?(v.value=q.$el||q,n()):(v.value=null,console.error(`Anchor: target "${r.target}" not found`))}}return Qe(()=>r.contextMenu,q=>{v.value!==null&&(d(),n(q))}),Qe(()=>r.target,()=>{v.value!==null&&d(),T()}),Qe(()=>r.noParentEvent,q=>{v.value!==null&&(q===!0?d():n())}),$l(()=>{T(),l!==!0&&r.modelValue===!0&&v.value===null&&i("update:modelValue",!1)}),Mt(()=>{f!==null&&clearTimeout(f),d()}),{anchorEl:v,canShow:h,anchorEvents:w}}function Ia(e,l){const n=F(null);let r;function u(f,h){const w=`${h!==void 0?"add":"remove"}EventListener`,d=h!==void 0?h:r;f!==window&&f[w]("scroll",d,Bl.passive),window[w]("scroll",d,Bl.passive),r=h}function i(){n.value!==null&&(u(n.value),n.value=null)}const v=Qe(()=>e.noParentEvent,()=>{n.value!==null&&(i(),l())});return Mt(v),{localScrollTarget:n,unconfigureScrollTarget:i,changeScrollEvent:u}}const wl=[];function ni(e){return wl.find(l=>l.contentEl!==null&&l.contentEl.contains(e))}function Ea(e,l){do{if(e.$options.name==="QMenu"){if(e.hide(l),e.$props.separateClosePopup===!0)return Xl(e)}else if(e.__qPortal===!0){const n=Xl(e);return n?.$options.name==="QPopupProxy"?(e.hide(l),n):e}e=Xl(e)}while(e!=null)}function ai(e,l,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Ea(e,l);continue}e.hide(l)}e=Xl(e)}}const oi=vt({name:"QPortal",setup(e,{slots:l}){return()=>l.default()}});function ii(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function Fn(e,l,n,r){const u=F(!1),i=F(!1);let v=null;const f={},h=r==="dialog"&&ii(e);function w(C){if(C===!0){Kn(f),i.value=!0;return}i.value=!1,u.value===!1&&(h===!1&&v===null&&(v=ro(!1,r)),u.value=!0,wl.push(e.proxy),Eo(f))}function d(C){if(i.value=!1,C!==!0)return;Kn(f),u.value=!1;const T=wl.indexOf(e.proxy);T!==-1&&wl.splice(T,1),v!==null&&(uo(v),v=null)}return io(()=>{d(!0)}),e.proxy.__qPortal=!0,bl(e.proxy,"contentEl",()=>l.value),{showPortal:w,hidePortal:d,portalIsActive:u,portalIsAccessible:i,renderPortal:()=>h===!0?n():u.value===!0?[y(so,{to:v},y(oi,n))]:void 0}}const Ll={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function $n(e,l=()=>{},n=()=>{}){return{transitionProps:_(()=>{const r=`q-transition--${e.transitionShow||l()}`,u=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${r}-enter-from`,enterActiveClass:`${r}-enter-active`,enterToClass:`${r}-enter-to`,leaveFromClass:`${u}-leave-from`,leaveActiveClass:`${u}-leave-active`,leaveToClass:`${u}-leave-to`}}),transitionStyle:_(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}const dl=[];let kl;function si(e){kl=e.keyCode===27}function ri(){kl===!0&&(kl=!1)}function ui(e){kl===!0&&(kl=!1,Hl(e,27)===!0&&dl[dl.length-1](e))}function Ra(e){window[e]("keydown",si),window[e]("blur",ri),window[e]("keyup",ui),kl=!1}function Oa(e){al.is.desktop===!0&&(dl.push(e),dl.length===1&&Ra("addEventListener"))}function nn(e){const l=dl.indexOf(e);l!==-1&&(dl.splice(l,1),dl.length===0&&Ra("removeEventListener"))}const cl=[];function La(e){cl[cl.length-1](e)}function Ba(e){al.is.desktop===!0&&(cl.push(e),cl.length===1&&document.body.addEventListener("focusin",La))}function Vn(e){const l=cl.indexOf(e);l!==-1&&(cl.splice(l,1),cl.length===0&&document.body.removeEventListener("focusin",La))}const{notPassiveCapture:an}=Bl,fl=[];function on(e){const l=e.target;if(l===void 0||l.nodeType===8||l.classList.contains("no-pointer-events")===!0)return;let n=wl.length-1;for(;n>=0;){const r=wl[n].$;if(r.type.name==="QTooltip"){n--;continue}if(r.type.name!=="QDialog")break;if(r.props.seamless!==!0)return;n--}for(let r=fl.length-1;r>=0;r--){const u=fl[r];if((u.anchorEl.value===null||u.anchorEl.value.contains(l)===!1)&&(l===document.body||u.innerRef.value!==null&&u.innerRef.value.contains(l)===!1))e.qClickOutside=!0,u.onClickOutside(e);else return}}function Fa(e){fl.push(e),fl.length===1&&(document.addEventListener("mousedown",on,an),document.addEventListener("touchstart",on,an))}function sn(e){const l=fl.findIndex(n=>n===e);l!==-1&&(fl.splice(l,1),fl.length===0&&(document.removeEventListener("mousedown",on,an),document.removeEventListener("touchstart",on,an)))}let Xn,Zn;function rn(e){const l=e.split(" ");return l.length!==2?!1:["top","center","bottom"].includes(l[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(l[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function $a(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Mn={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Mn[`${e}#ltr`]=e,Mn[`${e}#rtl`]=e});function un(e,l){const n=e.split(" ");return{vertical:n[0],horizontal:Mn[`${n[1]}#${l===!0?"rtl":"ltr"}`]}}function di(e,l){let{top:n,left:r,right:u,bottom:i,width:v,height:f}=e.getBoundingClientRect();return l!==void 0&&(n-=l[1],r-=l[0],i+=l[1],u+=l[0],v+=l[0],f+=l[1]),{top:n,bottom:i,height:f,left:r,right:u,width:v,middle:r+(u-r)/2,center:n+(i-n)/2}}function ci(e,l,n){let{top:r,left:u}=e.getBoundingClientRect();return r+=l.top,u+=l.left,n!==void 0&&(r+=n[1],u+=n[0]),{top:r,bottom:r+1,height:1,left:u,right:u+1,width:1,middle:u,center:r}}function fi(e,l){return{top:0,center:l/2,bottom:l,left:0,middle:e/2,right:e}}function ea(e,l,n,r){return{top:e[n.vertical]-l[r.vertical],left:e[n.horizontal]-l[r.horizontal]}}function Hn(e,l=0){if(e.targetEl===null||e.anchorEl===null||l>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Hn(e,l+1)},10);return}const{targetEl:n,offset:r,anchorEl:u,anchorOrigin:i,selfOrigin:v,absoluteOffset:f,fit:h,cover:w,maxHeight:d,maxWidth:C}=e;if(al.is.ios===!0&&window.visualViewport!==void 0){const he=document.body.style,{offsetLeft:ee,offsetTop:g}=window.visualViewport;ee!==Xn&&(he.setProperty("--q-pe-left",ee+"px"),Xn=ee),g!==Zn&&(he.setProperty("--q-pe-top",g+"px"),Zn=g)}const{scrollLeft:T,scrollTop:q}=n,A=f===void 0?di(u,w===!0?[0,0]:r):ci(u,f,r);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:C,maxHeight:d,visibility:"visible"});const{offsetWidth:O,offsetHeight:x}=n,{elWidth:P,elHeight:pe}=h===!0||w===!0?{elWidth:Math.max(A.width,O),elHeight:w===!0?Math.max(A.height,x):x}:{elWidth:O,elHeight:x};let U={maxWidth:C,maxHeight:d};(h===!0||w===!0)&&(U.minWidth=A.width+"px",w===!0&&(U.minHeight=A.height+"px")),Object.assign(n.style,U);const I=fi(P,pe);let Y=ea(A,I,i,v);if(f===void 0||r===void 0)yn(Y,A,I,i,v);else{const{top:he,left:ee}=Y;yn(Y,A,I,i,v);let g=!1;if(Y.top!==he){g=!0;const p=2*r[1];A.center=A.top-=p,A.bottom-=p+2}if(Y.left!==ee){g=!0;const p=2*r[0];A.middle=A.left-=p,A.right-=p+2}g===!0&&(Y=ea(A,I,i,v),yn(Y,A,I,i,v))}U={top:Y.top+"px",left:Y.left+"px"},Y.maxHeight!==void 0&&(U.maxHeight=Y.maxHeight+"px",A.height>Y.maxHeight&&(U.minHeight=U.maxHeight)),Y.maxWidth!==void 0&&(U.maxWidth=Y.maxWidth+"px",A.width>Y.maxWidth&&(U.minWidth=U.maxWidth)),Object.assign(n.style,U),n.scrollTop!==q&&(n.scrollTop=q),n.scrollLeft!==T&&(n.scrollLeft=T)}function yn(e,l,n,r,u){const i=n.bottom,v=n.right,f=To(),h=window.innerHeight-f,w=document.body.clientWidth;if(e.top<0||e.top+i>h)if(u.vertical==="center")e.top=l[r.vertical]>h/2?Math.max(0,h-i):0,e.maxHeight=Math.min(i,h);else if(l[r.vertical]>h/2){const d=Math.min(h,r.vertical==="center"?l.center:r.vertical===u.vertical?l.bottom:l.top);e.maxHeight=Math.min(i,d),e.top=Math.max(0,d-i)}else e.top=Math.max(0,r.vertical==="center"?l.center:r.vertical===u.vertical?l.top:l.bottom),e.maxHeight=Math.min(i,h-e.top);if(e.left<0||e.left+v>w)if(e.maxWidth=Math.min(v,w),u.horizontal==="middle")e.left=l[r.horizontal]>w/2?Math.max(0,w-v):0;else if(l[r.horizontal]>w/2){const d=Math.min(w,r.horizontal==="middle"?l.middle:r.horizontal===u.horizontal?l.right:l.left);e.maxWidth=Math.min(v,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,r.horizontal==="middle"?l.middle:r.horizontal===u.horizontal?l.left:l.right),e.maxWidth=Math.min(v,w-e.left)}const vi=vt({name:"QMenu",inheritAttrs:!1,props:{...li,...fn,...el,...Ll,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:rn},self:{type:String,validator:rn},offset:{type:Array,validator:$a},scrollTarget:Rn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...cn,"click","escapeKey"],setup(e,{slots:l,emit:n,attrs:r}){let u=null,i,v,f;const h=pt(),{proxy:w}=h,{$q:d}=w,C=F(null),T=F(!1),q=_(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),A=tl(e,d),{registerTick:O,removeTick:x}=_l(),{registerTimeout:P}=xl(),{transitionProps:pe,transitionStyle:U}=$n(e),{localScrollTarget:I,changeScrollEvent:Y,unconfigureScrollTarget:he}=Ia(e,L),{anchorEl:ee,canShow:g}=Pa({showing:T}),{hide:p}=vn({showing:T,canShow:g,handleShow:Ne,handleHide:S,hideOnRouteChange:q,processOnMount:!0}),{showPortal:V,hidePortal:N,renderPortal:j}=Fn(h,C,te,"menu"),re={anchorEl:ee,innerRef:C,onClickOutside(R){if(e.persistent!==!0&&T.value===!0)return p(R),(R.type==="touchstart"||R.target.classList.contains("q-dialog__backdrop"))&&Et(R),!0}},Q=_(()=>un(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ue=_(()=>e.cover===!0?Q.value:un(e.self||"top start",d.lang.rtl)),_e=_(()=>(e.square===!0?" q-menu--square":"")+(A.value===!0?" q-menu--dark q-dark":"")),$=_(()=>e.autoClose===!0?{onClick:de}:{}),ce=_(()=>T.value===!0&&e.persistent!==!0);Qe(ce,R=>{R===!0?(Oa(H),Fa(re)):(nn(H),sn(re))});function J(){Va(()=>{let R=C.value;R&&R.contains(document.activeElement)!==!0&&(R=R.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||R.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||R.querySelector("[autofocus], [data-autofocus]")||R,R.focus({preventScroll:!0}))})}function Ne(R){if(u=e.noRefocus===!1?document.activeElement:null,Ba(ve),V(),L(),i=void 0,R!==void 0&&(e.touchPosition||e.contextMenu)){const ke=Dn(R);if(ke.left!==void 0){const{top:K,left:Te}=ee.value.getBoundingClientRect();i={left:ke.left-Te,top:ke.top-K}}}v===void 0&&(v=Qe(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,W)),e.noFocus!==!0&&document.activeElement.blur(),O(()=>{W(),e.noFocus!==!0&&J()}),P(()=>{d.platform.is.ios===!0&&(f=e.autoClose,C.value.click()),W(),V(!0),n("show",R)},e.transitionDuration)}function S(R){x(),N(),E(!0),u!==null&&(R===void 0||R.qClickOutside!==!0)&&(((R?.type.indexOf("key")===0?u.closest('[tabindex]:not([tabindex^="-"])'):void 0)||u).focus(),u=null),P(()=>{N(!0),n("hide",R)},e.transitionDuration)}function E(R){i=void 0,v!==void 0&&(v(),v=void 0),(R===!0||T.value===!0)&&(Vn(ve),he(),sn(re),nn(H)),R!==!0&&(u=null)}function L(){(ee.value!==null||e.scrollTarget!==void 0)&&(I.value=On(ee.value,e.scrollTarget),Y(I.value,W))}function de(R){f!==!0?(Ea(w,R),n("click",R)):f=!1}function ve(R){ce.value===!0&&e.noFocus!==!0&&wa(C.value,R.target)!==!0&&J()}function H(R){e.noEscDismiss!==!0&&(n("escapeKey"),p(R))}function W(){Hn({targetEl:C.value,offset:e.offset,anchorEl:ee.value,anchorOrigin:Q.value,selfOrigin:ue.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function te(){return y(Yt,pe.value,()=>T.value===!0?y("div",{role:"menu",...r,ref:C,tabindex:-1,class:["q-menu q-position-engine scroll"+_e.value,r.class],style:[r.style,U.value],...$.value},wt(l.default)):null)}return Mt(E),Object.assign(w,{focus:J,updatePosition:W}),j}});let Yl=0;const mi={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},ta={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Rl=vt({name:"QDialog",inheritAttrs:!1,props:{...fn,...Ll,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...cn,"shake","click","escapeKey"],setup(e,{slots:l,emit:n,attrs:r}){const u=pt(),i=F(null),v=F(!1),f=F(!1);let h=null,w=null,d,C;const T=_(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:q}=Mo(),{registerTimeout:A}=xl(),{registerTick:O,removeTick:x}=_l(),{transitionProps:P,transitionStyle:pe}=$n(e,()=>ta[e.position][0],()=>ta[e.position][1]),U=_(()=>pe.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:I,hidePortal:Y,portalIsAccessible:he,renderPortal:ee}=Fn(u,i,ve,"dialog"),{hide:g}=vn({showing:v,hideOnRouteChange:T,handleShow:ue,handleHide:_e,processOnMount:!0}),{addToHistory:p,removeFromHistory:V}=Vo(v,g,T),N=_(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${mi[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),j=_(()=>v.value===!0&&e.seamless!==!0),re=_(()=>e.autoClose===!0?{onClick:E}:{}),Q=_(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${j.value===!0?"modal":"seamless"}`,r.class]);Qe(()=>e.maximized,H=>{v.value===!0&&S(H)}),Qe(j,H=>{q(H),H===!0?(Ba(de),Oa(J)):(Vn(de),nn(J))});function ue(H){p(),w=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,S(e.maximized),I(),f.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),O($)):x(),A(()=>{if(u.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:W,bottom:te}=document.activeElement.getBoundingClientRect(),{innerHeight:R}=window,ke=window.visualViewport!==void 0?window.visualViewport.height:R;W>0&&te>ke/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ke,te>=R?1/0:Math.ceil(document.scrollingElement.scrollTop+te-ke/2))),document.activeElement.scrollIntoView()}C=!0,i.value.click(),C=!1}I(!0),f.value=!1,n("show",H)},e.transitionDuration)}function _e(H){x(),V(),Ne(!0),f.value=!0,Y(),w!==null&&(((H?.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),A(()=>{Y(!0),f.value=!1,n("hide",H)},e.transitionDuration)}function $(H){Va(()=>{let W=i.value;if(W!==null){if(H!==void 0){const te=W.querySelector(H);if(te!==null){te.focus({preventScroll:!0});return}}W.contains(document.activeElement)!==!0&&(W=W.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||W.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||W.querySelector("[autofocus], [data-autofocus]")||W,W.focus({preventScroll:!0}))}})}function ce(H){H&&typeof H.focus=="function"?H.focus({preventScroll:!0}):$(),n("shake");const W=i.value;W!==null&&(W.classList.remove("q-animate--scale"),W.classList.add("q-animate--scale"),h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,i.value!==null&&(W.classList.remove("q-animate--scale"),$())},170))}function J(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&ce():(n("escapeKey"),g()))}function Ne(H){h!==null&&(clearTimeout(h),h=null),(H===!0||v.value===!0)&&(S(!1),e.seamless!==!0&&(q(!1),Vn(de),nn(J))),H!==!0&&(w=null)}function S(H){H===!0?d!==!0&&(Yl<1&&document.body.classList.add("q-body--dialog"),Yl++,d=!0):d===!0&&(Yl<2&&document.body.classList.remove("q-body--dialog"),Yl--,d=!1)}function E(H){C!==!0&&(g(H),n("click",H))}function L(H){e.persistent!==!0&&e.noBackdropDismiss!==!0?g(H):e.noShake!==!0&&ce()}function de(H){e.allowFocusOutside!==!0&&he.value===!0&&wa(i.value,H.target)!==!0&&$('[tabindex]:not([tabindex="-1"])')}Object.assign(u.proxy,{focus:$,shake:ce,__updateRefocusTarget(H){w=H||null}}),Mt(Ne);function ve(){return y("div",{role:"dialog","aria-modal":j.value===!0?"true":"false",...r,class:Q.value},[y(Yt,{name:"q-transition--fade",appear:!0},()=>j.value===!0?y("div",{class:"q-dialog__backdrop fixed-full",style:U.value,"aria-hidden":"true",tabindex:-1,onClick:L}):null),y(Yt,P.value,()=>v.value===!0?y("div",{ref:i,class:N.value,style:pe.value,tabindex:-1,...re.value},wt(l.default)):null)])}return ee}}),Ut=1e3,gi=["start","center","end","start-force","center-force","end-force"],Ha=Array.prototype.filter,hi=window.getComputedStyle(document.body).overflowAnchor===void 0?Sa:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Ha.call(n,u=>u.dataset&&u.dataset.qVsAnchor!==void 0).forEach(u=>{delete u.dataset.qVsAnchor});const r=n[l];r?.dataset&&(r.dataset.qVsAnchor="")}))};function Sl(e,l){return e+l}function pn(e,l,n,r,u,i,v,f){const h=e===window?document.scrollingElement||document.documentElement:e,w=u===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-v-f,scrollMaxSize:0,offsetStart:-v,offsetEnd:-f};if(u===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=h.scrollLeft,d.scrollViewSize+=h.clientWidth),d.scrollMaxSize=h.scrollWidth,i===!0&&(d.scrollStart=(Fl===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=h.scrollTop,d.scrollViewSize+=h.clientHeight),d.scrollMaxSize=h.scrollHeight),n!==null)for(let C=n.previousElementSibling;C!==null;C=C.previousElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=C[w]);if(r!==null)for(let C=r.nextElementSibling;C!==null;C=C.nextElementSibling)C.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=C[w]);if(l!==e){const C=h.getBoundingClientRect(),T=l.getBoundingClientRect();u===!0?(d.offsetStart+=T.left-C.left,d.offsetEnd-=T.width):(d.offsetStart+=T.top-C.top,d.offsetEnd-=T.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function la(e,l,n,r){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(r===!0&&(l=(Fl===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(r===!0&&(l=(Fl===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function Ml(e,l,n,r){if(n>=r)return 0;const u=l.length,i=Math.floor(n/Ut),v=Math.floor((r-1)/Ut)+1;let f=e.slice(i,v).reduce(Sl,0);return n%Ut!==0&&(f-=l.slice(i*Ut,n).reduce(Sl,0)),r%Ut!==0&&r!==u&&(f-=l.slice(r,v*Ut).reduce(Sl,0)),f}const za={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Na=Object.keys(za),An={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...za};function ja({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:r}){const u=pt(),{props:i,emit:v,proxy:f}=u,{$q:h}=f;let w,d,C,T=[],q;const A=F(0),O=F(0),x=F({}),P=F(null),pe=F(null),U=F(null),I=F({from:0,to:0}),Y=_(()=>i.tableColspan!==void 0?i.tableColspan:100);r===void 0&&(r=_(()=>i.virtualScrollItemSize));const he=_(()=>r.value+";"+i.virtualScrollHorizontal),ee=_(()=>he.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);Qe(ee,()=>{_e()}),Qe(he,g);function g(){ue(d,!0)}function p(S){ue(S===void 0?d:S)}function V(S,E){const L=l();if(L==null||L.nodeType===8)return;const de=pn(L,n(),P.value,pe.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);C!==de.scrollViewSize&&_e(de.scrollViewSize),j(L,de,Math.min(e.value-1,Math.max(0,parseInt(S,10)||0)),0,gi.indexOf(E)!==-1?E:d!==-1&&S>d?"end":"start")}function N(){const S=l();if(S==null||S.nodeType===8)return;const E=pn(S,n(),P.value,pe.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),L=e.value-1,de=E.scrollMaxSize-E.offsetStart-E.offsetEnd-O.value;if(w===E.scrollStart)return;if(E.scrollMaxSize<=0){j(S,E,0,0);return}C!==E.scrollViewSize&&_e(E.scrollViewSize),re(I.value.from);const ve=Math.floor(E.scrollMaxSize-Math.max(E.scrollViewSize,E.offsetEnd)-Math.min(q[L],E.scrollViewSize/2));if(ve>0&&Math.ceil(E.scrollStart)>=ve){j(S,E,L,E.scrollMaxSize-E.offsetEnd-T.reduce(Sl,0));return}let H=0,W=E.scrollStart-E.offsetStart,te=W;if(W<=de&&W+E.scrollViewSize>=A.value)W-=A.value,H=I.value.from,te=W;else for(let R=0;W>=T[R]&&H<L;R++)W-=T[R],H+=Ut;for(;W>0&&H<L;)W-=q[H],W>-E.scrollViewSize?(H++,te=W):te=q[H]+W;j(S,E,H,te)}function j(S,E,L,de,ve){const H=typeof ve=="string"&&ve.indexOf("-force")!==-1,W=H===!0?ve.replace("-force",""):ve,te=W!==void 0?W:"start";let R=Math.max(0,L-x.value[te]),ke=R+x.value.total;ke>e.value&&(ke=e.value,R=Math.max(0,ke-x.value.total)),w=E.scrollStart;const K=R!==I.value.from||ke!==I.value.to;if(K===!1&&W===void 0){ce(L);return}const{activeElement:Te}=document,Le=U.value;K===!0&&Le!==null&&Le!==Te&&Le.contains(Te)===!0&&(Le.addEventListener("focusout",Q),setTimeout(()=>{Le?.removeEventListener("focusout",Q)})),hi(Le,L-R);const Ae=W!==void 0?q.slice(R,L).reduce(Sl,0):0;if(K===!0){const Fe=ke>=I.value.from&&R<=I.value.to?I.value.to:ke;I.value={from:R,to:Fe},A.value=Ml(T,q,0,R),O.value=Ml(T,q,ke,e.value),requestAnimationFrame(()=>{I.value.to!==ke&&w===E.scrollStart&&(I.value={from:I.value.from,to:ke},O.value=Ml(T,q,ke,e.value))})}requestAnimationFrame(()=>{if(w!==E.scrollStart)return;K===!0&&re(R);const Fe=q.slice(R,L).reduce(Sl,0),Ce=Fe+E.offsetStart+A.value,Xe=Ce+q[L];let De=Ce+de;if(W!==void 0){const Ge=Fe-Ae,mt=E.scrollStart+Ge;De=H!==!0&&mt<Ce&&Xe<mt+E.scrollViewSize?mt:W==="end"?Xe-E.scrollViewSize:Ce-(W==="start"?0:Math.round((E.scrollViewSize-q[L])/2))}w=De,la(S,De,i.virtualScrollHorizontal,h.lang.rtl),ce(L)})}function re(S){const E=U.value;if(E){const L=Ha.call(E.children,R=>R.classList&&R.classList.contains("q-virtual-scroll--skip")===!1),de=L.length,ve=i.virtualScrollHorizontal===!0?R=>R.getBoundingClientRect().width:R=>R.offsetHeight;let H=S,W,te;for(let R=0;R<de;){for(W=ve(L[R]),R++;R<de&&L[R].classList.contains("q-virtual-scroll--with-prev")===!0;)W+=ve(L[R]),R++;te=W-q[H],te!==0&&(q[H]+=te,T[Math.floor(H/Ut)]+=te),H++}}}function Q(){U.value?.focus()}function ue(S,E){const L=1*r.value;(E===!0||Array.isArray(q)===!1)&&(q=[]);const de=q.length;q.length=e.value;for(let H=e.value-1;H>=de;H--)q[H]=L;const ve=Math.floor((e.value-1)/Ut);T=[];for(let H=0;H<=ve;H++){let W=0;const te=Math.min((H+1)*Ut,e.value);for(let R=H*Ut;R<te;R++)W+=q[R];T.push(W)}d=-1,w=void 0,A.value=Ml(T,q,0,I.value.from),O.value=Ml(T,q,I.value.to,e.value),S>=0?(re(I.value.from),It(()=>{V(S)})):J()}function _e(S){if(S===void 0&&typeof window<"u"){const W=l();W!=null&&W.nodeType!==8&&(S=pn(W,n(),P.value,pe.value,i.virtualScrollHorizontal,h.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}C=S;const E=parseFloat(i.virtualScrollSliceRatioBefore)||0,L=parseFloat(i.virtualScrollSliceRatioAfter)||0,de=1+E+L,ve=S===void 0||S<=0?1:Math.ceil(S/r.value),H=Math.max(1,ve,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/de));x.value={total:Math.ceil(H*de),start:Math.ceil(H*E),center:Math.ceil(H*(.5+E)),end:Math.ceil(H*(1+E)),view:ve}}function $(S,E){const L=i.virtualScrollHorizontal===!0?"width":"height",de={["--q-virtual-scroll-item-"+L]:r.value+"px"};return[S==="tbody"?y(S,{class:"q-virtual-scroll__padding",key:"before",ref:P},[y("tr",[y("td",{style:{[L]:`${A.value}px`,...de},colspan:Y.value})])]):y(S,{class:"q-virtual-scroll__padding",key:"before",ref:P,style:{[L]:`${A.value}px`,...de}}),y(S,{class:"q-virtual-scroll__content",key:"content",ref:U,tabindex:-1},E.flat()),S==="tbody"?y(S,{class:"q-virtual-scroll__padding",key:"after",ref:pe},[y("tr",[y("td",{style:{[L]:`${O.value}px`,...de},colspan:Y.value})])]):y(S,{class:"q-virtual-scroll__padding",key:"after",ref:pe,style:{[L]:`${O.value}px`,...de}})]}function ce(S){d!==S&&(i.onVirtualScroll!==void 0&&v("virtualScroll",{index:S,from:I.value.from,to:I.value.to-1,direction:S<d?"decrease":"increase",ref:f}),d=S)}_e();const J=co(N,h.platform.is.ios===!0?120:35);En(()=>{_e()});let Ne=!1;return dn(()=>{Ne=!0}),In(()=>{if(Ne!==!0)return;const S=l();w!==void 0&&S!==void 0&&S!==null&&S.nodeType!==8?la(S,w,i.virtualScrollHorizontal,h.lang.rtl):V(d)}),Mt(()=>{J.cancel()}),Object.assign(f,{scrollTo:V,reset:g,refresh:p}),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:x,setVirtualScrollSize:_e,onVirtualScrollEvt:J,localResetVirtualScroll:ue,padVirtualScroll:$,scrollTo:V,reset:g,refresh:p}}const na=e=>["add","add-unique","toggle"].includes(e),bi=".*+?^${}()|[]\\",yi=Object.keys(Ln);function _n(e,l){if(typeof e=="function")return e;const n=e!==void 0?e:l;return r=>r!==null&&typeof r=="object"&&n in r?r[n]:r}const Nt=vt({name:"QSelect",inheritAttrs:!1,props:{...An,...Bn,...Ln,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:na},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:An.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...qa,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:r}=pt(),{$q:u}=r,i=F(!1),v=F(!1),f=F(-1),h=F(""),w=F(!1),d=F(!1);let C=null,T=null,q,A,O,x=null,P,pe,U,I;const Y=F(null),he=F(null),ee=F(null),g=F(null),p=F(null),V=Ro(e),N=Oo(D),j=_(()=>Array.isArray(e.options)?e.options.length:0),re=_(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:ue,localResetVirtualScroll:_e,padVirtualScroll:$,onVirtualScrollEvt:ce,scrollTo:J,setVirtualScrollSize:Ne}=ja({virtualScrollLength:j,getVirtualScrollTarget:Tt,getVirtualScrollEl:$t,virtualScrollItemSizeComputed:re}),S=Ta(),E=_(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,a=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const B=e.mapOptions===!0&&q!==void 0?q:[],me=a.map(fe=>St(fe,B));return e.modelValue===null&&t===!0?me.filter(fe=>fe!==null):me}return a}),L=_(()=>{const t={};return yi.forEach(a=>{const B=e[a];B!==void 0&&(t[a]=B)}),t}),de=_(()=>e.optionsDark===null?S.isDark.value:e.optionsDark),ve=_(()=>Gn(E.value)),H=_(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||E.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),W=_(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),te=_(()=>j.value===0),R=_(()=>E.value.map(t=>z.value(t)).join(", ")),ke=_(()=>e.displayValue!==void 0?e.displayValue:R.value),K=_(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),Te=_(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||E.value.some(K.value))),Le=_(()=>S.focused.value===!0?e.tabindex:-1),Ae=_(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${S.targetUid.value}_lb`};return f.value>=0&&(t["aria-activedescendant"]=`${S.targetUid.value}_${f.value}`),t}),Fe=_(()=>({id:`${S.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ce=_(()=>E.value.map((t,a)=>({index:a,opt:t,html:K.value(t),selected:!0,removeAtIndex:qe,toggleOption:Ze,tabindex:Le.value}))),Xe=_(()=>{if(j.value===0)return[];const{from:t,to:a}=Q.value;return e.options.slice(t,a).map((B,me)=>{const fe=ne.value(B)===!0,Me=yt(B)===!0,we=t+me,$e={clickable:!0,active:Me,activeClass:mt.value,manualFocus:!0,focused:!1,disable:fe,tabindex:-1,dense:e.optionsDense,dark:de.value,role:"option","aria-selected":Me===!0?"true":"false",id:`${S.targetUid.value}_${we}`,onClick:()=>{Ze(B)}};return fe!==!0&&(f.value===we&&($e.focused=!0),u.platform.is.desktop===!0&&($e.onMousemove=()=>{i.value===!0&&at(we)})),{index:we,opt:B,html:K.value(B),label:z.value(B),selected:$e.active,focused:$e.focused,toggleOption:Ze,setOptionIndex:at,itemProps:$e}})}),De=_(()=>e.dropdownIcon!==void 0?e.dropdownIcon:u.iconSet.arrow.dropdown),Ge=_(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),mt=_(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ot=_(()=>_n(e.optionValue,"value")),z=_(()=>_n(e.optionLabel,"label")),ne=_(()=>_n(e.optionDisable,"disable")),ie=_(()=>E.value.map(ot.value)),je=_(()=>{const t={onInput:D,onChange:N,onKeydown:xt,onKeyup:Qt,onKeypress:Dt,onFocus:_t,onClick(a){A===!0&&vl(a)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=N,t});Qe(E,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&S.innerLoading.value!==!0&&(v.value!==!0&&i.value!==!0||ve.value!==!0)&&(O!==!0&&Pt(),(v.value===!0||i.value===!0)&&ye(""))},{immediate:!0}),Qe(()=>e.fillInput,Pt),Qe(i,ql),Qe(j,mn);function Pe(t){return e.emitValue===!0?ot.value(t):t}function be(t){if(t!==-1&&t<E.value.length)if(e.multiple===!0){const a=e.modelValue.slice();n("remove",{index:t,value:a.splice(t,1)[0]}),n("update:modelValue",a)}else n("update:modelValue",null)}function qe(t){be(t),S.focus()}function lt(t,a){const B=Pe(t);if(e.multiple!==!0){e.fillInput===!0&&xe(z.value(t),!0,!0),n("update:modelValue",B);return}if(E.value.length===0){n("add",{index:0,value:B}),n("update:modelValue",e.multiple===!0?[B]:B);return}if(a===!0&&yt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const me=e.modelValue.slice();n("add",{index:me.length,value:B}),me.push(B),n("update:modelValue",me)}function Ze(t,a){if(S.editable.value!==!0||t===void 0||ne.value(t)===!0)return;const B=ot.value(t);if(e.multiple!==!0){a!==!0&&(xe(e.fillInput===!0?z.value(t):"",!0,!0),et()),he.value?.focus(),(E.value.length===0||Vl(ot.value(E.value[0]),B)!==!0)&&n("update:modelValue",e.emitValue===!0?B:t);return}if((A!==!0||w.value===!0)&&S.focus(),_t(),E.value.length===0){const Me=e.emitValue===!0?B:t;n("add",{index:0,value:Me}),n("update:modelValue",e.multiple===!0?[Me]:Me);return}const me=e.modelValue.slice(),fe=ie.value.findIndex(Me=>Vl(Me,B));if(fe!==-1)n("remove",{index:fe,value:me.splice(fe,1)[0]});else{if(e.maxValues!==void 0&&me.length>=e.maxValues)return;const Me=e.emitValue===!0?B:t;n("add",{index:me.length,value:Me}),me.push(Me)}n("update:modelValue",me)}function at(t){if(u.platform.is.desktop!==!0)return;const a=t!==-1&&t<j.value?t:-1;f.value!==a&&(f.value=a)}function Ue(t=1,a){if(i.value===!0){let B=f.value;do B=Yn(B+t,-1,j.value-1);while(B!==-1&&B!==f.value&&ne.value(e.options[B])===!0);f.value!==B&&(at(B),J(B),a!==!0&&e.useInput===!0&&e.fillInput===!0&&Z(B>=0?z.value(e.options[B]):P,!0))}}function St(t,a){const B=me=>Vl(ot.value(me),t);return e.options.find(B)||a.find(B)||t}function yt(t){const a=ot.value(t);return ie.value.find(B=>Vl(B,a))!==void 0}function _t(t){e.useInput===!0&&he.value!==null&&(t===void 0||he.value===t.target&&t.target.value===R.value)&&he.value.select()}function Rt(t){Hl(t,27)===!0&&i.value===!0&&(vl(t),et(),Pt()),n("keyup",t)}function Qt(t){const{value:a}=t.target;if(t.keyCode!==void 0){Rt(t);return}if(t.target.value="",C!==null&&(clearTimeout(C),C=null),T!==null&&(clearTimeout(T),T=null),Pt(),typeof a=="string"&&a.length!==0){const B=a.toLocaleLowerCase(),me=Me=>{const we=e.options.find($e=>String(Me.value($e)).toLocaleLowerCase()===B);return we===void 0?!1:(E.value.indexOf(we)===-1?Ze(we):et(),!0)},fe=Me=>{me(ot)!==!0&&Me!==!0&&me(z)!==!0&&ye(a,!0,()=>fe(!0))};fe()}else S.clearValue(t)}function Dt(t){n("keypress",t)}function xt(t){if(n("keydown",t),ba(t)===!0)return;const a=h.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),B=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||a===!0);if(t.keyCode===27){Ol(t);return}if(t.keyCode===9&&B===!1){se();return}if(t.target===void 0||t.target.id!==S.targetUid.value||S.editable.value!==!0)return;if(t.keyCode===40&&S.innerLoading.value!==!0&&i.value===!1){Et(t),Ie();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&h.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?be(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof h.value!="string"||h.value.length===0)&&(Et(t),f.value=-1,Ue(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&ue.value!==void 0&&(Et(t),f.value=Math.max(-1,Math.min(j.value,f.value+(t.keyCode===33?-1:1)*ue.value.view)),Ue(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Et(t),Ue(t.keyCode===38?-1:1,e.multiple));const me=j.value;if((U===void 0||I<Date.now())&&(U=""),me>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||U.length!==0)){i.value!==!0&&Ie(t);const fe=t.key.toLocaleLowerCase(),Me=U.length===1&&U[0]===fe;I=Date.now()+1500,Me===!1&&(Et(t),U+=fe);const we=new RegExp("^"+U.split("").map(nt=>bi.indexOf(nt)!==-1?"\\"+nt:nt).join(".*"),"i");let $e=f.value;if(Me===!0||$e<0||we.test(z.value(e.options[$e]))!==!0)do $e=Yn($e+1,-1,me-1);while($e!==f.value&&(ne.value(e.options[$e])===!0||we.test(z.value(e.options[$e]))!==!0));f.value!==$e&&It(()=>{at($e),J($e),$e>=0&&e.useInput===!0&&e.fillInput===!0&&Z(z.value(e.options[$e]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||U!=="")&&(t.keyCode!==9||B===!1))){if(t.keyCode!==9&&Et(t),f.value!==-1&&f.value<me){Ze(e.options[f.value]);return}if(a===!0){const fe=(Me,we)=>{if(we){if(na(we)!==!0)return}else we=e.newValueMode;if(xe("",e.multiple!==!0,!0),Me==null)return;(we==="toggle"?Ze:lt)(Me,we==="add-unique"),e.multiple!==!0&&(he.value?.focus(),et())};if(e.onNewValue!==void 0?n("newValue",h.value,fe):fe(h.value),e.multiple!==!0)return}i.value===!0?se():S.innerLoading.value!==!0&&Ie()}}function $t(){return A===!0?p.value:ee.value!==null&&ee.value.contentEl!==null?ee.value.contentEl:void 0}function Tt(){return $t()}function Gt(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ce.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ce.value.map((t,a)=>y(El,{key:"option-"+a,removable:S.editable.value===!0&&ne.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:Le.value,onRemove(){t.removeAtIndex(a)}},()=>y("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:z.value(t.opt)}))):[y("span",{class:"ellipsis",[Te.value===!0?"innerHTML":"textContent"]:ke.value})]}function At(){if(te.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:h.value}):void 0;const t=l.option!==void 0?l.option:B=>y(qt,{key:B.index,...B.itemProps},()=>y(tt,()=>y(Vt,()=>y("span",{[B.html===!0?"innerHTML":"textContent"]:B.label}))));let a=$("div",Xe.value.map(t));return l["before-options"]!==void 0&&(a=l["before-options"]().concat(a)),Cl(l["after-options"],a)}function Bt(t,a){const B=a===!0?{...Ae.value,...S.splitAttrs.attributes.value}:void 0,me={ref:a===!0?he:void 0,key:"i_t",class:H.value,style:e.inputStyle,value:h.value!==void 0?h.value:"",type:"search",...B,id:a===!0?S.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...je.value};return t!==!0&&A===!0&&(Array.isArray(me.class)===!0?me.class=[...me.class,"no-pointer-events"]:me.class+=" no-pointer-events"),y("input",me)}function D(t){C!==null&&(clearTimeout(C),C=null),T!==null&&(clearTimeout(T),T=null),!(t&&t.target&&t.target.qComposing===!0)&&(Z(t.target.value||""),O=!0,P=h.value,S.focused.value!==!0&&(A!==!0||w.value===!0)&&S.focus(),e.onFilter!==void 0&&(C=setTimeout(()=>{C=null,ye(h.value)},e.inputDebounce)))}function Z(t,a){h.value!==t&&(h.value=t,a===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):T=setTimeout(()=>{T=null,n("inputValue",t)},e.inputDebounce))}function xe(t,a,B){O=B!==!0,e.useInput===!0&&(Z(t,!0),(a===!0||B!==!0)&&(P=t),a!==!0&&ye(t))}function ye(t,a,B){if(e.onFilter===void 0||a!==!0&&S.focused.value!==!0)return;S.innerLoading.value===!0?n("filterAbort"):(S.innerLoading.value=!0,d.value=!0),t!==""&&e.multiple!==!0&&E.value.length!==0&&O!==!0&&t===z.value(E.value[0])&&(t="");const me=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);x!==null&&clearTimeout(x),x=me,n("filter",t,(fe,Me)=>{(a===!0||S.focused.value===!0)&&x===me&&(clearTimeout(x),typeof fe=="function"&&fe(),d.value=!1,It(()=>{S.innerLoading.value=!1,S.editable.value===!0&&(a===!0?i.value===!0&&et():i.value===!0?ql(!0):i.value=!0),typeof Me=="function"&&It(()=>{Me(r)}),typeof B=="function"&&It(()=>{B(r)})}))},()=>{S.focused.value===!0&&x===me&&(clearTimeout(x),S.innerLoading.value=!1,d.value=!1),i.value===!0&&(i.value=!1)})}function Be(){return y(vi,{ref:ee,class:W.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:de.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ge.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Fe.value,onScrollPassive:ce,onBeforeShow:Nl,onBeforeHide:it,onShow:Je},At)}function it(t){jl(t),se()}function Je(){Ne()}function c(t){vl(t),he.value?.focus(),w.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function b(t){vl(t),It(()=>{w.value=!1})}function M(){const t=[y(ti,{class:`col-auto ${S.fieldClass.value}`,...L.value,for:S.targetUid.value,dark:de.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:h.value.length!==0,...S.splitAttrs.listeners.value,onFocus:c,onBlur:b},{...l,rawControl:()=>S.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(y("div",{ref:p,class:W.value+" scroll",style:e.popupContentStyle,...Fe.value,onClick:Ol,onScrollPassive:ce},At())),y(Rl,{ref:g,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:pe,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Nl,onBeforeHide:G,onHide:le,onShow:Ye},()=>y("div",{class:"q-select__dialog"+(de.value===!0?" q-select__dialog--dark q-dark":"")+(w.value===!0?" q-select__dialog--focused":"")},t))}function G(t){jl(t),g.value!==null&&g.value.__updateRefocusTarget(S.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),S.focused.value=!1}function le(t){et(),S.focused.value===!1&&n("blur",t),Pt()}function Ye(){const t=document.activeElement;(t===null||t.id!==S.targetUid.value)&&he.value!==null&&he.value!==t&&he.value.focus(),Ne()}function se(){v.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),S.focused.value===!1&&(x!==null&&(clearTimeout(x),x=null),S.innerLoading.value===!0&&(n("filterAbort"),S.innerLoading.value=!1,d.value=!1)))}function Ie(t){S.editable.value===!0&&(A===!0?(S.onControlFocusin(t),v.value=!0,It(()=>{S.focus()})):S.focus(),e.onFilter!==void 0?ye(h.value):(te.value!==!0||l["no-option"]!==void 0)&&(i.value=!0))}function et(){v.value=!1,se()}function Pt(){e.useInput===!0&&xe(e.multiple!==!0&&e.fillInput===!0&&E.value.length!==0&&z.value(E.value[0])||"",!0,!0)}function ql(t){let a=-1;if(t===!0){if(E.value.length!==0){const B=ot.value(E.value[0]);a=e.options.findIndex(me=>Vl(ot.value(me),B))}_e(a)}at(a)}function mn(t,a){i.value===!0&&S.innerLoading.value===!1&&(_e(-1,!0),It(()=>{i.value===!0&&S.innerLoading.value===!1&&(t>a?_e():ql(!0))}))}function zl(){v.value===!1&&ee.value!==null&&ee.value.updatePosition()}function Nl(t){t!==void 0&&vl(t),n("popupShow",t),S.hasPopupOpen=!0,S.onControlFocusin(t)}function jl(t){t!==void 0&&vl(t),n("popupHide",t),S.hasPopupOpen=!1,S.onControlFocusout(t)}function k(){A=u.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||te.value===!1:!0),pe=u.platform.is.ios===!0&&A===!0&&e.useInput===!0?"fade":e.transitionShow}return fo(k),vo(zl),k(),Mt(()=>{C!==null&&clearTimeout(C),T!==null&&clearTimeout(T)}),Object.assign(r,{showPopup:Ie,hidePopup:et,removeAtIndex:be,add:lt,toggleOption:Ze,getOptionIndex:()=>f.value,setOptionIndex:at,moveOptionSelection:Ue,filter:ye,updateMenuPosition:zl,updateInputValue:xe,isOptionSelected:yt,getEmittingOptionValue:Pe,isOptionDisabled:(...t)=>ne.value.apply(null,t)===!0,getOptionValue:(...t)=>ot.value.apply(null,t),getOptionLabel:(...t)=>z.value.apply(null,t)}),Object.assign(S,{innerValue:E,fieldClass:_(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Y,targetRef:he,hasValue:ve,showPopup:Ie,floatingLabel:_(()=>e.hideSelected!==!0&&ve.value===!0||typeof h.value=="number"||h.value.length!==0||Gn(e.displayValue)),getControlChild:()=>{if(S.editable.value!==!1&&(v.value===!0||te.value!==!0||l["no-option"]!==void 0))return A===!0?M():Be();S.hasPopupOpen===!0&&(S.hasPopupOpen=!1)},controlEvents:{onFocusin(t){S.onControlFocusin(t)},onFocusout(t){S.onControlFocusout(t,()=>{Pt(),se()})},onClick(t){if(Ol(t),A!==!0&&i.value===!0){se(),he.value?.focus();return}Ie(t)}},getControl:t=>{const a=Gt(),B=t===!0||v.value!==!0||A!==!0;if(e.useInput===!0)a.push(Bt(t,B));else if(S.editable.value===!0){const fe=B===!0?Ae.value:void 0;a.push(y("input",{ref:B===!0?he:void 0,key:"d_t",class:"q-select__focus-target",id:B===!0?S.targetUid.value:void 0,value:ke.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...fe,onKeydown:xt,onKeyup:Rt,onKeypress:Dt})),B===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&a.push(y("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Qt}))}if(V.value!==void 0&&e.disable!==!0&&ie.value.length!==0){const fe=ie.value.map(Me=>y("option",{value:Me,selected:!0}));a.push(y("select",{class:"hidden",name:V.value,multiple:e.multiple},fe))}const me=e.useInput===!0||B!==!0?void 0:S.splitAttrs.attributes.value;return y("div",{class:"q-field__native row items-center",...me,...S.splitAttrs.listeners.value},a)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[y(Re,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:De.value})]:null}),Da(S)}}),ul=vt({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const n=pt(),r=_(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return y("td",{class:r.value},wt(l.default));const u=n.vnode.key,i=(e.props.colsMap!==void 0?e.props.colsMap[u]:null)||e.props.col;if(i===void 0)return;const{row:v}=e.props;return y("td",{class:r.value+i.__tdClass(v),style:i.__tdStyle(v)},wt(l.default))}}}),wn=vt({name:"QTooltip",inheritAttrs:!1,props:{...Aa,...fn,...Ll,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...Ll.transitionShow,default:"jump-down"},transitionHide:{...Ll.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:rn},self:{type:String,default:"top middle",validator:rn},offset:{type:Array,default:()=>[14,14],validator:$a},scrollTarget:Rn,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...cn],setup(e,{slots:l,emit:n,attrs:r}){let u,i;const v=pt(),{proxy:{$q:f}}=v,h=F(null),w=F(!1),d=_(()=>un(e.anchor,f.lang.rtl)),C=_(()=>un(e.self,f.lang.rtl)),T=_(()=>e.persistent!==!0),{registerTick:q,removeTick:A}=_l(),{registerTimeout:O}=xl(),{transitionProps:x,transitionStyle:P}=$n(e),{localScrollTarget:pe,changeScrollEvent:U,unconfigureScrollTarget:I}=Ia(e,Ne),{anchorEl:Y,canShow:he,anchorEvents:ee}=Pa({showing:w,configureAnchorEl:J}),{show:g,hide:p}=vn({showing:w,canShow:he,handleShow:re,handleHide:Q,hideOnRouteChange:T,processOnMount:!0});Object.assign(ee,{delayShow:$,delayHide:ce});const{showPortal:V,hidePortal:N,renderPortal:j}=Fn(v,h,E,"tooltip");if(f.platform.is.mobile===!0){const L={anchorEl:Y,innerRef:h,onClickOutside(ve){return p(ve),ve.target.classList.contains("q-dialog__backdrop")&&Et(ve),!0}},de=_(()=>e.modelValue===null&&e.persistent!==!0&&w.value===!0);Qe(de,ve=>{(ve===!0?Fa:sn)(L)}),Mt(()=>{sn(L)})}function re(L){V(),q(()=>{i=new MutationObserver(()=>_e()),i.observe(h.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),_e(),Ne()}),u===void 0&&(u=Qe(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,_e)),O(()=>{V(!0),n("show",L)},e.transitionDuration)}function Q(L){A(),N(),ue(),O(()=>{N(!0),n("hide",L)},e.transitionDuration)}function ue(){i!==void 0&&(i.disconnect(),i=void 0),u!==void 0&&(u(),u=void 0),I(),pl(ee,"tooltipTemp")}function _e(){Hn({targetEl:h.value,offset:e.offset,anchorEl:Y.value,anchorOrigin:d.value,selfOrigin:C.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function $(L){if(f.platform.is.mobile===!0){ln(),document.body.classList.add("non-selectable");const de=Y.value,ve=["touchmove","touchcancel","touchend","click"].map(H=>[de,H,"delayHide","passiveCapture"]);ol(ee,"tooltipTemp",ve)}O(()=>{g(L)},e.delay)}function ce(L){f.platform.is.mobile===!0&&(pl(ee,"tooltipTemp"),ln(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),O(()=>{p(L)},e.hideDelay)}function J(){if(e.noParentEvent===!0||Y.value===null)return;const L=f.platform.is.mobile===!0?[[Y.value,"touchstart","delayShow","passive"]]:[[Y.value,"mouseenter","delayShow","passive"],[Y.value,"mouseleave","delayHide","passive"]];ol(ee,"anchor",L)}function Ne(){if(Y.value!==null||e.scrollTarget!==void 0){pe.value=On(Y.value,e.scrollTarget);const L=e.noParentEvent===!0?_e:p;U(pe.value,L)}}function S(){return w.value===!0?y("div",{...r,ref:h,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,P.value],role:"tooltip"},wt(l.default)):null}function E(){return y(Yt,x.value,S)}return Mt(ue),Object.assign(v.proxy,{updatePosition:_e}),j}}),pi=vt({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:n}){const r=pt(),{proxy:{$q:u}}=r,i=v=>{n("click",v)};return()=>{if(e.props===void 0)return y("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:i},wt(l.default));let v,f;const h=r.vnode.key;if(h){if(v=e.props.colsMap[h],v===void 0)return}else v=e.props.col;if(v.sortable===!0){const d=v.align==="right"?"unshift":"push";f=mo(l.default,[]),f[d](y(Re,{class:v.__iconClass,name:u.iconSet.table.arrowUp}))}else f=wt(l.default);const w={class:v.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:v.headerStyle,onClick:d=>{v.sortable===!0&&e.props.sort(v),i(d)}};return y("th",w,f)}}}),_i=["horizontal","vertical","cell","none"],Zl=vt({name:"QMarkupTable",props:{...el,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>_i.includes(e)}},setup(e,{slots:l}){const n=pt(),r=tl(e,n.proxy.$q),u=_(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(r.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>y("div",{class:u.value},[y("table",{class:"q-table"},wt(l.default))])}});function Ua(e,l){return y("div",e,[y("table",{class:"q-table"},l)])}const wi={list:yl,table:Zl},Si=["list","table","__qtable"],xi=vt({name:"QVirtualScroll",props:{...An,type:{type:String,default:"list",validator:e=>Si.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Rn},setup(e,{slots:l,attrs:n}){let r;const u=F(null),i=_(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:v,localResetVirtualScroll:f,padVirtualScroll:h,onVirtualScrollEvt:w}=ja({virtualScrollLength:i,getVirtualScrollTarget:A,getVirtualScrollEl:q}),d=_(()=>{if(i.value===0)return[];const pe=(U,I)=>({index:v.value.from+I,item:U});return e.itemsFn===void 0?e.items.slice(v.value.from,v.value.to).map(pe):e.itemsFn(v.value.from,v.value.to-v.value.from).map(pe)}),C=_(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),T=_(()=>e.scrollTarget!==void 0?{}:{tabindex:0});Qe(i,()=>{f()}),Qe(()=>e.scrollTarget,()=>{x(),O()});function q(){return u.value.$el||u.value}function A(){return r}function O(){r=On(q(),e.scrollTarget),r.addEventListener("scroll",w,Bl.passive)}function x(){r!==void 0&&(r.removeEventListener("scroll",w,Bl.passive),r=void 0)}function P(){let pe=h(e.type==="list"?"div":"tbody",d.value.map(l.default));return l.before!==void 0&&(pe=l.before().concat(pe)),Cl(l.after,pe)}return En(()=>{f()}),$l(()=>{O()}),In(()=>{O()}),dn(()=>{x()}),Mt(()=>{x()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ua({ref:u,class:"q-table__middle "+C.value},P()):y(wi[e.type],{...n,ref:u,class:[n.class,C.value],...T.value},P)}}}),ki={xs:2,sm:4,md:6,lg:10,xl:14};function aa(e,l,n){return{transform:l===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const Ci=vt({name:"QLinearProgress",props:{...el,...ya,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:n}=pt(),r=tl(e,n.$q),u=pa(e,ki),i=_(()=>e.indeterminate===!0||e.query===!0),v=_(()=>e.reverse!==e.query),f=_(()=>({...u.value!==null?u.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),h=_(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),w=_(()=>aa(e.buffer!==void 0?e.buffer:1,v.value,n.$q)),d=_(()=>`with${e.instantFeedback===!0?"out":""}-transition`),C=_(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${d.value} q-linear-progress__track--${r.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),T=_(()=>aa(i.value===!0?1:e.value,v.value,n.$q)),q=_(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${d.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),A=_(()=>({width:`${e.value*100}%`})),O=_(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${d.value}`);return()=>{const x=[y("div",{class:C.value,style:w.value}),y("div",{class:q.value,style:T.value})];return e.stripe===!0&&i.value===!1&&x.push(y("div",{class:O.value,style:A.value})),y("div",{class:h.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Cl(l.default,x))}}});let Al=0;const qi={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Di=["update:fullscreen","fullscreen"];function Ti(){const e=pt(),{props:l,emit:n,proxy:r}=e;let u,i,v;const f=F(!1);go(e)===!0&&Qe(()=>r.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&d()}),Qe(()=>l.fullscreen,C=>{f.value!==C&&h()}),Qe(f,C=>{n("update:fullscreen",C),n("fullscreen",C)});function h(){f.value===!0?d():w()}function w(){f.value!==!0&&(f.value=!0,v=r.$el.parentNode,v.replaceChild(i,r.$el),document.body.appendChild(r.$el),Al++,Al===1&&document.body.classList.add("q-body--fullscreen-mixin"),u={handler:d},Nn.add(u))}function d(){f.value===!0&&(u!==void 0&&(Nn.remove(u),u=void 0),v.replaceChild(r.$el,i),f.value=!1,Al=Math.max(0,Al-1),Al===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),r.$el.scrollIntoView!==void 0&&setTimeout(()=>{r.$el.scrollIntoView()})))}return En(()=>{i=document.createElement("span")}),$l(()=>{l.fullscreen===!0&&w()}),Mt(d),Object.assign(r,{toggleFullscreen:h,setFullscreen:w,exitFullscreen:d}),{inFullscreen:f,toggleFullscreen:h}}function Vi(e,l){return new Date(e)-new Date(l)}const Mi={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ai(e,l,n,r){const u=_(()=>{const{sortBy:f}=l.value;return f&&n.value.find(h=>h.name===f)||null}),i=_(()=>e.sortMethod!==void 0?e.sortMethod:(f,h,w)=>{const d=n.value.find(q=>q.name===h);if(d===void 0||d.field===void 0)return f;const C=w===!0?-1:1,T=typeof d.field=="function"?q=>d.field(q):q=>q[d.field];return f.sort((q,A)=>{let O=T(q),x=T(A);return d.rawSort!==void 0?d.rawSort(O,x,q,A)*C:O==null?-1*C:x==null?1*C:d.sort!==void 0?d.sort(O,x,q,A)*C:Tn(O)===!0&&Tn(x)===!0?(O-x)*C:jn(O)===!0&&jn(x)===!0?Vi(O,x)*C:typeof O=="boolean"&&typeof x=="boolean"?(O-x)*C:([O,x]=[O,x].map(P=>(P+"").toLocaleString().toLowerCase()),O<x?-1*C:O===x?0:C)})});function v(f){let h=e.columnSortOrder;if(xa(f)===!0)f.sortOrder&&(h=f.sortOrder),f=f.name;else{const C=n.value.find(T=>T.name===f);C?.sortOrder&&(h=C.sortOrder)}let{sortBy:w,descending:d}=l.value;w!==f?(w=f,d=h==="da"):e.binaryStateSort===!0?d=!d:d===!0?h==="ad"?w=null:d=!1:h==="ad"?d=!0:w=null,r({sortBy:w,descending:d,page:1})}return{columnToSort:u,computedSortMethod:i,sort:v}}const Pi={filter:[String,Object],filterMethod:Function};function Ii(e,l){const n=_(()=>e.filterMethod!==void 0?e.filterMethod:(r,u,i,v)=>{const f=u?u.toLowerCase():"";return r.filter(h=>i.some(w=>{const d=v(w,h)+"";return(d==="undefined"||d==="null"?"":d.toLowerCase()).indexOf(f)!==-1}))});return Qe(()=>e.filter,()=>{It(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function Ei(e,l){for(const n in l)if(l[n]!==e[n])return!1;return!0}function oa(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Ri={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Oi(e,l){const{props:n,emit:r}=e,u=F(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),i=_(()=>{const d=n["onUpdate:pagination"]!==void 0?{...u.value,...n.pagination}:u.value;return oa(d)}),v=_(()=>i.value.rowsNumber!==void 0);function f(d){h({pagination:d,filter:n.filter})}function h(d={}){It(()=>{r("request",{pagination:d.pagination||i.value,filter:d.filter||n.filter,getCellValue:l})})}function w(d,C){const T=oa({...i.value,...d});if(Ei(i.value,T)===!0){v.value===!0&&C===!0&&f(T);return}if(v.value===!0){f(T);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?r("update:pagination",T):u.value=T}return{innerPagination:u,computedPagination:i,isServerSide:v,requestServerInteraction:h,setPagination:w}}function Li(e,l,n,r,u,i){const{props:v,emit:f,proxy:{$q:h}}=e,w=_(()=>r.value===!0?n.value.rowsNumber||0:i.value),d=_(()=>{const{page:I,rowsPerPage:Y}=n.value;return(I-1)*Y}),C=_(()=>{const{page:I,rowsPerPage:Y}=n.value;return I*Y}),T=_(()=>n.value.page===1),q=_(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(w.value/n.value.rowsPerPage))),A=_(()=>C.value===0?!0:n.value.page>=q.value),O=_(()=>(v.rowsPerPageOptions.includes(l.value.rowsPerPage)?v.rowsPerPageOptions:[l.value.rowsPerPage].concat(v.rowsPerPageOptions)).map(Y=>({label:Y===0?h.lang.table.allRows:""+Y,value:Y})));Qe(q,(I,Y)=>{if(I===Y)return;const he=n.value.page;I&&!he?u({page:1}):I<he&&u({page:I})});function x(){u({page:1})}function P(){const{page:I}=n.value;I>1&&u({page:I-1})}function pe(){const{page:I,rowsPerPage:Y}=n.value;C.value>0&&I*Y<w.value&&u({page:I+1})}function U(){u({page:q.value})}return v["onUpdate:pagination"]!==void 0&&f("update:pagination",{...n.value}),{firstRowIndex:d,lastRowIndex:C,isFirstPage:T,isLastPage:A,pagesNumber:q,computedRowsPerPageOptions:O,computedRowsNumber:w,firstPage:x,prevPage:P,nextPage:pe,lastPage:U}}const Bi={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Fi=["update:selected","selection"];function $i(e,l,n,r){const u=_(()=>{const A={};return e.selected.map(r.value).forEach(O=>{A[O]=!0}),A}),i=_(()=>e.selection!=="none"),v=_(()=>e.selection==="single"),f=_(()=>e.selection==="multiple"),h=_(()=>n.value.length!==0&&n.value.every(A=>u.value[r.value(A)]===!0)),w=_(()=>h.value!==!0&&n.value.some(A=>u.value[r.value(A)]===!0)),d=_(()=>e.selected.length);function C(A){return u.value[A]===!0}function T(){l("update:selected",[])}function q(A,O,x,P){l("selection",{rows:O,added:x,keys:A,evt:P});const pe=v.value===!0?x===!0?O:[]:x===!0?e.selected.concat(O):e.selected.filter(U=>A.includes(r.value(U))===!1);l("update:selected",pe)}return{hasSelectionMode:i,singleSelection:v,multipleSelection:f,allRowsSelected:h,someRowsSelected:w,rowsSelectedNumber:d,isRowSelected:C,clearSelection:T,updateSelection:q}}function ia(e){return Array.isArray(e)?e.slice():[]}const Hi={expanded:Array},zi=["update:expanded"];function Ni(e,l){const n=F(ia(e.expanded));Qe(()=>e.expanded,v=>{n.value=ia(v)});function r(v){return n.value.includes(v)}function u(v){e.expanded!==void 0?l("update:expanded",v):n.value=v}function i(v,f){const h=n.value.slice(),w=h.indexOf(v);f===!0?w===-1&&(h.push(v),u(h)):w!==-1&&(h.splice(w,1),u(h))}return{isRowExpanded:r,setExpanded:u,updateExpanded:i}}const ji={visibleColumns:Array};function Ui(e,l,n){const r=_(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(h=>({name:h,label:h.toUpperCase(),field:h,align:Tn(f[h])?"right":"left",sortable:!0})):[]}),u=_(()=>{const{sortBy:f,descending:h}=l.value;return(e.visibleColumns!==void 0?r.value.filter(d=>d.required===!0||e.visibleColumns.includes(d.name)===!0):r.value).map(d=>{const C=d.align||"right",T=`text-${C}`;return{...d,align:C,__iconClass:`q-table__sort-icon q-table__sort-icon--${C}`,__thClass:T+(d.headerClasses!==void 0?" "+d.headerClasses:"")+(d.sortable===!0?" sortable":"")+(d.name===f?` sorted ${h===!0?"sort-desc":""}`:""),__tdStyle:d.style!==void 0?typeof d.style!="function"?()=>d.style:d.style:()=>null,__tdClass:d.classes!==void 0?typeof d.classes!="function"?()=>T+" "+d.classes:q=>T+" "+d.classes(q):()=>T}})}),i=_(()=>{const f={};return u.value.forEach(h=>{f[h.name]=h}),f}),v=_(()=>e.tableColspan!==void 0?e.tableColspan:u.value.length+(n.value===!0?1:0));return{colList:r,computedCols:u,computedColsMap:i,computedColspan:v}}const Ql="q-table__bottom row items-center",Ya={};Na.forEach(e=>{Ya[e]={}});const Pl=vt({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Ya,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...el,...qi,...ji,...Pi,...Ri,...Hi,...Bi,...Mi},emits:["request","virtualScroll",...Di,...zi,...Fi],setup(e,{slots:l,emit:n}){const r=pt(),{proxy:{$q:u}}=r,i=tl(e,u),{inFullscreen:v,toggleFullscreen:f}=Ti(),h=_(()=>typeof e.rowKey=="function"?e.rowKey:D=>D[e.rowKey]),w=F(null),d=F(null),C=_(()=>e.grid!==!0&&e.virtualScroll===!0),T=_(()=>" q-table__card"+(i.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),q=_(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":T.value)+(i.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(v.value===!0?" fullscreen scroll":"")),A=_(()=>q.value+(e.loading===!0?" q-table--loading":""));Qe(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+q.value,()=>{C.value===!0&&d.value?.reset()});const{innerPagination:O,computedPagination:x,isServerSide:P,requestServerInteraction:pe,setPagination:U}=Oi(r,at),{computedFilterMethod:I}=Ii(e,U),{isRowExpanded:Y,setExpanded:he,updateExpanded:ee}=Ni(e,n),g=_(()=>{let D=e.rows;if(P.value===!0||D.length===0)return D;const{sortBy:Z,descending:xe}=x.value;return e.filter&&(D=I.value(D,e.filter,S.value,at)),de.value!==null&&(D=ve.value(e.rows===D?D.slice():D,Z,xe)),D}),p=_(()=>g.value.length),V=_(()=>{let D=g.value;if(P.value===!0)return D;const{rowsPerPage:Z}=x.value;return Z!==0&&(W.value===0&&e.rows!==D?D.length>te.value&&(D=D.slice(0,te.value)):D=D.slice(W.value,te.value)),D}),{hasSelectionMode:N,singleSelection:j,multipleSelection:re,allRowsSelected:Q,someRowsSelected:ue,rowsSelectedNumber:_e,isRowSelected:$,clearSelection:ce,updateSelection:J}=$i(e,n,V,h),{colList:Ne,computedCols:S,computedColsMap:E,computedColspan:L}=Ui(e,x,N),{columnToSort:de,computedSortMethod:ve,sort:H}=Ai(e,x,Ne,U),{firstRowIndex:W,lastRowIndex:te,isFirstPage:R,isLastPage:ke,pagesNumber:K,computedRowsPerPageOptions:Te,computedRowsNumber:Le,firstPage:Ae,prevPage:Fe,nextPage:Ce,lastPage:Xe}=Li(r,O,x,P,U,p),De=_(()=>V.value.length===0),Ge=_(()=>{const D={};return Na.forEach(Z=>{D[Z]=e[Z]}),D.virtualScrollItemSize===void 0&&(D.virtualScrollItemSize=e.dense===!0?28:48),D});function mt(){C.value===!0&&d.value.reset()}function ot(){if(e.grid===!0)return Bt();const D=e.hideHeader!==!0?_t:null;if(C.value===!0){const xe=l["top-row"],ye=l["bottom-row"],Be={default:it=>je(it.item,l.body,it.index)};if(xe!==void 0){const it=y("tbody",xe({cols:S.value}));Be.before=D===null?()=>it:()=>[D()].concat(it)}else D!==null&&(Be.before=D);return ye!==void 0&&(Be.after=()=>y("tbody",ye({cols:S.value}))),y(xi,{ref:d,class:e.tableClass,style:e.tableStyle,...Ge.value,scrollTarget:e.virtualScrollTarget,items:V.value,type:"__qtable",tableColspan:L.value,onVirtualScroll:ne},Be)}const Z=[Pe()];return D!==null&&Z.unshift(D()),Ua({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},Z)}function z(D,Z){if(d.value!==null){d.value.scrollTo(D,Z);return}D=parseInt(D,10);const xe=w.value.querySelector(`tbody tr:nth-of-type(${D+1})`);if(xe!==null){const ye=w.value.querySelector(".q-table__middle.scroll"),Be=xe.offsetTop-e.virtualScrollStickySizeStart,it=Be<ye.scrollTop?"decrease":"increase";ye.scrollTop=Be,n("virtualScroll",{index:D,from:0,to:O.value.rowsPerPage-1,direction:it})}}function ne(D){n("virtualScroll",D)}function ie(){return[y(Ci,{class:"q-table__linear-progress",color:e.color,dark:i.value,indeterminate:!0,trackColor:"transparent"})]}function je(D,Z,xe){const ye=h.value(D),Be=$(ye);if(Z!==void 0){const b={key:ye,row:D,pageIndex:xe,__trClass:Be?"selected":""};if(e.tableRowStyleFn!==void 0&&(b.__trStyle=e.tableRowStyleFn(D)),e.tableRowClassFn!==void 0){const M=e.tableRowClassFn(D);M&&(b.__trClass=`${M} ${b.__trClass}`)}return Z(be(b))}const it=l["body-cell"],Je=S.value.map(b=>{const M=l[`body-cell-${b.name}`],G=M!==void 0?M:it;return G!==void 0?G(qe({key:ye,row:D,pageIndex:xe,col:b})):y("td",{class:b.__tdClass(D),style:b.__tdStyle(D)},at(b,D))});if(N.value===!0){const b=l["body-selection"],M=b!==void 0?b(lt({key:ye,row:D,pageIndex:xe})):[y(bn,{modelValue:Be,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(G,le)=>{J([ye],[D],G,le)}})];Je.unshift(y("td",{class:"q-table--col-auto-width"},M))}const c={key:ye,class:{selected:Be}};if(e.onRowClick!==void 0&&(c.class["cursor-pointer"]=!0,c.onClick=b=>{n("rowClick",b,D,xe)}),e.onRowDblclick!==void 0&&(c.class["cursor-pointer"]=!0,c.onDblclick=b=>{n("rowDblclick",b,D,xe)}),e.onRowContextmenu!==void 0&&(c.class["cursor-pointer"]=!0,c.onContextmenu=b=>{n("rowContextmenu",b,D,xe)}),e.tableRowStyleFn!==void 0&&(c.style=e.tableRowStyleFn(D)),e.tableRowClassFn!==void 0){const b=e.tableRowClassFn(D);b&&(c.class[b]=!0)}return y("tr",c,Je)}function Pe(){const D=l.body,Z=l["top-row"],xe=l["bottom-row"];let ye=V.value.map((Be,it)=>je(Be,D,it));return Z!==void 0&&(ye=Z({cols:S.value}).concat(ye)),xe!==void 0&&(ye=ye.concat(xe({cols:S.value}))),y("tbody",ye)}function be(D){return Ze(D),D.cols=D.cols.map(Z=>bl({...Z},"value",()=>at(Z,D.row))),D}function qe(D){return Ze(D),bl(D,"value",()=>at(D.col,D.row)),D}function lt(D){return Ze(D),D}function Ze(D){Object.assign(D,{cols:S.value,colsMap:E.value,sort:H,rowIndex:W.value+D.pageIndex,color:e.color,dark:i.value,dense:e.dense}),N.value===!0&&bl(D,"selected",()=>$(D.key),(Z,xe)=>{J([D.key],[D.row],Z,xe)}),bl(D,"expand",()=>Y(D.key),Z=>{ee(D.key,Z)})}function at(D,Z){const xe=typeof D.field=="function"?D.field(Z):Z[D.field];return D.format!==void 0?D.format(xe,Z):xe}const Ue=_(()=>({pagination:x.value,pagesNumber:K.value,isFirstPage:R.value,isLastPage:ke.value,firstPage:Ae,prevPage:Fe,nextPage:Ce,lastPage:Xe,inFullscreen:v.value,toggleFullscreen:f}));function St(){const D=l.top,Z=l["top-left"],xe=l["top-right"],ye=l["top-selection"],Be=N.value===!0&&ye!==void 0&&_e.value>0,it="q-table__top relative-position row items-center";if(D!==void 0)return y("div",{class:it},[D(Ue.value)]);let Je;if(Be===!0?Je=ye(Ue.value).slice():(Je=[],Z!==void 0?Je.push(y("div",{class:"q-table__control"},[Z(Ue.value)])):e.title&&Je.push(y("div",{class:"q-table__control"},[y("div",{class:["q-table__title",e.titleClass]},e.title)]))),xe!==void 0&&(Je.push(y("div",{class:"q-table__separator col"})),Je.push(y("div",{class:"q-table__control"},[xe(Ue.value)]))),Je.length!==0)return y("div",{class:it},Je)}const yt=_(()=>ue.value===!0?null:Q.value);function _t(){const D=Rt();return e.loading===!0&&l.loading===void 0&&D.push(y("tr",{class:"q-table__progress"},[y("th",{class:"relative-position",colspan:L.value},ie())])),y("thead",D)}function Rt(){const D=l.header,Z=l["header-cell"];if(D!==void 0)return D(Qt({header:!0})).slice();const xe=S.value.map(ye=>{const Be=l[`header-cell-${ye.name}`],it=Be!==void 0?Be:Z,Je=Qt({col:ye});return it!==void 0?it(Je):y(pi,{key:ye.name,props:Je},()=>ye.label)});if(j.value===!0&&e.grid!==!0)xe.unshift(y("th",{class:"q-table--col-auto-width"}," "));else if(re.value===!0){const ye=l["header-selection"],Be=ye!==void 0?ye(Qt({})):[y(bn,{color:e.color,modelValue:yt.value,dark:i.value,dense:e.dense,"onUpdate:modelValue":Dt})];xe.unshift(y("th",{class:"q-table--col-auto-width"},Be))}return[y("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},xe)]}function Qt(D){return Object.assign(D,{cols:S.value,sort:H,colsMap:E.value,color:e.color,dark:i.value,dense:e.dense}),re.value===!0&&bl(D,"selected",()=>yt.value,Dt),D}function Dt(D){ue.value===!0&&(D=!1),J(V.value.map(h.value),V.value,D)}const xt=_(()=>{const D=[e.iconFirstPage||u.iconSet.table.firstPage,e.iconPrevPage||u.iconSet.table.prevPage,e.iconNextPage||u.iconSet.table.nextPage,e.iconLastPage||u.iconSet.table.lastPage];return u.lang.rtl===!0?D.reverse():D});function $t(){if(e.hideBottom===!0)return;if(De.value===!0){if(e.hideNoData===!0)return;const xe=e.loading===!0?e.loadingLabel||u.lang.table.loading:e.filter?e.noResultsLabel||u.lang.table.noResults:e.noDataLabel||u.lang.table.noData,ye=l["no-data"],Be=ye!==void 0?[ye({message:xe,icon:u.iconSet.table.warning,filter:e.filter})]:[y(Re,{class:"q-table__bottom-nodata-icon",name:u.iconSet.table.warning}),xe];return y("div",{class:Ql+" q-table__bottom--nodata"},Be)}const D=l.bottom;if(D!==void 0)return y("div",{class:Ql},[D(Ue.value)]);const Z=e.hideSelectedBanner!==!0&&N.value===!0&&_e.value>0?[y("div",{class:"q-table__control"},[y("div",[(e.selectedRowsLabel||u.lang.table.selectedRecords)(_e.value)])])]:[];if(e.hidePagination!==!0)return y("div",{class:Ql+" justify-end"},Gt(Z));if(Z.length!==0)return y("div",{class:Ql},Z)}function Tt(D){U({page:1,rowsPerPage:D.value})}function Gt(D){let Z;const{rowsPerPage:xe}=x.value,ye=e.paginationLabel||u.lang.table.pagination,Be=l.pagination,it=e.rowsPerPageOptions.length>1;if(D.push(y("div",{class:"q-table__separator col"})),it===!0&&D.push(y("div",{class:"q-table__control"},[y("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||u.lang.table.recordsPerPage]),y(Nt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:xe,options:Te.value,displayValue:xe===0?u.lang.table.allRows:xe,dark:i.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Tt})])),Be!==void 0)Z=Be(Ue.value);else if(Z=[y("span",xe!==0?{class:"q-table__bottom-item"}:{},[xe?ye(W.value+1,Math.min(te.value,Le.value),Le.value):ye(1,p.value,Le.value)])],xe!==0&&K.value>1){const Je={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(Je.size="sm"),K.value>2&&Z.push(y(Ve,{key:"pgFirst",...Je,icon:xt.value[0],disable:R.value,"aria-label":u.lang.pagination.first,onClick:Ae})),Z.push(y(Ve,{key:"pgPrev",...Je,icon:xt.value[1],disable:R.value,"aria-label":u.lang.pagination.prev,onClick:Fe}),y(Ve,{key:"pgNext",...Je,icon:xt.value[2],disable:ke.value,"aria-label":u.lang.pagination.next,onClick:Ce})),K.value>2&&Z.push(y(Ve,{key:"pgLast",...Je,icon:xt.value[3],disable:ke.value,"aria-label":u.lang.pagination.last,onClick:Xe}))}return D.push(y("div",{class:"q-table__control"},Z)),D}function At(){const D=e.gridHeader===!0?[y("table",{class:"q-table"},[_t()])]:e.loading===!0&&l.loading===void 0?ie():void 0;return y("div",{class:"q-table__middle"},D)}function Bt(){const D=l.item!==void 0?l.item:Z=>{const xe=Z.cols.map(Be=>y("div",{class:"q-table__grid-item-row"},[y("div",{class:"q-table__grid-item-title"},[Be.label]),y("div",{class:"q-table__grid-item-value"},[Be.value])]));if(N.value===!0){const Be=l["body-selection"],it=Be!==void 0?Be(Z):[y(bn,{modelValue:Z.selected,color:e.color,dark:i.value,dense:e.dense,"onUpdate:modelValue":(Je,c)=>{J([Z.key],[Z.row],Je,c)}})];xe.unshift(y("div",{class:"q-table__grid-item-row"},it),y(jt,{dark:i.value}))}const ye={class:["q-table__grid-item-card"+T.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(ye.style=[ye.style,e.cardStyleFn(Z.row)]),e.cardClassFn!==void 0){const Be=e.cardClassFn(Z.row);Be&&(ye.class[0]+=` ${Be}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(ye.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(ye.onClick=Be=>{n("RowClick",Be,Z.row,Z.pageIndex)}),e.onRowDblclick!==void 0&&(ye.onDblclick=Be=>{n("RowDblclick",Be,Z.row,Z.pageIndex)}),e.onRowContextmenu!==void 0&&(ye.onContextmenu=Be=>{n("rowContextmenu",Be,Z.row,Z.pageIndex)})),y("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(Z.selected===!0?" q-table__grid-item--selected":"")},[y("div",ye,xe)])};return y("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},V.value.map((Z,xe)=>D(be({key:h.value(Z),row:Z,pageIndex:xe}))))}return Object.assign(r.proxy,{requestServerInteraction:pe,setPagination:U,firstPage:Ae,prevPage:Fe,nextPage:Ce,lastPage:Xe,isRowSelected:$,clearSelection:ce,isRowExpanded:Y,setExpanded:he,sort:H,resetVirtualScroll:mt,scrollTo:z,getCellValue:at}),ho(r.proxy,{filteredSortedRows:()=>g.value,computedRows:()=>V.value,computedRowsNumber:()=>Le.value}),()=>{const D=[St()],Z={ref:w,class:A.value};return e.grid===!0?D.push(At()):Object.assign(Z,{class:[Z.class,e.cardClass],style:e.cardStyle}),D.push(ot(),$t()),e.loading===!0&&l.loading!==void 0&&D.push(l.loading()),y("div",Z,D)}}});function Yi(e){const l=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,r)=>{const u=parseFloat(n);u&&(l[r]=u)}),l}const Qi=ka({name:"touch-swipe",beforeMount(e,{value:l,arg:n,modifiers:r}){if(r.mouse!==!0&&al.has.touch!==!0)return;const u=r.mouseCapture===!0?"Capture":"",i={handler:l,sensitivity:Yi(n),direction:Qn(r),noop:Sa,mouseStart(v){Wn(v,i)&&bo(v)&&(ol(i,"temp",[[document,"mousemove","move",`notPassive${u}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(v,!0))},touchStart(v){if(Wn(v,i)){const f=v.target;ol(i,"temp",[[f,"touchmove","move","notPassiveCapture"],[f,"touchcancel","end","notPassiveCapture"],[f,"touchend","end","notPassiveCapture"]]),i.start(v)}},start(v,f){al.is.firefox===!0&&hn(e,!0);const h=Dn(v);i.event={x:h.left,y:h.top,time:Date.now(),mouse:f===!0,dir:!1}},move(v){if(i.event===void 0)return;if(i.event.dir!==!1){Et(v);return}const f=Date.now()-i.event.time;if(f===0)return;const h=Dn(v),w=h.left-i.event.x,d=Math.abs(w),C=h.top-i.event.y,T=Math.abs(C);if(i.event.mouse!==!0){if(d<i.sensitivity[1]&&T<i.sensitivity[1]){i.end(v);return}}else if(window.getSelection().toString()!==""){i.end(v);return}else if(d<i.sensitivity[2]&&T<i.sensitivity[2])return;const q=d/f,A=T/f;i.direction.vertical===!0&&d<T&&d<100&&A>i.sensitivity[0]&&(i.event.dir=C<0?"up":"down"),i.direction.horizontal===!0&&d>T&&T<100&&q>i.sensitivity[0]&&(i.event.dir=w<0?"left":"right"),i.direction.up===!0&&d<T&&C<0&&d<100&&A>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&d<T&&C>0&&d<100&&A>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&d>T&&w<0&&T<100&&q>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&d>T&&w>0&&T<100&&q>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Et(v),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),ln(),i.styleCleanup=O=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const x=()=>{document.body.classList.remove("no-pointer-events--children")};O===!0?setTimeout(x,50):x()}),i.handler({evt:v,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:f,distance:{x:d,y:T}})):i.end(v)},end(v){i.event!==void 0&&(pl(i,"temp"),al.is.firefox===!0&&hn(e,!1),i.styleCleanup?.(!0),v!==void 0&&i.event.dir!==!1&&Et(v),i.event=void 0)}};if(e.__qtouchswipe=i,r.mouse===!0){const v=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";ol(i,"main",[[e,"mousedown","mouseStart",`passive${v}`]])}al.has.touch===!0&&ol(i,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,l){const n=e.__qtouchswipe;n!==void 0&&(l.oldValue!==l.value&&(typeof l.value!="function"&&n.end(),n.handler=l.value),n.direction=Qn(l.modifiers))},beforeUnmount(e){const l=e.__qtouchswipe;l!==void 0&&(pl(l,"main"),pl(l,"temp"),al.is.firefox===!0&&hn(e,!1),l.styleCleanup?.(),delete e.__qtouchswipe)}});function Qa(){let e=Object.create(null);return{getCache:(l,n)=>e[l]===void 0?e[l]=typeof n=="function"?n():n:e[l],setCache(l,n){e[l]=n},hasCache(l){return Object.hasOwnProperty.call(e,l)},clearCache(l){l!==void 0?delete e[l]:e=Object.create(null)}}}const Wi={name:{required:!0},disable:Boolean},sa={setup(e,{slots:l}){return()=>y("div",{class:"q-panel scroll",role:"tabpanel"},wt(l.default))}},Ki={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Gi=["update:modelValue","beforeTransition","transition"];function Ji(){const{props:e,emit:l,proxy:n}=pt(),{getCache:r}=Qa(),{registerTimeout:u}=xl();let i,v;const f=F(null),h={value:null};function w(Q){const ue=e.vertical===!0?"up":"left";g((n.$q.lang.rtl===!0?-1:1)*(Q.direction===ue?1:-1))}const d=_(()=>[[Qi,w,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),C=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),T=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),q=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),A=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),O=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),x=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Qe(()=>e.modelValue,(Q,ue)=>{const _e=I(Q)===!0?Y(Q):-1;v!==!0&&ee(_e===-1?0:_e<Y(ue)?-1:1),h.value!==_e&&(h.value=_e,l("beforeTransition",Q,ue),u(()=>{l("transition",Q,ue)},e.transitionDuration))});function P(){g(1)}function pe(){g(-1)}function U(Q){l("update:modelValue",Q)}function I(Q){return Q!=null&&Q!==""}function Y(Q){return i.findIndex(ue=>ue.props.name===Q&&ue.props.disable!==""&&ue.props.disable!==!0)}function he(){return i.filter(Q=>Q.props.disable!==""&&Q.props.disable!==!0)}function ee(Q){const ue=Q!==0&&e.animated===!0&&h.value!==-1?"q-transition--"+(Q===-1?C.value:T.value):null;f.value!==ue&&(f.value=ue)}function g(Q,ue=h.value){let _e=ue+Q;for(;_e!==-1&&_e<i.length;){const $=i[_e];if($!==void 0&&$.props.disable!==""&&$.props.disable!==!0){ee(Q),v=!0,l("update:modelValue",$.props.name),setTimeout(()=>{v=!1});return}_e+=Q}e.infinite===!0&&i.length!==0&&ue!==-1&&ue!==i.length&&g(Q,Q===-1?i.length:-1)}function p(){const Q=Y(e.modelValue);return h.value!==Q&&(h.value=Q),!0}function V(){const Q=I(e.modelValue)===!0&&p()&&i[h.value];return e.keepAlive===!0?[y(po,O.value,[y(x.value===!0?r(A.value,()=>({...sa,name:A.value})):sa,{key:A.value,style:q.value},()=>Q)])]:[y("div",{class:"q-panel scroll",style:q.value,key:A.value,role:"tabpanel"},[Q])]}function N(){if(i.length!==0)return e.animated===!0?[y(Yt,{name:f.value},V)]:V()}function j(Q){return i=yo(wt(Q.default,[])).filter(ue=>ue.props!==null&&ue.props.slot===void 0&&I(ue.props.name)===!0),i.length}function re(){return i}return Object.assign(n,{next:P,previous:pe,goTo:U}),{panelIndex:h,panelDirectives:d,updatePanelsList:j,updatePanelIndex:p,getPanelContent:N,getEnabledPanels:he,getPanels:re,isValidPanelName:I,keepAliveProps:O,needsUniqueKeepAliveWrapper:x,goToPanelByOffset:g,goToPanel:U,nextPanel:P,previousPanel:pe}}const Wl=vt({name:"QTabPanel",props:Wi,setup(e,{slots:l}){return()=>y("div",{class:"q-tab-panel",role:"tabpanel"},wt(l.default))}}),Xi=vt({name:"QTabPanels",props:{...Ki,...el},emits:Gi,setup(e,{slots:l}){const n=pt(),r=tl(e,n.proxy.$q),{updatePanelsList:u,getPanelContent:i,panelDirectives:v}=Ji(),f=_(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(u(l),_a("div",{class:f.value},i(),"pan",e.swipeable,()=>v.value))}}),Zi=vt({name:"QBanner",props:{...el,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:l}){const{proxy:{$q:n}}=pt(),r=tl(e,n),u=_(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(r.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),i=_(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const v=[y("div",{class:"q-banner__avatar col-auto row items-center self-start"},wt(l.avatar)),y("div",{class:"q-banner__content col text-body2"},wt(l.default))],f=wt(l.action);return f!==void 0&&v.push(y("div",{class:i.value},f)),y("div",{class:u.value+(e.inlineActions===!1&&f!==void 0?" q-banner--top-padding":""),role:"alert"},v)}}}),es=["top","middle","bottom"],ml=vt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>es.includes(e)}},setup(e,{slots:l}){const n=_(()=>e.align!==void 0?{verticalAlign:e.align}:null),r=_(()=>{const u=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(u!==void 0?` text-${u}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>y("div",{class:r.value,style:n.value,role:"status","aria-label":e.label},Cl(l.default,e.label!==void 0?[e.label]:[]))}}),Kl=vt({name:"QCardActions",props:{..._o,vertical:Boolean},setup(e,{slots:l}){const n=wo(e),r=_(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>y("div",{class:r.value},wt(l.default))}}),ts=vt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const n=_(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(u=>e[u]===!0).map(u=>`q-btn-group--${u}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>y("div",{class:n.value},wt(l.default))}}),ls=vt({name:"QBtnToggle",props:{...Bn,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:n}){const r=_(()=>e.options.find(T=>T.value===e.modelValue)!==void 0),u=_(()=>({type:"hidden",name:e.name,value:e.modelValue})),i=Ma(u),v=_(()=>So(e)),f=_(()=>({rounded:e.rounded,dense:e.dense,...v.value})),h=_(()=>e.options.map((T,q)=>{const{attrs:A,value:O,slot:x,...P}=T;return{slot:x,props:{key:q,"aria-pressed":O===e.modelValue?"true":"false",...A,...P,...f.value,disable:e.disable===!0||P.disable===!0,color:O===e.modelValue?d(P,"toggleColor"):d(P,"color"),textColor:O===e.modelValue?d(P,"toggleTextColor"):d(P,"textColor"),noCaps:d(P,"noCaps")===!0,noWrap:d(P,"noWrap")===!0,size:d(P,"size"),padding:d(P,"padding"),ripple:d(P,"ripple"),stack:d(P,"stack")===!0,stretch:d(P,"stretch")===!0,onClick(pe){w(O,T,pe)}}}}));function w(T,q,A){e.readonly!==!0&&(e.modelValue===T?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",T,q),n("click",A))}function d(T,q){return T[q]===void 0?e[q]:T[q]}function C(){const T=h.value.map(q=>y(Ve,q.props,q.slot!==void 0?l[q.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&r.value===!0&&i(T,"push"),Cl(l.default,T)}return()=>y(ts,{class:"q-btn-toggle",...v.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},C)}}),il=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function ns(e,l,n){return Object.prototype.toString.call(e)==="[object Date]"&&(n=e.getDate(),l=e.getMonth()+1,e=e.getFullYear()),ss(zn(e,l,n))}function ra(e,l,n){return Ka(is(e,l,n))}function as(e){return os(e)===0}function en(e,l){return l<=6?31:l<=11||as(e)?30:29}function os(e){const l=il.length;let n=il[0],r,u,i,v,f;if(e<n||e>=il[l-1])throw new Error("Invalid Jalaali year "+e);for(f=1;f<l&&(r=il[f],u=r-n,!(e<r));f+=1)n=r;return v=e-n,u-v<6&&(v=v-u+gt(u+4,33)*33),i=Lt(Lt(v+1,33)-1,4),i===-1&&(i=4),i}function Wa(e,l){const n=il.length,r=e+621;let u=-14,i=il[0],v,f,h,w,d;if(e<i||e>=il[n-1])throw new Error("Invalid Jalaali year "+e);for(d=1;d<n&&(v=il[d],f=v-i,!(e<v));d+=1)u=u+gt(f,33)*8+gt(Lt(f,33),4),i=v;w=e-i,u=u+gt(w,33)*8+gt(Lt(w,33)+3,4),Lt(f,33)===4&&f-w===4&&(u+=1);const C=gt(r,4)-gt((gt(r,100)+1)*3,4)-150,T=20+u-C;return l||(f-w<6&&(w=w-f+gt(f+4,33)*33),h=Lt(Lt(w+1,33)-1,4),h===-1&&(h=4)),{leap:h,gy:r,march:T}}function is(e,l,n){const r=Wa(e,!0);return zn(r.gy,3,r.march)+(l-1)*31-gt(l,7)*(l-7)+n-1}function ss(e){const l=Ka(e).gy;let n=l-621,r,u,i;const v=Wa(n,!1),f=zn(l,3,v.march);if(i=e-f,i>=0){if(i<=185)return u=1+gt(i,31),r=Lt(i,31)+1,{jy:n,jm:u,jd:r};i-=186}else n-=1,i+=179,v.leap===1&&(i+=1);return u=7+gt(i,30),r=Lt(i,30)+1,{jy:n,jm:u,jd:r}}function zn(e,l,n){let r=gt((e+gt(l-8,6)+100100)*1461,4)+gt(153*Lt(l+9,12)+2,5)+n-34840408;return r=r-gt(gt(e+100100+gt(l-8,6),100)*3,4)+752,r}function Ka(e){let l=4*e+139361631;l=l+gt(gt(4*e+183187720,146097)*3,4)*4-3908;const n=gt(Lt(l,1461),4)*5+308,r=gt(Lt(n,153),5)+1,u=Lt(gt(n,153),12)+1;return{gy:gt(l,1461)-100100+gt(8-u,6),gm:u,gd:r}}function gt(e,l){return~~(e/l)}function Lt(e,l){return e-~~(e/l)*l}const rs=["gregorian","persian"],ua={mask:{type:String},locale:Object,calendar:{type:String,validator:e=>rs.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},us=["update:modelValue"];function ll(e){return e.year+"/"+ft(e.month)+"/"+ft(e.day)}function ds(e,l){const n=_(()=>e.disable!==!0&&e.readonly!==!0),r=_(()=>n.value===!0?0:-1),u=_(()=>{const f=[];return e.color!==void 0&&f.push(`bg-${e.color}`),e.textColor!==void 0&&f.push(`text-${e.textColor}`),f.join(" ")});function i(){return e.locale!==void 0?{...l.lang.date,...e.locale}:l.lang.date}function v(f){const h=new Date,w=f===!0?null:0;if(e.calendar==="persian"){const d=ns(h);return{year:d.jy,month:d.jm,day:d.jd}}return{year:h.getFullYear(),month:h.getMonth()+1,day:h.getDate(),hour:w,minute:w,second:w,millisecond:w}}return{editable:n,tabindex:r,headerClass:u,getLocale:i,getCurrentDate:v}}const Ga=864e5,cs=36e5,Pn=6e4,Ja="YYYY-MM-DDTHH:mm:ss.SSSZ",fs=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,vs=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Sn={};function ms(e,l){const n="("+l.days.join("|")+")",r=e+n;if(Sn[r]!==void 0)return Sn[r];const u="("+l.daysShort.join("|")+")",i="("+l.months.join("|")+")",v="("+l.monthsShort.join("|")+")",f={};let h=0;const w=e.replace(vs,C=>{switch(h++,C){case"YY":return f.YY=h,"(-?\\d{1,2})";case"YYYY":return f.YYYY=h,"(-?\\d{1,4})";case"M":return f.M=h,"(\\d{1,2})";case"Mo":return f.M=h++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return f.M=h,"(\\d{2})";case"MMM":return f.MMM=h,v;case"MMMM":return f.MMMM=h,i;case"D":return f.D=h,"(\\d{1,2})";case"Do":return f.D=h++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return f.D=h,"(\\d{2})";case"H":return f.H=h,"(\\d{1,2})";case"HH":return f.H=h,"(\\d{2})";case"h":return f.h=h,"(\\d{1,2})";case"hh":return f.h=h,"(\\d{2})";case"m":return f.m=h,"(\\d{1,2})";case"mm":return f.m=h,"(\\d{2})";case"s":return f.s=h,"(\\d{1,2})";case"ss":return f.s=h,"(\\d{2})";case"S":return f.S=h,"(\\d{1})";case"SS":return f.S=h,"(\\d{2})";case"SSS":return f.S=h,"(\\d{3})";case"A":return f.A=h,"(AM|PM)";case"a":return f.a=h,"(am|pm)";case"aa":return f.aa=h,"(a\\.m\\.|p\\.m\\.)";case"ddd":return u;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"do":return h++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return h++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return h++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return f.Z=h,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return f.ZZ=h,"(Z|[+-]\\d{2}\\d{2})";case"X":return f.X=h,"(-?\\d+)";case"x":return f.x=h,"(-?\\d{4,})";default:return h--,C[0]==="["&&(C=C.substring(1,C.length-1)),C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),d={map:f,regex:new RegExp("^"+w)};return Sn[r]=d,d}function Xa(e,l){return e!==void 0?e:l!==void 0?l.date:xo.date}function da(e,l=""){const n=e>0?"-":"+",r=Math.abs(e),u=Math.floor(r/60),i=r%60;return n+ft(u)+l+ft(i)}function gs(e,l,n,r,u){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(u!==void 0&&Object.assign(i,u),e==null||e===""||typeof e!="string")return i;l===void 0&&(l=Ja);const v=Xa(n,Ca.props),f=v.months,h=v.monthsShort,{regex:w,map:d}=ms(l,v),C=e.match(w);if(C===null)return i;let T="";if(d.X!==void 0||d.x!==void 0){const q=parseInt(C[d.X!==void 0?d.X:d.x],10);if(isNaN(q)===!0||q<0)return i;const A=new Date(q*(d.X!==void 0?1e3:1));i.year=A.getFullYear(),i.month=A.getMonth()+1,i.day=A.getDate(),i.hour=A.getHours(),i.minute=A.getMinutes(),i.second=A.getSeconds(),i.millisecond=A.getMilliseconds()}else{if(d.YYYY!==void 0)i.year=parseInt(C[d.YYYY],10);else if(d.YY!==void 0){const q=parseInt(C[d.YY],10);i.year=q<0?q:2e3+q}if(d.M!==void 0){if(i.month=parseInt(C[d.M],10),i.month<1||i.month>12)return i}else d.MMM!==void 0?i.month=h.indexOf(C[d.MMM])+1:d.MMMM!==void 0&&(i.month=f.indexOf(C[d.MMMM])+1);if(d.D!==void 0){if(i.day=parseInt(C[d.D],10),i.year===null||i.month===null||i.day<1)return i;const q=r!=="persian"?new Date(i.year,i.month,0).getDate():en(i.year,i.month);if(i.day>q)return i}d.H!==void 0?i.hour=parseInt(C[d.H],10)%24:d.h!==void 0&&(i.hour=parseInt(C[d.h],10)%12,(d.A&&C[d.A]==="PM"||d.a&&C[d.a]==="pm"||d.aa&&C[d.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),d.m!==void 0&&(i.minute=parseInt(C[d.m],10)%60),d.s!==void 0&&(i.second=parseInt(C[d.s],10)%60),d.S!==void 0&&(i.millisecond=parseInt(C[d.S],10)*10**(3-C[d.S].length)),(d.Z!==void 0||d.ZZ!==void 0)&&(T=d.Z!==void 0?C[d.Z].replace(":",""):C[d.ZZ],i.timezoneOffset=(T[0]==="+"?-1:1)*(60*T.slice(1,3)+1*T.slice(3,5)))}return i.dateHash=ft(i.year,4)+"/"+ft(i.month)+"/"+ft(i.day),i.timeHash=ft(i.hour)+":"+ft(i.minute)+":"+ft(i.second)+T,i}function xn(e){const l=new Date(e.getFullYear(),e.getMonth(),e.getDate());l.setDate(l.getDate()-(l.getDay()+6)%7+3);const n=new Date(l.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=l.getTimezoneOffset()-n.getTimezoneOffset();l.setHours(l.getHours()-r);const u=(l-n)/(Ga*7);return 1+Math.floor(u)}function Zt(e,l,n){const r=new Date(e),u=`set${n===!0?"UTC":""}`;switch(l){case"year":case"years":r[`${u}Month`](0);case"month":case"months":r[`${u}Date`](1);case"day":case"days":case"date":r[`${u}Hours`](0);case"hour":case"hours":r[`${u}Minutes`](0);case"minute":case"minutes":r[`${u}Seconds`](0);case"second":case"seconds":r[`${u}Milliseconds`](0)}return r}function Gl(e,l,n){return(e.getTime()-e.getTimezoneOffset()*Pn-(l.getTime()-l.getTimezoneOffset()*Pn))/n}function Za(e,l,n="days"){const r=new Date(e),u=new Date(l);switch(n){case"years":case"year":return r.getFullYear()-u.getFullYear();case"months":case"month":return(r.getFullYear()-u.getFullYear())*12+r.getMonth()-u.getMonth();case"days":case"day":case"date":return Gl(Zt(r,"day"),Zt(u,"day"),Ga);case"hours":case"hour":return Gl(Zt(r,"hour"),Zt(u,"hour"),cs);case"minutes":case"minute":return Gl(Zt(r,"minute"),Zt(u,"minute"),Pn);case"seconds":case"second":return Gl(Zt(r,"second"),Zt(u,"second"),1e3)}}function kn(e){return Za(e,Zt(e,"year"),"days")+1}function gl(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ca={YY(e,l,n){const r=this.YYYY(e,l,n)%100;return r>=0?ft(r):"-"+ft(Math.abs(r))},YYYY(e,l,n){return n??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return gl(e.getMonth()+1)},MM(e){return ft(e.getMonth()+1)},MMM(e,l){return l.monthsShort[e.getMonth()]},MMMM(e,l){return l.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return gl(this.Q(e))},D(e){return e.getDate()},Do(e){return gl(e.getDate())},DD(e){return ft(e.getDate())},DDD(e){return kn(e)},DDDo(e){return gl(kn(e))},DDDD(e){return ft(kn(e),3)},d(e){return e.getDay()},do(e){return gl(e.getDay())},dd(e,l){return l.days[e.getDay()].slice(0,2)},ddd(e,l){return l.daysShort[e.getDay()]},dddd(e,l){return l.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return xn(e)},wo(e){return gl(xn(e))},ww(e){return ft(xn(e))},H(e){return e.getHours()},HH(e){return ft(e.getHours())},h(e){const l=e.getHours();return l===0?12:l>12?l%12:l},hh(e){return ft(this.h(e))},m(e){return e.getMinutes()},mm(e){return ft(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return ft(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return ft(Math.floor(e.getMilliseconds()/10))},SSS(e){return ft(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,l,n,r){const u=r??e.getTimezoneOffset();return da(u,":")},ZZ(e,l,n,r){const u=r??e.getTimezoneOffset();return da(u)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function hs(e,l,n,r,u){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;l===void 0&&(l=Ja);const v=Xa(n,Ca.props);return l.replace(fs,(f,h)=>f in ca?ca[f](i,v,r,u):h===void 0?f:h.split("\\]").join("]"))}const Xt=20,bs=["Calendar","Years","Months"],fa=e=>bs.includes(e),Cn=e=>/^-?[\d]+\/[0-1]\d$/.test(e),hl="  ";function nl(e){return e.year+"/"+ft(e.month)}const ys=vt({name:"QDate",props:{...ua,...Bn,...el,modelValue:{required:!0,validator:e=>typeof e=="string"||Array.isArray(e)===!0||Object(e)===e||e===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...ua.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Cn},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Cn},navigationMaxYearMonth:{type:String,validator:Cn},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:fa}},emits:[...us,"rangeStart","rangeEnd","navigation"],setup(e,{slots:l,emit:n}){const{proxy:r}=pt(),{$q:u}=r,i=tl(e,u),{getCache:v}=Qa(),{tabindex:f,headerClass:h,getLocale:w,getCurrentDate:d}=ds(e,u);let C;const T=Lo(e),q=Ma(T),A=F(null),O=F(lt()),x=F(w()),P=_(()=>lt()),pe=_(()=>w()),U=_(()=>d()),I=F(at(O.value,x.value)),Y=F(e.defaultView),he=_(()=>u.lang.rtl===!0?"right":"left"),ee=F(he.value),g=F(he.value),p=I.value.year,V=F(p-p%Xt-(p<0?Xt:0)),N=F(null),j=_(()=>{const c=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${c} q-date--${c}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),re=_(()=>e.color||"primary"),Q=_(()=>e.textColor||"white"),ue=_(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),_e=_(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),$=_(()=>_e.value.filter(c=>typeof c=="string").map(c=>Ze(c,O.value,x.value)).filter(c=>c.dateHash!==null&&c.day!==null&&c.month!==null&&c.year!==null)),ce=_(()=>{const c=b=>Ze(b,O.value,x.value);return _e.value.filter(b=>xa(b)===!0&&b.from!==void 0&&b.to!==void 0).map(b=>({from:c(b.from),to:c(b.to)})).filter(b=>b.from.dateHash!==null&&b.to.dateHash!==null&&b.from.dateHash<b.to.dateHash)}),J=_(()=>e.calendar!=="persian"?c=>new Date(c.year,c.month-1,c.day):c=>{const b=ra(c.year,c.month,c.day);return new Date(b.gy,b.gm-1,b.gd)}),Ne=_(()=>e.calendar==="persian"?ll:(c,b,M)=>hs(new Date(c.year,c.month-1,c.day,c.hour,c.minute,c.second,c.millisecond),b===void 0?O.value:b,M===void 0?x.value:M,c.year,c.timezoneOffset)),S=_(()=>$.value.length+ce.value.reduce((c,b)=>c+1+Za(J.value(b.to),J.value(b.from)),0)),E=_(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(N.value!==null){const M=N.value.init,G=J.value(M);return x.value.daysShort[G.getDay()]+", "+x.value.monthsShort[M.month-1]+" "+M.day+hl+"?"}if(S.value===0)return hl;if(S.value>1)return`${S.value} ${x.value.pluralDay}`;const c=$.value[0],b=J.value(c);return isNaN(b.valueOf())===!0?hl:x.value.headerTitle!==void 0?x.value.headerTitle(b,c):x.value.daysShort[b.getDay()]+", "+x.value.monthsShort[c.month-1]+" "+c.day}),L=_(()=>$.value.concat(ce.value.map(b=>b.from)).sort((b,M)=>b.year-M.year||b.month-M.month)[0]),de=_(()=>$.value.concat(ce.value.map(b=>b.to)).sort((b,M)=>M.year-b.year||M.month-b.month)[0]),ve=_(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(S.value===0)return hl;if(S.value>1){const c=L.value,b=de.value,M=x.value.monthsShort;return M[c.month-1]+(c.year!==b.year?" "+c.year+hl+M[b.month-1]+" ":c.month!==b.month?hl+M[b.month-1]:"")+" "+b.year}return $.value[0].year}),H=_(()=>{const c=[u.iconSet.datetime.arrowLeft,u.iconSet.datetime.arrowRight];return u.lang.rtl===!0?c.reverse():c}),W=_(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):x.value.firstDayOfWeek),te=_(()=>{const c=x.value.daysShort,b=W.value;return b>0?c.slice(b,7).concat(c.slice(0,b)):c}),R=_(()=>{const c=I.value;return e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():en(c.year,c.month)}),ke=_(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),K=_(()=>{if(e.navigationMinYearMonth===void 0)return null;const c=e.navigationMinYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),Te=_(()=>{if(e.navigationMaxYearMonth===void 0)return null;const c=e.navigationMaxYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),Le=_(()=>{const c={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return K.value!==null&&K.value.year>=I.value.year&&(c.year.prev=!1,K.value.year===I.value.year&&K.value.month>=I.value.month&&(c.month.prev=!1)),Te.value!==null&&Te.value.year<=I.value.year&&(c.year.next=!1,Te.value.year===I.value.year&&Te.value.month<=I.value.month&&(c.month.next=!1)),c}),Ae=_(()=>{const c={};return $.value.forEach(b=>{const M=nl(b);c[M]===void 0&&(c[M]=[]),c[M].push(b.day)}),c}),Fe=_(()=>{const c={};return ce.value.forEach(b=>{const M=nl(b.from),G=nl(b.to);if(c[M]===void 0&&(c[M]=[]),c[M].push({from:b.from.day,to:M===G?b.to.day:void 0,range:b}),M<G){let le;const{year:Ye,month:se}=b.from,Ie=se<12?{year:Ye,month:se+1}:{year:Ye+1,month:1};for(;(le=nl(Ie))<=G;)c[le]===void 0&&(c[le]=[]),c[le].push({from:void 0,to:le===G?b.to.day:void 0,range:b}),Ie.month++,Ie.month>12&&(Ie.year++,Ie.month=1)}}),c}),Ce=_(()=>{if(N.value===null)return;const{init:c,initHash:b,final:M,finalHash:G}=N.value,[le,Ye]=b<=G?[c,M]:[M,c],se=nl(le),Ie=nl(Ye);if(se!==Xe.value&&Ie!==Xe.value)return;const et={};return se===Xe.value?(et.from=le.day,et.includeFrom=!0):et.from=1,Ie===Xe.value?(et.to=Ye.day,et.includeTo=!0):et.to=R.value,et}),Xe=_(()=>nl(I.value)),De=_(()=>{const c={};if(e.options===void 0){for(let M=1;M<=R.value;M++)c[M]=!0;return c}const b=typeof e.options=="function"?e.options:M=>e.options.includes(M);for(let M=1;M<=R.value;M++){const G=Xe.value+"/"+ft(M);c[M]=b(G)}return c}),Ge=_(()=>{const c={};if(e.events===void 0)for(let b=1;b<=R.value;b++)c[b]=!1;else{const b=typeof e.events=="function"?e.events:M=>e.events.includes(M);for(let M=1;M<=R.value;M++){const G=Xe.value+"/"+ft(M);c[M]=b(G)===!0&&ke.value(G)}}return c}),mt=_(()=>{let c,b;const{year:M,month:G}=I.value;if(e.calendar!=="persian")c=new Date(M,G-1,1),b=new Date(M,G-1,0).getDate();else{const le=ra(M,G,1);c=new Date(le.gy,le.gm-1,le.gd);let Ye=G-1,se=M;Ye===0&&(Ye=12,se--),b=en(se,Ye)}return{days:c.getDay()-W.value-1,endDay:b}}),ot=_(()=>{const c=[],{days:b,endDay:M}=mt.value,G=b<0?b+7:b;if(G<6)for(let se=M-G;se<=M;se++)c.push({i:se,fill:!0});const le=c.length;for(let se=1;se<=R.value;se++){const Ie={i:se,event:Ge.value[se],classes:[]};De.value[se]===!0&&(Ie.in=!0,Ie.flat=!0),c.push(Ie)}if(Ae.value[Xe.value]!==void 0&&Ae.value[Xe.value].forEach(se=>{const Ie=le+se-1;Object.assign(c[Ie],{selected:!0,unelevated:!0,flat:!1,color:re.value,textColor:Q.value})}),Fe.value[Xe.value]!==void 0&&Fe.value[Xe.value].forEach(se=>{if(se.from!==void 0){const Ie=le+se.from-1,et=le+(se.to||R.value)-1;for(let Pt=Ie;Pt<=et;Pt++)Object.assign(c[Pt],{range:se.range,unelevated:!0,color:re.value,textColor:Q.value});Object.assign(c[Ie],{rangeFrom:!0,flat:!1}),se.to!==void 0&&Object.assign(c[et],{rangeTo:!0,flat:!1})}else if(se.to!==void 0){const Ie=le+se.to-1;for(let et=le;et<=Ie;et++)Object.assign(c[et],{range:se.range,unelevated:!0,color:re.value,textColor:Q.value});Object.assign(c[Ie],{flat:!1,rangeTo:!0})}else{const Ie=le+R.value-1;for(let et=le;et<=Ie;et++)Object.assign(c[et],{range:se.range,unelevated:!0,color:re.value,textColor:Q.value})}}),Ce.value!==void 0){const se=le+Ce.value.from-1,Ie=le+Ce.value.to-1;for(let et=se;et<=Ie;et++)c[et].color=re.value,c[et].editRange=!0;Ce.value.includeFrom===!0&&(c[se].editRangeFrom=!0),Ce.value.includeTo===!0&&(c[Ie].editRangeTo=!0)}I.value.year===U.value.year&&I.value.month===U.value.month&&(c[le+U.value.day-1].today=!0);const Ye=c.length%7;if(Ye>0){const se=7-Ye;for(let Ie=1;Ie<=se;Ie++)c.push({i:Ie,fill:!0})}return c.forEach(se=>{let Ie="q-date__calendar-item ";se.fill===!0?Ie+="q-date__calendar-item--fill":(Ie+=`q-date__calendar-item--${se.in===!0?"in":"out"}`,se.range!==void 0&&(Ie+=` q-date__range${se.rangeTo===!0?"-to":se.rangeFrom===!0?"-from":""}`),se.editRange===!0&&(Ie+=` q-date__edit-range${se.editRangeFrom===!0?"-from":""}${se.editRangeTo===!0?"-to":""}`),(se.range!==void 0||se.editRange===!0)&&(Ie+=` text-${se.color}`)),se.classes=Ie}),c}),z=_(()=>e.disable===!0?{"aria-disabled":"true"}:{});Qe(()=>e.modelValue,c=>{if(C===JSON.stringify(c))C=0;else{const b=at(O.value,x.value);xt(b.year,b.month,b)}}),Qe(Y,()=>{A.value!==null&&r.$el.contains(document.activeElement)===!0&&A.value.focus()}),Qe(()=>I.value.year+"|"+I.value.month,()=>{n("navigation",{year:I.value.year,month:I.value.month})}),Qe(P,c=>{Z(c,x.value,"mask"),O.value=c}),Qe(pe,c=>{Z(O.value,c,"locale"),x.value=c});function ne(c){C=JSON.stringify(c)}function ie(){const{year:c,month:b,day:M}=U.value,G={...I.value,year:c,month:b,day:M},le=Ae.value[nl(G)];(le===void 0||le.includes(G.day)===!1)&&Bt(G),be(G.year,G.month)}function je(c){fa(c)===!0&&(Y.value=c)}function Pe(c,b){["month","year"].includes(c)&&(c==="month"?St:yt)(b===!0?-1:1)}function be(c,b){Y.value="Calendar",xt(c,b)}function qe(c,b){if(e.range===!1||!c){N.value=null;return}const M=Object.assign({...I.value},c),G=b!==void 0?Object.assign({...I.value},b):M;N.value={init:M,initHash:ll(M),final:G,finalHash:ll(G)},be(M.year,M.month)}function lt(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function Ze(c,b,M){return gs(c,b,M,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function at(c,b){const M=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(M.length===0)return Ue();const G=M[M.length-1],le=Ze(G.from!==void 0?G.from:G,c,b);return le.dateHash===null?Ue():le}function Ue(){let c,b;if(e.defaultYearMonth!==void 0){const M=e.defaultYearMonth.split("/");c=parseInt(M[0],10),b=parseInt(M[1],10)}else{const M=U.value!==void 0?U.value:d();c=M.year,b=M.month}return{year:c,month:b,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:c+"/"+ft(b)+"/01"}}function St(c){let b=I.value.year,M=Number(I.value.month)+c;M===13?(M=1,b++):M===0&&(M=12,b--),xt(b,M),ue.value===!0&&Tt("month")}function yt(c){const b=Number(I.value.year)+c;xt(b,I.value.month),ue.value===!0&&Tt("year")}function _t(c){xt(c,I.value.month),Y.value=e.defaultView==="Years"?"Months":"Calendar",ue.value===!0&&Tt("year")}function Rt(c){xt(I.value.year,c),Y.value="Calendar",ue.value===!0&&Tt("month")}function Qt(c,b){(Ae.value[b]?.includes(c.day)===!0?D:Bt)(c)}function Dt(c){return{year:c.year,month:c.month,day:c.day}}function xt(c,b,M){if(K.value!==null&&c<=K.value.year&&((b<K.value.month||c<K.value.year)&&(b=K.value.month),c=K.value.year),Te.value!==null&&c>=Te.value.year&&((b>Te.value.month||c>Te.value.year)&&(b=Te.value.month),c=Te.value.year),M!==void 0){const{hour:le,minute:Ye,second:se,millisecond:Ie,timezoneOffset:et,timeHash:Pt}=M;Object.assign(I.value,{hour:le,minute:Ye,second:se,millisecond:Ie,timezoneOffset:et,timeHash:Pt})}const G=c+"/"+ft(b)+"/01";G!==I.value.dateHash&&(ee.value=I.value.dateHash<G==(u.lang.rtl!==!0)?"left":"right",c!==I.value.year&&(g.value=ee.value),It(()=>{V.value=c-c%Xt-(c<0?Xt:0),Object.assign(I.value,{year:c,month:b,day:1,dateHash:G})}))}function $t(c,b,M){const G=c!==null&&c.length===1&&e.multiple===!1?c[0]:c,{reason:le,details:Ye}=Gt(b,M);ne(G),n("update:modelValue",G,le,Ye)}function Tt(c){const b=$.value[0]!==void 0&&$.value[0].dateHash!==null?{...$.value[0]}:{...I.value};It(()=>{b.year=I.value.year,b.month=I.value.month;const M=e.calendar!=="persian"?new Date(b.year,b.month,0).getDate():en(b.year,b.month);b.day=Math.min(Math.max(1,b.day),M);const G=At(b),{details:le}=Gt("",b);ne(G),n("update:modelValue",G,c,le)})}function Gt(c,b){return b.from!==void 0?{reason:`${c}-range`,details:{...Dt(b.target),from:Dt(b.from),to:Dt(b.to)}}:{reason:`${c}-day`,details:Dt(b)}}function At(c,b,M){return c.from!==void 0?{from:Ne.value(c.from,b,M),to:Ne.value(c.to,b,M)}:Ne.value(c,b,M)}function Bt(c){let b;if(e.multiple===!0)if(c.from!==void 0){const M=ll(c.from),G=ll(c.to),le=$.value.filter(se=>se.dateHash<M||se.dateHash>G),Ye=ce.value.filter(({from:se,to:Ie})=>Ie.dateHash<M||se.dateHash>G);b=le.concat(Ye).concat(c).map(se=>At(se))}else{const M=_e.value.slice();M.push(At(c)),b=M}else b=At(c);$t(b,"add",c)}function D(c){if(e.noUnset===!0)return;let b=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const M=At(c);c.from!==void 0?b=e.modelValue.filter(G=>G.from!==void 0?G.from!==M.from&&G.to!==M.to:!0):b=e.modelValue.filter(G=>G!==M),b.length===0&&(b=null)}$t(b,"remove",c)}function Z(c,b,M){const G=$.value.concat(ce.value).map(Ye=>At(Ye,c,b)).filter(Ye=>Ye.from!==void 0?Ye.from.dateHash!==null&&Ye.to.dateHash!==null:Ye.dateHash!==null),le=(e.multiple===!0?G:G[0])||null;ne(le),n("update:modelValue",le,M)}function xe(){if(e.minimal!==!0)return y("div",{class:"q-date__header "+h.value},[y("div",{class:"relative-position"},[y(Yt,{name:"q-transition--fade"},()=>y("div",{key:"h-yr-"+ve.value,class:"q-date__header-subtitle q-date__header-link "+(Y.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...v("vY",{onClick(){Y.value="Years"},onKeyup(c){c.keyCode===13&&(Y.value="Years")}})},[ve.value]))]),y("div",{class:"q-date__header-title relative-position flex no-wrap"},[y("div",{class:"relative-position col"},[y(Yt,{name:"q-transition--fade"},()=>y("div",{key:"h-sub"+E.value,class:"q-date__header-title-label q-date__header-link "+(Y.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...v("vC",{onClick(){Y.value="Calendar"},onKeyup(c){c.keyCode===13&&(Y.value="Calendar")}})},[E.value]))]),e.todayBtn===!0?y(Ve,{class:"q-date__header-today self-start",icon:u.iconSet.datetime.today,"aria-label":u.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:f.value,onClick:ie}):null])])}function ye({label:c,type:b,key:M,dir:G,goTo:le,boundaries:Ye,cls:se}){return[y("div",{class:"row items-center q-date__arrow"},[y(Ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:H.value[0],"aria-label":b==="Years"?u.lang.date.prevYear:u.lang.date.prevMonth,tabindex:f.value,disable:Ye.prev===!1,...v("go-#"+b,{onClick(){le(-1)}})})]),y("div",{class:"relative-position overflow-hidden flex flex-center"+se},[y(Yt,{name:"q-transition--jump-"+G},()=>y("div",{key:M},[y(Ve,{flat:!0,dense:!0,noCaps:!0,label:c,tabindex:f.value,...v("view#"+b,{onClick:()=>{Y.value=b}})})]))]),y("div",{class:"row items-center q-date__arrow"},[y(Ve,{round:!0,dense:!0,size:"sm",flat:!0,icon:H.value[1],"aria-label":b==="Years"?u.lang.date.nextYear:u.lang.date.nextMonth,tabindex:f.value,disable:Ye.next===!1,...v("go+#"+b,{onClick(){le(1)}})})])]}const Be={Calendar:()=>[y("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[y("div",{class:"q-date__navigation row items-center no-wrap"},ye({label:x.value.months[I.value.month-1],type:"Months",key:I.value.month,dir:ee.value,goTo:St,boundaries:Le.value.month,cls:" col"}).concat(ye({label:I.value.year,type:"Years",key:I.value.year,dir:g.value,goTo:yt,boundaries:Le.value.year,cls:""}))),y("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},te.value.map(c=>y("div",{class:"q-date__calendar-item"},[y("div",c)]))),y("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[y(Yt,{name:"q-transition--slide-"+ee.value},()=>y("div",{key:Xe.value,class:"q-date__calendar-days fit"},ot.value.map(c=>y("div",{class:c.classes},[c.in===!0?y(Ve,{class:c.today===!0?"q-date__today":"",dense:!0,flat:c.flat,unelevated:c.unelevated,color:c.color,textColor:c.textColor,label:c.i,tabindex:f.value,...v("day#"+c.i,{onClick:()=>{it(c.i)},onMouseover:()=>{Je(c.i)}})},c.event!==!1?()=>y("div",{class:"q-date__event bg-"+c.event}):null):y("div",""+c.i)]))))])])],Months(){const c=I.value.year===U.value.year,b=G=>K.value!==null&&I.value.year===K.value.year&&K.value.month>G||Te.value!==null&&I.value.year===Te.value.year&&Te.value.month<G,M=x.value.monthsShort.map((G,le)=>{const Ye=I.value.month===le+1;return y("div",{class:"q-date__months-item flex flex-center"},[y(Ve,{class:c===!0&&U.value.month===le+1?"q-date__today":null,flat:Ye!==!0,label:G,unelevated:Ye,color:Ye===!0?re.value:null,textColor:Ye===!0?Q.value:null,tabindex:f.value,disable:b(le+1),...v("month#"+le,{onClick:()=>{Rt(le+1)}})})])});return e.yearsInMonthView===!0&&M.unshift(y("div",{class:"row no-wrap full-width"},[ye({label:I.value.year,type:"Years",key:I.value.year,dir:g.value,goTo:yt,boundaries:Le.value.year,cls:" col"})])),y("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},M)},Years(){const c=V.value,b=c+Xt,M=[],G=le=>K.value!==null&&K.value.year>le||Te.value!==null&&Te.value.year<le;for(let le=c;le<=b;le++){const Ye=I.value.year===le;M.push(y("div",{class:"q-date__years-item flex flex-center"},[y(Ve,{key:"yr"+le,class:U.value.year===le?"q-date__today":null,flat:!Ye,label:le,dense:!0,unelevated:Ye,color:Ye===!0?re.value:null,textColor:Ye===!0?Q.value:null,tabindex:f.value,disable:G(le),...v("yr#"+le,{onClick:()=>{_t(le)}})})]))}return y("div",{class:"q-date__view q-date__years flex flex-center"},[y("div",{class:"col-auto"},[y(Ve,{round:!0,dense:!0,flat:!0,icon:H.value[0],"aria-label":u.lang.date.prevRangeYears(Xt),tabindex:f.value,disable:G(c),...v("y-",{onClick:()=>{V.value-=Xt}})})]),y("div",{class:"q-date__years-content col self-stretch row items-center"},M),y("div",{class:"col-auto"},[y(Ve,{round:!0,dense:!0,flat:!0,icon:H.value[1],"aria-label":u.lang.date.nextRangeYears(Xt),tabindex:f.value,disable:G(b),...v("y+",{onClick:()=>{V.value+=Xt}})})])])}};function it(c){const b={...I.value,day:c};if(e.range===!1){Qt(b,Xe.value);return}if(N.value===null){const M=ot.value.find(le=>le.fill!==!0&&le.i===c);if(e.noUnset!==!0&&M.range!==void 0){D({target:b,from:M.range.from,to:M.range.to});return}if(M.selected===!0){D(b);return}const G=ll(b);N.value={init:b,initHash:G,final:b,finalHash:G},n("rangeStart",Dt(b))}else{const M=N.value.initHash,G=ll(b),le=M<=G?{from:N.value.init,to:b}:{from:b,to:N.value.init};N.value=null,Bt(M===G?b:{target:b,...le}),n("rangeEnd",{from:Dt(le.from),to:Dt(le.to)})}}function Je(c){if(N.value!==null){const b={...I.value,day:c};Object.assign(N.value,{final:b,finalHash:ll(b)})}}return Object.assign(r,{setToday:ie,setView:je,offsetCalendar:Pe,setCalendarTo:be,setEditingRange:qe}),()=>{const c=[y("div",{class:"q-date__content col relative-position"},[y(Yt,{name:"q-transition--fade"},Be[Y.value])])],b=wt(l.default);return b!==void 0&&c.push(y("div",{class:"q-date__actions"},b)),e.name!==void 0&&e.disable!==!0&&q(c,"push"),y("div",{class:j.value,...z.value},[xe(),y("div",{ref:A,class:"q-date__main col column",tabindex:-1},c)])}}}),Il=vt({name:"QToggle",props:{...$o,icon:String,iconColor:String},emits:Ho,setup(e){function l(n,r){const u=_(()=>(n.value===!0?e.checkedIcon:r.value===!0?e.indeterminateIcon:e.uncheckedIcon)||e.icon),i=_(()=>n.value===!0?e.iconColor:null);return()=>[y("div",{class:"q-toggle__track"}),y("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},u.value!==void 0?[y(Re,{name:u.value,color:i.value})]:void 0)]}return zo("toggle",l)}});function va(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const l=parseInt(e,10);return isNaN(l)?0:l}const Jl=ka({name:"close-popup",beforeMount(e,{value:l}){const n={depth:va(l),handler(r){n.depth!==0&&setTimeout(()=>{const u=ni(e);u!==void 0&&ai(u,r,n.depth)})},handlerKey(r){Hl(r,13)===!0&&n.handler(r)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:l,oldValue:n}){l!==n&&(e.__qclosepopup.depth=va(l))},beforeUnmount(e){const l=e.__qclosepopup;e.removeEventListener("click",l.handler),e.removeEventListener("keyup",l.handlerKey),delete e.__qclosepopup}});function ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tn={exports:{}};var _s=tn.exports,ma;function ws(){return ma||(ma=1,(function(e,l){((n,r)=>{e.exports=r()})(_s,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},u,i=!r.document&&!!r.postMessage,v=r.IS_PAPA_WORKER||!1,f={},h=0,w={};function d(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(p){var V=Y(p);V.chunkSize=parseInt(V.chunkSize),p.step||p.chunk||(V.chunkSize=null),this._handle=new O(V),(this._handle.streamer=this)._config=V}).call(this,g),this.parseChunk=function(p,V){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let re=this._config.newline;re||(j=this._config.quoteChar||'"',re=this._handle.guessLineEndings(p,j)),p=[...p.split(re).slice(N)].join(re)}this.isFirstChunk&&ee(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(p))!==void 0&&(p=j),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+p,j=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=j.meta.cursor,N=(this._finished||(this._partialLine=N.substring(p-this._baseIndex),this._baseIndex=p),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),v)r.postMessage({results:j,workerId:w.WORKER_ID,finished:N});else if(ee(this._config.chunk)&&!V){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!N||!ee(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(p){ee(this._config.error)?this._config.error(p):v&&this._config.error&&r.postMessage({workerId:w.WORKER_ID,error:p,finished:!1})}}function C(g){var p;(g=g||{}).chunkSize||(g.chunkSize=w.RemoteChunkSize),d.call(this,g),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(V){this._input=V,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),i||(p.onload=he(this._chunkLoaded,this),p.onerror=he(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var V,N=this._config.downloadRequestHeaders;for(V in N)p.setRequestHeader(V,N[V])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+j));try{p.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}i&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(V=>(V=V.getResponseHeader("Content-Range"))!==null?parseInt(V.substring(V.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(V){V=p.statusText||V,this._sendError(new Error(V))}}function T(g){(g=g||{}).chunkSize||(g.chunkSize=w.LocalChunkSize),d.call(this,g);var p,V,N=typeof FileReader<"u";this.stream=function(j){this._input=j,V=j.slice||j.webkitSlice||j.mozSlice,N?((p=new FileReader).onload=he(this._chunkLoaded,this),p.onerror=he(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,re=(this._config.chunkSize&&(re=Math.min(this._start+this._config.chunkSize,this._input.size),j=V.call(j,this._start,re)),p.readAsText(j,this._config.encoding));N||this._chunkLoaded({target:{result:re}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(p.error)}}function q(g){var p;d.call(this,g=g||{}),this.stream=function(V){return p=V,this._nextChunk()},this._nextChunk=function(){var V,N;if(!this._finished)return V=this._config.chunkSize,p=V?(N=p.substring(0,V),p.substring(V)):(N=p,""),this._finished=!p,this.parseChunk(N)}}function A(g){d.call(this,g=g||{});var p=[],V=!0,N=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):V=!0},this._streamData=he(function(j){try{p.push(typeof j=="string"?j:j.toString(this._config.encoding)),V&&(V=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(re){this._streamError(re)}},this),this._streamError=he(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=he(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=he(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function O(g){var p,V,N,j,re=Math.pow(2,53),Q=-re,ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,_e=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,ce=0,J=0,Ne=!1,S=!1,E=[],L={data:[],errors:[],meta:{}};function de(te){return g.skipEmptyLines==="greedy"?te.join("").trim()==="":te.length===1&&te[0].length===0}function ve(){if(L&&N&&(W("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+w.DefaultDelimiter+"'"),N=!1),g.skipEmptyLines&&(L.data=L.data.filter(function(K){return!de(K)})),H()){let K=function(Te,Le){ee(g.transformHeader)&&(Te=g.transformHeader(Te,Le)),E.push(Te)};if(L)if(Array.isArray(L.data[0])){for(var te=0;H()&&te<L.data.length;te++)L.data[te].forEach(K);L.data.splice(0,1)}else L.data.forEach(K)}function R(K,Te){for(var Le=g.header?{}:[],Ae=0;Ae<K.length;Ae++){var Fe=Ae,Ce=K[Ae],Ce=((Xe,De)=>(Ge=>(g.dynamicTypingFunction&&g.dynamicTyping[Ge]===void 0&&(g.dynamicTyping[Ge]=g.dynamicTypingFunction(Ge)),(g.dynamicTyping[Ge]||g.dynamicTyping)===!0))(Xe)?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&((Ge=>{if(ue.test(Ge)&&(Ge=parseFloat(Ge),Q<Ge&&Ge<re))return 1})(De)?parseFloat(De):_e.test(De)?new Date(De):De===""?null:De):De)(Fe=g.header?Ae>=E.length?"__parsed_extra":E[Ae]:Fe,Ce=g.transform?g.transform(Ce,Fe):Ce);Fe==="__parsed_extra"?(Le[Fe]=Le[Fe]||[],Le[Fe].push(Ce)):Le[Fe]=Ce}return g.header&&(Ae>E.length?W("FieldMismatch","TooManyFields","Too many fields: expected "+E.length+" fields but parsed "+Ae,J+Te):Ae<E.length&&W("FieldMismatch","TooFewFields","Too few fields: expected "+E.length+" fields but parsed "+Ae,J+Te)),Le}var ke;L&&(g.header||g.dynamicTyping||g.transform)&&(ke=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(R),ke=L.data.length):L.data=R(L.data,0),g.header&&L.meta&&(L.meta.fields=E),J+=ke)}function H(){return g.header&&E.length===0}function W(te,R,ke,K){te={type:te,code:R,message:ke},K!==void 0&&(te.row=K),L.errors.push(te)}ee(g.step)&&(j=g.step,g.step=function(te){L=te,H()?ve():(ve(),L.data.length!==0&&(ce+=te.data.length,g.preview&&ce>g.preview?V.abort():(L.data=L.data[0],j(L,$))))}),this.parse=function(te,R,ke){var K=g.quoteChar||'"',K=(g.newline||(g.newline=this.guessLineEndings(te,K)),N=!1,g.delimiter?ee(g.delimiter)&&(g.delimiter=g.delimiter(te),L.meta.delimiter=g.delimiter):((K=((Te,Le,Ae,Fe,Ce)=>{var Xe,De,Ge,mt;Ce=Ce||[",","	","|",";",w.RECORD_SEP,w.UNIT_SEP];for(var ot=0;ot<Ce.length;ot++){for(var z,ne=Ce[ot],ie=0,je=0,Pe=0,be=(Ge=void 0,new P({comments:Fe,delimiter:ne,newline:Le,preview:10}).parse(Te)),qe=0;qe<be.data.length;qe++)Ae&&de(be.data[qe])?Pe++:(z=be.data[qe].length,je+=z,Ge===void 0?Ge=z:0<z&&(ie+=Math.abs(z-Ge),Ge=z));0<be.data.length&&(je/=be.data.length-Pe),(De===void 0||ie<=De)&&(mt===void 0||mt<je)&&1.99<je&&(De=ie,Xe=ne,mt=je)}return{successful:!!(g.delimiter=Xe),bestDelimiter:Xe}})(te,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess)).successful?g.delimiter=K.bestDelimiter:(N=!0,g.delimiter=w.DefaultDelimiter),L.meta.delimiter=g.delimiter),Y(g));return g.preview&&g.header&&K.preview++,p=te,V=new P(K),L=V.parse(p,R,ke),ve(),Ne?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return Ne},this.pause=function(){Ne=!0,V.abort(),p=ee(g.chunk)?"":p.substring(V.getCharIndex())},this.resume=function(){$.streamer._halted?(Ne=!1,$.streamer.parseChunk(p,!0)):setTimeout($.resume,3)},this.aborted=function(){return S},this.abort=function(){S=!0,V.abort(),L.meta.aborted=!0,ee(g.complete)&&g.complete(L),p=""},this.guessLineEndings=function(Te,K){Te=Te.substring(0,1048576);var K=new RegExp(x(K)+"([^]*?)"+x(K),"gm"),ke=(Te=Te.replace(K,"")).split("\r"),K=Te.split(`
`),Te=1<K.length&&K[0].length<ke[0].length;if(ke.length===1||Te)return`
`;for(var Le=0,Ae=0;Ae<ke.length;Ae++)ke[Ae][0]===`
`&&Le++;return Le>=ke.length/2?`\r
`:"\r"}}function x(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function P(g){var p=(g=g||{}).delimiter,V=g.newline,N=g.comments,j=g.step,re=g.preview,Q=g.fastMode,ue=null,_e=!1,$=g.quoteChar==null?'"':g.quoteChar,ce=$;if(g.escapeChar!==void 0&&(ce=g.escapeChar),(typeof p!="string"||-1<w.BAD_DELIMITERS.indexOf(p))&&(p=","),N===p)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<w.BAD_DELIMITERS.indexOf(N))&&(N=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var J=0,Ne=!1;this.parse=function(S,E,L){if(typeof S!="string")throw new Error("Input must be a string");var de=S.length,ve=p.length,H=V.length,W=N.length,te=ee(j),R=[],ke=[],K=[],Te=J=0;if(!S)return ie();if(Q||Q!==!1&&S.indexOf($)===-1){for(var Le=S.split(V),Ae=0;Ae<Le.length;Ae++){if(K=Le[Ae],J+=K.length,Ae!==Le.length-1)J+=V.length;else if(L)return ie();if(!N||K.substring(0,W)!==N){if(te){if(R=[],mt(K.split(p)),je(),Ne)return ie()}else mt(K.split(p));if(re&&re<=Ae)return R=R.slice(0,re),ie(!0)}}return ie()}for(var Fe=S.indexOf(p,J),Ce=S.indexOf(V,J),Xe=new RegExp(x(ce)+x($),"g"),De=S.indexOf($,J);;)if(S[J]===$)for(De=J,J++;;){if((De=S.indexOf($,De+1))===-1)return L||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:R.length,index:J}),z();if(De===de-1)return z(S.substring(J,De).replace(Xe,$));if($===ce&&S[De+1]===ce)De++;else if($===ce||De===0||S[De-1]!==ce){Fe!==-1&&Fe<De+1&&(Fe=S.indexOf(p,De+1));var Ge=ot((Ce=Ce!==-1&&Ce<De+1?S.indexOf(V,De+1):Ce)===-1?Fe:Math.min(Fe,Ce));if(S.substr(De+1+Ge,ve)===p){K.push(S.substring(J,De).replace(Xe,$)),S[J=De+1+Ge+ve]!==$&&(De=S.indexOf($,J)),Fe=S.indexOf(p,J),Ce=S.indexOf(V,J);break}if(Ge=ot(Ce),S.substring(De+1+Ge,De+1+Ge+H)===V){if(K.push(S.substring(J,De).replace(Xe,$)),ne(De+1+Ge+H),Fe=S.indexOf(p,J),De=S.indexOf($,J),te&&(je(),Ne))return ie();if(re&&R.length>=re)return ie(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:R.length,index:J}),De++}}else if(N&&K.length===0&&S.substring(J,J+W)===N){if(Ce===-1)return ie();J=Ce+H,Ce=S.indexOf(V,J),Fe=S.indexOf(p,J)}else if(Fe!==-1&&(Fe<Ce||Ce===-1))K.push(S.substring(J,Fe)),J=Fe+ve,Fe=S.indexOf(p,J);else{if(Ce===-1)break;if(K.push(S.substring(J,Ce)),ne(Ce+H),te&&(je(),Ne))return ie();if(re&&R.length>=re)return ie(!0)}return z();function mt(Pe){R.push(Pe),Te=J}function ot(Pe){var be=0;return be=Pe!==-1&&(Pe=S.substring(De+1,Pe))&&Pe.trim()===""?Pe.length:be}function z(Pe){return L||(Pe===void 0&&(Pe=S.substring(J)),K.push(Pe),J=de,mt(K),te&&je()),ie()}function ne(Pe){J=Pe,mt(K),K=[],Ce=S.indexOf(V,J)}function ie(Pe){if(g.header&&!E&&R.length&&!_e){var be=R[0],qe=Object.create(null),lt=new Set(be);let Ze=!1;for(let at=0;at<be.length;at++){let Ue=be[at];if(qe[Ue=ee(g.transformHeader)?g.transformHeader(Ue,at):Ue]){let St,yt=qe[Ue];for(;St=Ue+"_"+yt,yt++,lt.has(St););lt.add(St),be[at]=St,qe[Ue]++,Ze=!0,(ue=ue===null?{}:ue)[St]=Ue}else qe[Ue]=1,be[at]=Ue;lt.add(Ue)}Ze&&console.warn("Duplicate headers found and renamed."),_e=!0}return{data:R,errors:ke,meta:{delimiter:p,linebreak:V,aborted:Ne,truncated:!!Pe,cursor:Te+(E||0),renamedHeaders:ue}}}function je(){j(ie()),R=[],ke=[]}},this.abort=function(){Ne=!0},this.getCharIndex=function(){return J}}function pe(g){var p=g.data,V=f[p.workerId],N=!1;if(p.error)V.userError(p.error,p.file);else if(p.results&&p.results.data){var j={abort:function(){N=!0,U(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(ee(V.userStep)){for(var re=0;re<p.results.data.length&&(V.userStep({data:p.results.data[re],errors:p.results.errors,meta:p.results.meta},j),!N);re++);delete p.results}else ee(V.userChunk)&&(V.userChunk(p.results,j,p.file),delete p.results)}p.finished&&!N&&U(p.workerId,p.results)}function U(g,p){var V=f[g];ee(V.userComplete)&&V.userComplete(p),V.terminate(),delete f[g]}function I(){throw new Error("Not implemented.")}function Y(g){if(typeof g!="object"||g===null)return g;var p,V=Array.isArray(g)?[]:{};for(p in g)V[p]=Y(g[p]);return V}function he(g,p){return function(){g.apply(p,arguments)}}function ee(g){return typeof g=="function"}return w.parse=function(g,p){var V=(p=p||{}).dynamicTyping||!1;if(ee(V)&&(p.dynamicTypingFunction=V,V={}),p.dynamicTyping=V,p.transform=!!ee(p.transform)&&p.transform,!p.worker||!w.WORKERS_SUPPORTED)return V=null,w.NODE_STREAM_INPUT,typeof g=="string"?(g=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(g),V=new(p.download?C:q)(p)):g.readable===!0&&ee(g.read)&&ee(g.on)?V=new A(p):(r.File&&g instanceof File||g instanceof Object)&&(V=new T(p)),V.stream(g);(V=(()=>{var N;return!!w.WORKERS_SUPPORTED&&(N=(()=>{var j=r.URL||r.webkitURL||null,re=n.toString();return w.BLOB_URL||(w.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",re,")();"],{type:"text/javascript"})))})(),(N=new r.Worker(N)).onmessage=pe,N.id=h++,f[N.id]=N)})()).userStep=p.step,V.userChunk=p.chunk,V.userComplete=p.complete,V.userError=p.error,p.step=ee(p.step),p.chunk=ee(p.chunk),p.complete=ee(p.complete),p.error=ee(p.error),delete p.worker,V.postMessage({input:g,config:p,workerId:V.id})},w.unparse=function(g,p){var V=!1,N=!0,j=",",re=`\r
`,Q='"',ue=Q+Q,_e=!1,$=null,ce=!1,J=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||w.BAD_DELIMITERS.filter(function(E){return p.delimiter.indexOf(E)!==-1}).length||(j=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(V=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(_e=p.skipEmptyLines),typeof p.newline=="string"&&(re=p.newline),typeof p.quoteChar=="string"&&(Q=p.quoteChar),typeof p.header=="boolean"&&(N=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");$=p.columns}p.escapeChar!==void 0&&(ue=p.escapeChar+Q),p.escapeFormulae instanceof RegExp?ce=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(ce=/^[=+\-@\t\r].*$/)}})(),new RegExp(x(Q),"g"));if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return Ne(null,g,_e);if(typeof g[0]=="object")return Ne($||Object.keys(g[0]),g,_e)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields||$),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),Ne(g.fields||[],g.data||[],_e);throw new Error("Unable to serialize unrecognized input");function Ne(E,L,de){var ve="",H=(typeof E=="string"&&(E=JSON.parse(E)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(E)&&0<E.length),W=!Array.isArray(L[0]);if(H&&N){for(var te=0;te<E.length;te++)0<te&&(ve+=j),ve+=S(E[te],te);0<L.length&&(ve+=re)}for(var R=0;R<L.length;R++){var ke=(H?E:L[R]).length,K=!1,Te=H?Object.keys(L[R]).length===0:L[R].length===0;if(de&&!H&&(K=de==="greedy"?L[R].join("").trim()==="":L[R].length===1&&L[R][0].length===0),de==="greedy"&&H){for(var Le=[],Ae=0;Ae<ke;Ae++){var Fe=W?E[Ae]:Ae;Le.push(L[R][Fe])}K=Le.join("").trim()===""}if(!K){for(var Ce=0;Ce<ke;Ce++){0<Ce&&!Te&&(ve+=j);var Xe=H&&W?E[Ce]:Ce;ve+=S(L[R][Xe],Ce)}R<L.length-1&&(!de||0<ke&&!Te)&&(ve+=re)}}return ve}function S(E,L){var de,ve;return E==null?"":E.constructor===Date?JSON.stringify(E).slice(1,25):(ve=!1,ce&&typeof E=="string"&&ce.test(E)&&(E="'"+E,ve=!0),de=E.toString().replace(J,ue),(ve=ve||V===!0||typeof V=="function"&&V(E,L)||Array.isArray(V)&&V[L]||((H,W)=>{for(var te=0;te<W.length;te++)if(-1<H.indexOf(W[te]))return!0;return!1})(de,w.BAD_DELIMITERS)||-1<de.indexOf(j)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?Q+de+Q:de)}},w.RECORD_SEP="",w.UNIT_SEP="",w.BYTE_ORDER_MARK="\uFEFF",w.BAD_DELIMITERS=["\r",`
`,'"',w.BYTE_ORDER_MARK],w.WORKERS_SUPPORTED=!i&&!!r.Worker,w.NODE_STREAM_INPUT=1,w.LocalChunkSize=10485760,w.RemoteChunkSize=5242880,w.DefaultDelimiter=",",w.Parser=P,w.ParserHandle=O,w.NetworkStreamer=C,w.FileStreamer=T,w.StringStreamer=q,w.ReadableStreamStreamer=A,r.jQuery&&((u=r.jQuery).fn.parse=function(g){var p=g.config||{},V=[];return this.each(function(re){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var Q=0;Q<this.files.length;Q++)V.push({file:this.files[Q],inputElem:this,instanceConfig:u.extend({},p)})}),N(),this;function N(){if(V.length===0)ee(g.complete)&&g.complete();else{var re,Q,ue,_e,$=V[0];if(ee(g.before)){var ce=g.before($.file,$.inputElem);if(typeof ce=="object"){if(ce.action==="abort")return re="AbortError",Q=$.file,ue=$.inputElem,_e=ce.reason,void(ee(g.error)&&g.error({name:re},Q,ue,_e));if(ce.action==="skip")return void j();typeof ce.config=="object"&&($.instanceConfig=u.extend($.instanceConfig,ce.config))}else if(ce==="skip")return void j()}var J=$.instanceConfig.complete;$.instanceConfig.complete=function(Ne){ee(J)&&J(Ne,$.file,$.inputElem),j()},w.parse($.file,$.instanceConfig)}}function j(){V.splice(0,1),N()}}),v&&(r.onmessage=function(g){g=g.data,w.WORKER_ID===void 0&&g&&(w.WORKER_ID=g.workerId),typeof g.input=="string"?r.postMessage({workerId:w.WORKER_ID,results:w.parse(g.input,g.config),finished:!0}):(r.File&&g.input instanceof File||g.input instanceof Object)&&(g=w.parse(g.input,g.config))&&r.postMessage({workerId:w.WORKER_ID,results:g,finished:!0})}),(C.prototype=Object.create(d.prototype)).constructor=C,(T.prototype=Object.create(d.prototype)).constructor=T,(q.prototype=Object.create(q.prototype)).constructor=q,(A.prototype=Object.create(d.prototype)).constructor=A,w})})(tn)),tn.exports}var Ss=ws();const qn=ps(Ss),xs={class:"row items-center justify-between q-mb-md"},ks={class:"text-weight-bold q-my-none text-primary"},Cs={class:"text-grey-7 q-my-none"},qs={class:"text-right"},Ds={class:"q-pa-md text-caption"},Ts={key:1,class:"row justify-center q-pa-xl"},Vs={key:2},Ms={key:0},As={class:"row q-col-gutter-md q-mb-lg"},Ps={class:"col-12 col-md-3"},Is={class:"text-h4 text-weight-bold q-mt-sm"},Es={class:"row items-center q-mt-sm"},Rs={class:"col-12 col-md-3"},Os={class:"text-h4 text-weight-bold q-mt-sm"},Ls={class:"row items-center q-mt-sm"},Bs={class:"text-caption q-ml-xs"},Fs={class:"col-12 col-md-3"},$s={class:"row items-center q-mt-sm"},Hs={class:"col-12 col-md-3"},zs={class:"text-h4 text-weight-bold q-mt-sm"},Ns={class:"row items-center q-mt-sm"},js={class:"row items-center justify-between q-mb-md"},Us={class:"row q-col-gutter-md"},Ys={class:"col-12 col-md-6"},Qs={class:"text-center"},Ws={class:"col-12 col-md-6"},Ks={class:"row q-gutter-md"},Gs={class:"row q-col-gutter-md"},Js={class:"col-12 col-md-6"},Xs={class:"col-12 col-md-6"},Zs={class:"col-12 col-md-6"},er={class:"col-12 col-md-6"},tr={class:"col-12 col-md-6"},lr={class:"col-12 col-md-6"},nr={class:"col-12 col-md-6"},ar={class:"col-12 col-md-6"},or={class:"col-12 col-md-6"},ir={class:"col-12 col-md-6"},sr={class:"col-12 col-md-6"},rr={class:"col-12"},ur={class:"row justify-end q-mt-md"},dr={class:"q-mt-xl"},cr={key:1},fr={class:"row q-col-gutter-md q-mb-lg"},vr={class:"col-12 col-md-4"},mr={class:"text-h4 text-weight-bold q-mt-sm"},gr={class:"text-caption"},hr={class:"col-12 col-md-4"},br={class:"text-h4 text-weight-bold q-mt-sm"},yr={class:"col-12 col-md-4"},pr={class:"text-h4 text-weight-bold q-mt-sm"},_r={class:"row q-col-gutter-lg"},wr={class:"col-12 col-md-8"},Sr={class:"text-h6 text-cyan-9"},xr={class:"row q-col-gutter-sm"},kr={class:"col-12 col-md-6"},Cr={class:"col-12 col-md-3"},qr={class:"col-12 col-md-3"},Dr={class:"text-right"},Tr={class:"col-12 col-md-4"},Vr={key:2},Mr={class:"row"},Ar={class:"col-auto q-pr-md",style:{width:"250px","border-right":"1px solid #ddd","min-height":"80vh"}},Pr={class:"col full-width q-pl-md"},Ir={class:"bg-white q-pa-sm rounded-borders shadow-1 row items-center justify-between q-mb-lg"},Er={class:"row items-center q-gutter-x-md"},Rr={class:"text-subtitle2 text-grey-8"},Or={class:"row items-center q-gutter-x-lg text-grey-8 text-weight-bold"},Lr={key:0},Br={class:"row q-col-gutter-md q-mb-lg"},Fr={class:"col-12 col-md-4"},$r={class:"col-12 col-md-4"},Hr={class:"col-12 col-md-4"},zr={class:"row q-col-gutter-md q-mb-lg"},Nr={class:"col-12 col-md-3"},jr={class:"text-h4 text-weight-bold q-mt-sm"},Ur={class:"col-12 col-md-3"},Yr={class:"text-h4 text-weight-bold q-mt-sm"},Qr={class:"col-12 col-md-3"},Wr=["title"],Kr={class:"col-12 col-md-3"},Gr={class:"text-h4 text-weight-bold q-mt-sm"},Jr={key:1},Xr={class:"row q-col-gutter-md"},Zr={class:"col-12 col-md-6"},eu={class:"col-12 col-md-6"},tu={class:"col-12 col-md-6"},lu={class:"col-12 col-md-6"},nu={class:"col-12 col-md-6"},au={class:"col-12 col-md-6"},ou={class:"col-12 col-md-6"},iu={class:"col-12 col-md-6"},su={class:"col-12 col-md-6"},ru={class:"col-12 col-md-6"},uu={class:"col-12 col-md-6"},du={class:"col-12"},cu={class:"row justify-end q-mt-md"},fu={key:2},vu={class:"row q-col-gutter-md"},mu={class:"col-12"},gu={class:"row q-col-gutter-md items-center"},hu={class:"col-12 col-md-6"},bu={key:0,class:"col-12 col-md-6"},yu={class:"row items-center q-gutter-x-md animate-pop"},pu={class:"text-h6"},_u={key:0,class:"text-caption text-grey q-ml-sm"},wu={class:"text-grey q-mt-xs"},Su={key:0,class:"col-12"},xu={class:"text-h6"},ku={class:"text-weight-bold"},Cu={class:"text-subtitle2"},qu={class:"col-12 col-md-6"},Du={class:"row items-center justify-between"},Tu={class:"row q-col-gutter-md"},Vu={class:"col-6"},Mu={class:"col-6"},Au={class:"q-mt-lg"},Pu={class:"text-left"},Iu={class:"text-center"},Eu={key:1},Ru={class:"text-center"},Ou={class:"text-center"},Lu={class:"text-right"},Bu={key:0},Fu={class:"col-12 col-md-6"},$u={class:"row q-col-gutter-sm"},Hu={class:"col-4"},zu={class:"col-4"},Nu={class:"col-4"},ju={class:"q-mt-lg"},Uu={class:"text-left"},Yu={class:"text-right"},Qu={class:"text-right"},Wu={key:0},Ku={key:3},Gu={key:4},Ju={class:"row q-gutter-sm"},Xu={class:"full-width row flex-center text-grey q-pa-md"},Zu={class:"q-mt-md"},ed={key:5},td={class:"row q-col-gutter-sm"},ld={class:"row items-center justify-between no-wrap"},nd={class:"text-h6 text-weight-bold"},ad={class:"q-mt-md"},od={key:0,class:"text-subtitle2 text-weight-bold truncate-text"},id={key:1,class:"text-subtitle2 text-weight-bold truncate-text"},sd={key:2,class:"text-subtitle2 text-grey-8"},rd={key:3,class:"text-caption"},ud={key:4,class:"text-caption truncate-text"},dd={class:"text-h6"},cd={key:6},fd={class:"row items-center q-gutter-x-md"},vd={class:"row q-col-gutter-md q-mb-lg"},md={class:"col-12 col-md-4"},gd={class:"text-h4 text-weight-bold q-mt-sm"},hd={class:"text-caption"},bd={class:"full-width row flex-center text-grey q-pa-md"},yd={key:7},pd={class:"row q-col-gutter-md q-mb-lg"},_d={class:"col-12 col-md-5"},wd={key:0,class:"animate-pop"},Sd={key:1,class:"animate-pop row q-col-gutter-sm"},xd={class:"col-6"},kd={class:"col-6"},Cd={class:"col-12"},qd={key:0,class:"col-12 col-md-7 flex flex-center"},Dd={class:"text-center text-grey"},Td={key:1,class:"col-12 col-md-7"},Vd={class:"text-h6"},Md={class:"text-primary"},Ad={class:"row q-col-gutter-md"},Pd={class:"col-6"},Id={class:"text-h5 text-weight-bold"},Ed={class:"col-6"},Rd={class:"text-h5 text-weight-bold"},Od={class:"col-6"},Ld={class:"text-h5 text-weight-bold"},Bd={class:"col-6"},Fd={class:"text-h5 text-weight-bold"},$d={key:0,class:"q-mt-lg"},Hd={class:"row q-col-gutter-sm"},zd={class:"text-caption text-weight-bold"},Nd={class:"text-h6 text-primary"},jd={key:1,class:"q-mt-lg"},Ud={class:"text-left text-weight-bold"},Yd={class:"text-center"},Qd={class:"text-right"},Wd={key:8,class:"row q-col-gutter-lg"},Kd={class:"col-12"},Gd={style:{height:"350px",width:"100%",position:"relative",padding:"20px 0 40px 40px"}},Jd={viewBox:"0 0 800 300",style:{width:"100%",height:"100%",overflow:"visible"},preserveAspectRatio:"none"},Xd={stroke:"#f5f5f5","stroke-width":"1"},Zd=["x1","x2"],ec={"font-size":"9",fill:"#666","text-anchor":"end"},tc=["x"],lc={fill:"#d32f2f"},nc=["cx"],ac={key:3},oc={class:"row q-col-gutter-md"},ic={class:"col-6 col-md-3"},sc={class:"col-6 col-md-3"},rc={class:"col-12 col-md-6"},uc={class:"col-12 col-md-8"},dc={class:"col-12 col-md-4"},cc={class:"q-pa-md"},fc={key:4,class:"text-center q-pa-xl"},vc={class:"text-caption text-grey"},mc={class:"q-pa-md"},gc={class:"text-caption text-grey-6"},hc={__name:"DashboardPage",setup(e){const l=No(),n=F(null),r=F(!0),u=F([]),i=F(!1),v=F(null),f=F(null),h=F("users"),w=F(!1),d=F(!1),C=F(null),T=F({delete_payments:!1,change_salary:!1,edit_student_profile:!1,view_profit_loss:!1,manage_database:!1}),q=F(""),A=F("Monthly Fee"),O=F(""),x=F("dashboard"),P=F({student_id:"",full_name:"",gender:"Male",dob:"",whatsapp_student:"",guardian_name:"",whatsapp_guardian:"",daham_pasala:"",gn_division:"",address:"",status:"Active",submission_date:new Date().toLocaleDateString("en-CA")}),pe=F(!1),U=async()=>{try{const{data:k,error:t}=await ze.from("students").select("student_id").ilike("student_id","STU165%").order("student_id",{ascending:!1}).limit(1);if(t)throw t;let a="STU1650001";if(k&&k.length>0){const me=k[0].student_id.replace(/\D/g,"");me&&(a=`STU${parseInt(me)+1}`)}P.value.student_id=a}catch(k){console.error("Auto-ID Error:",k)}};Qe(x,k=>{k==="add_student"?U():k==="all_students"?te():k==="checked_in"||k==="pc_management"?(ce(),Ae()):k==="dashboard"&&Pe()});const I=F(null),Y=F(!1),he=()=>{I.value.click()},ee=k=>{const t=k.target.files[0];t&&(Y.value=!0,qn.parse(t,{header:!0,skipEmptyLines:!0,complete:async a=>{const B=a.data,me=[];for(const we of B){const $e=we.StudentID||we.student_id,nt=we["Student Name"]||we.full_name;if($e&&nt){let ht=(we.Gender||we.gender||"Male").trim().toLowerCase(),kt="Male";(ht==="female"||ht==="f")&&(kt="Female"),me.push({student_id:$e,full_name:nt,gender:kt,dob:we.DOB||null,whatsapp_student:we.WhatsApp||"",whatsapp_guardian:we["Guardian WhatsApp"]||"",guardian_name:we["Guardian Name"]||"",daham_pasala:we["Daham Pasala"]||"",gn_division:we["GN Division"]||"",address:we.Address||"",submission_date:we["Submission Date"]||null,status:we.Status||"Active"})}}const fe=new Map;me.forEach(we=>{fe.set(we.student_id,we)});const Me=Array.from(fe.values());if(Me.length>0)try{const{error:we}=await ze.from("students").upsert(Me,{onConflict:"student_id"});if(we)throw we;l.notify({type:"positive",message:`Successfully imported/updated ${Me.length} students!`}),me.length>Me.length&&l.notify({type:"warning",message:`Skipped ${me.length-Me.length} duplicate IDs in CSV`})}catch(we){console.error(we),l.notify({type:"negative",message:"Import failed: "+we.message})}else l.notify({type:"warning",message:"No valid rows found in CSV (Check headers: student_id, full_name)"});Y.value=!1,k.target.value=""},error:a=>{console.error(a),l.notify({type:"negative",message:"Error parsing CSV"}),Y.value=!1}}))},g=F([]),p=F(!1),V=F(!1),N=[{name:"student_id",label:"Student ID",field:k=>k.students?.student_id,align:"left",sortable:!0},{name:"full_name",label:"Student Name",field:k=>k.students?.full_name,align:"left",sortable:!0},{name:"pc_number",label:"Allocated PC",field:"pc_number",align:"center",sortable:!0},{name:"check_in_time",label:"Check-in Time",field:k=>new Date(k.check_in_time).toLocaleTimeString(),align:"center",sortable:!0},{name:"action",label:"Action",field:"action",align:"center"}],j=F([]),re=[{name:"student_id",label:"Student ID",field:k=>k.students?.student_id,align:"left",sortable:!0},{name:"full_name",label:"Name",field:k=>k.students?.full_name,align:"left",sortable:!0},{name:"pc_number",label:"PC",field:"pc_number",align:"center",sortable:!0},{name:"check_in_time",label:"Check-in",field:k=>new Date(k.check_in_time).toLocaleTimeString(),align:"center",sortable:!0},{name:"check_out_time",label:"Check-out",field:k=>k.check_out_time?new Date(k.check_out_time).toLocaleTimeString():"-",align:"center",sortable:!0},{name:"status",label:"Status",field:"status",align:"center"}],Q=F(null),ue=F(!1),_e=()=>{Q.value.click()},$=k=>{const t=k.target.files[0];t&&(ue.value=!0,qn.parse(t,{header:!0,skipEmptyLines:!0,complete:async a=>{const B=a.data;if(B.length===0){l.notify({type:"warning",message:"CSV is empty or invalid"}),ue.value=!1;return}const me=[...new Set(B.map(fe=>fe.student_id||fe.StudentID||fe["Student ID"]).filter(Boolean))];try{const{data:fe,error:Me}=await ze.from("students").select("id, student_id").in("student_id",me);if(Me)throw Me;const we={};fe.forEach(ae=>{we[ae.student_id]=ae.id});const $e=[],nt={},ht=ae=>{if(!ae)return null;let X=ae.trim();if(X.includes("/")||X.includes("-")){const He=X.split(/[/-]/);if(He[2]&&He[2].length===4)return`${He[2]}-${He[1].padStart(2,"0")}-${He[0].padStart(2,"0")}`}return X},kt=ae=>{if(!ae)return null;let X=ae.trim().toLowerCase();X=X.replace(/\./g,":");let He=0,We=0,dt=0;if(X.includes("pm")||X.includes("am")){const ct=X.includes("pm");X=X.replace(/(pm|am)/g,"").trim();const ut=X.split(":");ut[0]&&(He=parseInt(ut[0])),ut[1]&&(We=parseInt(ut[1])),ct&&He<12&&(He+=12),!ct&&He===12&&(He=0)}else{const ct=X.split(":");ct[0]&&(He=parseInt(ct[0])),ct[1]&&(We=parseInt(ct[1])),ct[2]&&(dt=parseInt(ct[2]))}return`${String(He).padStart(2,"0")}:${String(We).padStart(2,"0")}:${String(dt).padStart(2,"0")}`};if(B.forEach(ae=>{try{const X=ae.student_id||ae.StudentID||ae["Student ID"],He=ae.date||ae.Date,We=ae.check_in_time||ae.CheckIn||ae["Check In"],dt=ae.check_out_time||ae.CheckOut||ae.checkOut||ae["Check Out"],ct=ae.pc_number||ae.PC_Number||ae["PC Number"],ut=we[X],Ot=ht(He);if(ut&&Ot&&Ot.length>=10&&We){const Dl=kt(We);if(!Dl.includes("NaN")){const sl=`${Ot}T${Dl}`;let Jt=null;if(dt){const Ht=kt(dt);Ht.includes("NaN")||(Jt=`${Ot}T${Ht}`)}const Wt=new Date(sl);if(isNaN(Wt.getTime()))console.warn("Skipping invalid timestamp:",sl,ae);else{const Ht={student_record_id:ut,date:Ot,check_in_time:Wt.toISOString(),pc_number:ct||null};if(Jt){const Tl=new Date(Jt);isNaN(Tl.getTime())||(Ht.check_out_time=Tl.toISOString())}else Ht.check_out_time=null;$e.push(Ht),(!nt[X]||new Date(Ot)>new Date(nt[X]))&&(nt[X]=Ot)}}}}catch(X){console.error("Row parse error:",X,ae)}}),$e.length>0){const{error:ae}=await ze.from("attendance").insert($e);if(ae)throw ae;l.notify({type:"positive",message:`Successfully imported ${$e.length} attendance records!`});for(const[X,He]of Object.entries(nt))await ze.from("students").update({last_attendance_date:He}).eq("student_id",X);ce(),Pe()}else l.notify({type:"warning",message:"No matching students found for import"})}catch(fe){console.error(fe),l.notify({type:"negative",message:"Import failed: "+fe.message})}finally{ue.value=!1,k.target.value=""}},error:a=>{console.error(a),l.notify({type:"negative",message:"Error parsing CSV"}),ue.value=!1}}))},ce=async()=>{p.value=!0;try{const k=new Date().toLocaleDateString("en-CA"),{data:t,error:a}=await ze.from("attendance").select("*, students(student_id, full_name)").eq("date",k).order("check_in_time",{ascending:!1});if(a)throw a;j.value=t,g.value=t.filter(B=>!B.check_out_time)}catch(k){console.error(k),l.notify({type:"negative",message:"Error fetching checked-in list"})}finally{p.value=!1}},J=async k=>{try{const{error:t}=await ze.from("attendance").update({check_out_time:new Date().toISOString()}).eq("id",k.id);if(t)throw t;l.notify({type:"positive",message:`Student ${k.students?.student_id} checked out successfully`}),ce()}catch(t){console.error(t),l.notify({type:"negative",message:"Check-out failed"})}},Ne=()=>{V.value=!0},S=async()=>{try{const k=g.value.map(a=>a.id);if(k.length===0)return;const{error:t}=await ze.from("attendance").update({check_out_time:new Date().toISOString()}).in("id",k);if(t)throw t;l.notify({type:"positive",message:"All students checked out successfully"}),ce(),V.value=!1}catch(k){console.error(k),l.notify({type:"negative",message:"Check-out all failed"})}},E=async()=>{if(!P.value.student_id||!P.value.full_name){l.notify({type:"negative",message:"Please fill in required fields (ID, Name)"});return}pe.value=!0;try{const{error:k}=await ze.from("students").insert([P.value]);if(k)throw k;l.notify({type:"positive",message:"Student registered successfully!"}),P.value={student_id:"",full_name:"",gender:"Male",dob:"",whatsapp_student:"",guardian_name:"",whatsapp_guardian:"",daham_pasala:"",gn_division:"",address:"",status:"Active",submission_date:new Date().toLocaleDateString("en-CA")},d.value=!1}catch(k){console.error(k),l.notify({type:"negative",message:"Error adding student: "+k.message})}finally{pe.value=!1}},L=F([]),de=F(!1),ve=F(""),H=k=>{if(!k?.last_attendance_date)return!1;const t=new Date(k.last_attendance_date),B=Math.abs(new Date-t);return Math.ceil(B/(1e3*60*60*24))<=30},W=[{name:"student_id",label:"ID",field:"student_id",sortable:!0,align:"left"},{name:"full_name",label:"Full Name",field:"full_name",sortable:!0,align:"left"},{name:"gender",label:"Gender",field:"gender",sortable:!0,align:"left"},{name:"dob",label:"DOB",field:"dob",sortable:!0,align:"left"},{name:"address",label:"Address",field:"address",align:"left"},{name:"status",label:"Status",field:k=>H(k)?"Active":"Inactive",align:"center",sortable:!0},{name:"actions",label:"Actions",field:"actions",align:"center"}],te=async()=>{de.value=!0;try{const{data:k,error:t}=await ze.from("students").select("*").order("created_at",{ascending:!1});if(t)throw t;L.value=k}catch(k){console.error(k),l.notify({type:"negative",message:"Error fetching students"})}finally{de.value=!1}},R=F(21),ke=F([]),K=F(!1),Te=F(""),Le=F({type:"Hardware",description:""}),Ae=async()=>{const{data:k,error:t}=await ze.from("pc_issues").select("*").neq("status","Resolved");t||(ke.value=k||[])},Fe=k=>{Te.value=k,Le.value={type:"Hardware",description:""},K.value=!0},Ce=async()=>{if(!Le.value.description){l.notify({type:"warning",message:"Please describe the issue"});return}try{const{error:k}=await ze.from("pc_issues").insert([{pc_number:Te.value,issue_type:Le.value.type,description:Le.value.description,reported_by:v.value}]);if(k)throw k;l.notify({type:"positive",message:"Issue reported successfully"}),K.value=!1,Ae()}catch(k){console.error(k),l.notify({type:"negative",message:"Failed to report issue"})}},Xe=async k=>{try{const t=ke.value.find(B=>B.pc_number===k);if(!t)return;const{error:a}=await ze.from("pc_issues").update({status:"Resolved",resolved_at:new Date().toISOString()}).eq("id",t.id);if(a)throw a;l.notify({type:"positive",message:"Issue marked as resolved"}),Ae()}catch(t){console.error(t),l.notify({type:"negative",message:"Failed to resolve issue"})}},De=_(()=>{const k=[];for(let t=1;t<=R.value;t++){const a=`PC-${String(t).padStart(2,"0")}`,B=g.value.find(fe=>fe.pc_number===a),me=ke.value.find(fe=>fe.pc_number===a);me?k.push({id:a,status:"Issue",student_id:null,student_name:me.issue_type,color:"orange-1",textColor:"orange-9",icon:"build",record:me}):B?k.push({id:a,status:"Occupied",student_id:B.students?.student_id,student_name:B.students?.full_name,color:"red-1",textColor:"red-9",icon:"person",record:B}):k.push({id:a,status:"Available",student_id:null,student_name:null,color:"green-1",textColor:"green-9",icon:"computer",record:null})}return k}),Ge=F(0),mt=F(0),ot=F(!1),z=F(0),ne=F(0),ie=F(0),je=F(0),Pe=async()=>{ot.value=!0;try{const k=new Date().toLocaleDateString("en-CA"),{count:t,error:a}=await ze.from("students").select("*",{count:"exact",head:!0});if(a)throw a;Ge.value=t||0;const B=new Date;B.setDate(B.getDate()-30);const{count:me,error:fe}=await ze.from("students").select("*",{count:"exact",head:!0}).gte("last_attendance_date",B.toISOString().split("T")[0]);if(fe)throw fe;mt.value=me||0;const{count:Me,error:we}=await ze.from("attendance").select("*",{count:"exact",head:!0}).eq("date",k);if(we)throw we;ne.value=Me||0;const{count:$e,error:nt}=await ze.from("attendance").select("*",{count:"exact",head:!0}).eq("date",k).is("check_out_time",null);if(nt)throw nt;ie.value=$e||0;const ht=new Date;ht.setHours(0,0,0,0);const{data:kt,error:ae}=await ze.from("payments").select("amount").gte("paid_at",ht.toISOString());if(ae)throw ae;z.value=(kt||[]).reduce((We,dt)=>We+Number(dt.amount),0);const{count:X,error:He}=await ze.from("students").select("*",{count:"exact",head:!0}).eq("submission_date",k);if(He)throw He;je.value=X||0}catch(k){console.error("Stats Error:",k)}finally{ot.value=!1}},be=F("daily"),qe=F(new Date().toLocaleDateString("en-CA")),lt=F(new Date().toLocaleString("default",{month:"long"})),Ze=F(new Date().getFullYear()),at=F(!1),Ue=F(null),St=async()=>{at.value=!0,Ue.value=null;try{let k=0,t=0,a=0,B=[],me=[];if(be.value==="daily"){const fe=new Date(qe.value);fe.setHours(0,0,0,0);const Me=new Date(qe.value);Me.setHours(23,59,59,999);const{data:we}=await ze.from("payments").select("amount").gte("paid_at",fe.toISOString()).lte("paid_at",Me.toISOString());we&&(k=we.reduce((ae,X)=>ae+Number(X.amount),0));const{data:$e}=await ze.from("expenses").select("amount").eq("expense_date",qe.value);$e&&(t=$e.reduce((ae,X)=>ae+Number(X.amount),0));const{data:nt}=await ze.from("attendance").select("*").eq("date",qe.value);a=nt?.length||0;const ht={};nt&&nt.forEach(ae=>{if(ae.pc_number&&(ht[ae.pc_number]||(ht[ae.pc_number]={id:ae.pc_number,sessions:0,minutes:0}),ht[ae.pc_number].sessions++,ae.check_in_time&&ae.check_out_time)){const X=new Date(ae.check_in_time),We=(new Date(ae.check_out_time)-X)/1e3/60;We>0&&(ht[ae.pc_number].minutes+=We)}}),me=Object.values(ht).sort((ae,X)=>ae.id.localeCompare(X.id)),B=[{label:"08:30 - 10:30",start:"08:30",end:"10:30"},{label:"10:30 - 12:30",start:"10:30",end:"12:30"},{label:"12:30 - 14:30",start:"12:30",end:"14:30"},{label:"14:30 - 16:30",start:"14:30",end:"16:30"},{label:"16:30 - 18:30",start:"16:30",end:"18:30"},{label:"18:30 - 20:30",start:"18:30",end:"20:30"}].map(ae=>{const X=new Date(`${qe.value}T${ae.start}:00`),He=new Date(`${qe.value}T${ae.end}:00`),We=nt?nt.filter(dt=>{const ct=new Date(dt.check_in_time),ut=dt.check_out_time?new Date(dt.check_out_time):new Date(`${qe.value}T23:59:59`),Ot=ct>X?ct:X;return(ut<He?ut:He)-Ot>=36e5}).length:0;return{...ae,count:We}})}else{const{data:fe}=await ze.from("payments").select("amount").eq("year",Ze.value).eq("month",lt.value);fe&&(k=fe.reduce((ae,X)=>ae+Number(X.amount),0));const Me=new Date(`${lt.value} 1, 2000`).getMonth(),we=new Date(Ze.value,Me,1),$e=new Date(Ze.value,Me+1,0),{data:nt}=await ze.from("expenses").select("amount").gte("expense_date",we.toISOString().split("T")[0]).lte("expense_date",$e.toISOString().split("T")[0]);nt&&(t=nt.reduce((ae,X)=>ae+Number(X.amount),0));const{data:ht}=await ze.from("attendance").select("*").gte("date",we.toISOString().split("T")[0]).lte("date",$e.toISOString().split("T")[0]);a=ht?.length||0;const kt={};ht&&ht.forEach(ae=>{if(ae.pc_number&&(kt[ae.pc_number]||(kt[ae.pc_number]={id:ae.pc_number,sessions:0,minutes:0}),kt[ae.pc_number].sessions++,ae.check_in_time&&ae.check_out_time)){const X=new Date(ae.check_in_time),We=(new Date(ae.check_out_time)-X)/1e3/60;We>0&&(kt[ae.pc_number].minutes+=We)}}),me=Object.values(kt).sort((ae,X)=>ae.id.localeCompare(X.id))}Ue.value={income:k,expenses:t,net:k-t,attendance:a,slots:B,pcUsage:me,period:be.value==="daily"?qe.value:`${lt.value} ${Ze.value}`}}catch(k){console.error(k),l.notify({type:"negative",message:"Failed to generate report"})}finally{at.value=!1}},yt=F([]),_t=F(!1),Rt=F(new Date().toISOString().slice(0,7)),Qt=[{name:"date",label:"Paid At",field:"paid_at",align:"left",sortable:!0,format:k=>k?new Date(k).toLocaleDateString():"-"},{name:"student_id",label:"Student ID",field:k=>k.students?.student_id||"-",align:"left",sortable:!0},{name:"year",label:"Year",field:"year",align:"center",sortable:!0},{name:"month",label:"Month",field:"month",align:"center",sortable:!0},{name:"amount",label:"Amount (LKR)",field:"amount",align:"right",sortable:!0,format:k=>k?k.toLocaleString():"0"}],Dt=_(()=>yt.value.reduce((k,t)=>k+Number(t.amount),0)),xt=async()=>{_t.value=!0;try{const[k,t]=Rt.value.split("-"),a=`${Rt.value}-01`,B=new Date(k,t,0).toLocaleDateString("en-CA"),{data:me,error:fe}=await ze.from("payments").select("*, students(student_id)").gte("paid_at",a).lte("paid_at",B).order("paid_at",{ascending:!1});if(fe)throw fe;yt.value=me}catch(k){console.error(k),l.notify({type:"negative",message:"Failed to fetch payments"})}finally{_t.value=!1}};Qe(Rt,()=>{x.value==="monthly_expenses"&&xt()}),Qe(x,k=>{k==="monthly_expenses"&&xt()});const $t=F(null),Tt=F(!1),Gt=()=>{$t.value.click()},At=k=>{const t=k.target.files[0];t&&(Tt.value=!0,qn.parse(t,{header:!0,skipEmptyLines:!0,transformHeader:a=>a.trim(),complete:async a=>{const B=a.data;if(B.length===0){l.notify({type:"warning",message:"CSV is empty or invalid"}),Tt.value=!1;return}const me=[...new Set(B.map(fe=>fe.StudentID||fe["Student ID"]||fe.student_id).filter(Boolean))];try{const{data:fe,error:Me}=await ze.from("students").select("id, student_id").in("student_id",me);if(Me)throw Me;const we={};fe.forEach(X=>{we[X.student_id]=X.id});const $e=[],nt=X=>{if(!X)return null;let He=X.trim();const We=He.split(/[/\-.]/);if(We.length>=3){if(We[0].length===4)return`${We[0]}-${We[1].padStart(2,"0")}-${We[2].padStart(2,"0")}`;if(We[2].length===4)return parseInt(We[1])>12?`${We[2]}-${We[0].padStart(2,"0")}-${We[1].padStart(2,"0")}`:`${We[2]}-${We[1].padStart(2,"0")}-${We[0].padStart(2,"0")}`}return He},ht=X=>{if(!X)return"00:00:00";let He=X.trim().toLowerCase().replace(/\./g,":");if(He.includes("pm")||He.includes("am")){const dt=He.includes("pm");He=He.replace(/[a-z]/g,"").trim();const ct=He.split(":");let ut=parseInt(ct[0]||"0"),Ot=parseInt(ct[1]||"0");return dt&&ut<12&&(ut+=12),!dt&&ut===12&&(ut=0),`${String(ut).padStart(2,"0")}:${String(Ot).padStart(2,"0")}:00`}const We=He.split(":");if(We.length>=2){const dt=We[0].padStart(2,"0"),ct=We[1].padStart(2,"0"),ut=(We[2]||"0").padStart(2,"0");return`${dt}:${ct}:${ut}`}return He},kt=(X,He)=>{const We=Object.keys(X);for(const dt of We){const ct=dt.toLowerCase().trim();if(He.some(ut=>ct.includes(ut)))return X[dt]}};let ae=0;if(B.forEach(X=>{const He=X.StudentID||X["Student ID"]||X.student_id,We=we[He];if(We){let dt=X.Date||X.date||X["Paid At"]||X.paid_at||X["Payment Date"],ct=X.Time||X.time||X["Paid Time"]||X.paid_time;ct||(ct=kt(X,["time"]));let ut=null;if(dt){const Wt=ct?`${dt} ${ct}`:dt,Ht=new Date(Wt);isNaN(Ht.getTime())||(ut=Ht.toISOString())}if(!ut&&dt){const Wt=nt(dt),Ht=ht(ct);if(Wt){const Tl=new Date(`${Wt}T${Ht}`);isNaN(Tl.getTime())||(ut=Tl.toISOString())}}ut||(ut=new Date().toISOString(),dt&&ae++);const Ot=X.Amount||X.amount||"0",Dl=String(Ot).replace(/[^0-9.-]+/g,"");let sl=parseFloat(Dl);isNaN(sl)&&(sl=0);let Jt=X.Month||X.month;if(!Jt)try{const Wt=new Date(ut);isNaN(Wt.getTime())||(Jt=Wt.toLocaleString("default",{month:"long"}))}catch{}Jt||(Jt="January"),$e.push({student_record_id:We,year:parseInt(X.Year||X.year||new Date().getFullYear()),month:Jt,amount:sl,paid_at:ut,collected_by:n.value?.id||v.value})}}),$e.length>0){const{error:X}=await ze.from("payments").insert($e);if(X)throw X;let He=`Imported ${$e.length} payments successfully!`;ae>0?(He+=` Warning: ${ae} records had invalid dates and used Today's date.`,l.notify({type:"warning",message:He,timeout:5e3})):l.notify({type:"positive",message:He})}else l.notify({type:"warning",message:"No valid payment records found to import"})}catch(fe){console.error(fe),l.notify({type:"negative",message:"Payment import failed: "+fe.message})}finally{Tt.value=!1,k.target.value=""}},error:a=>{console.error(a),Tt.value=!1,l.notify({type:"negative",message:"Error parsing CSV"})}}))},Bt=F("STU165"),D=F(null),Z=F(!1),xe=F(new Date().toLocaleDateString("en-CA")),ye=F([]),Be=_(()=>ye.value.find(k=>!k.check_out_time)),it=F([]),Je=F({year:new Date().getFullYear(),month:new Date().toLocaleString("default",{month:"long"}),amount:""}),c=async()=>{if(Bt.value){Z.value=!0,D.value=null,ye.value=[],it.value=[];try{const{data:k,error:t}=await ze.from("students").select("*").eq("student_id",Bt.value).maybeSingle();if(t||!k){l.notify({type:"warning",message:"Student not found"});return}D.value=k;const{data:a}=await ze.from("attendance").select("*").eq("student_record_id",k.id).order("date",{ascending:!1}).limit(10);ye.value=a||[];const{data:B}=await ze.from("payments").select("*").eq("student_record_id",k.id).order("paid_at",{ascending:!1}).limit(10);it.value=B||[]}catch(k){console.error(k),l.notify({type:"negative",message:"Error searching student"})}finally{Z.value=!1}}},b=async()=>{if(D.value)try{const{data:k,error:t}=await ze.from("attendance").select("pc_number").is("check_out_time",null);if(t)throw t;const{data:a,error:B}=await ze.from("pc_issues").select("pc_number").neq("status","Resolved");if(B)throw B;const me=new Set(k.map(nt=>nt.pc_number).filter(Boolean)),fe=new Set(a.map(nt=>nt.pc_number).filter(Boolean));let Me=null;const we=21;for(let nt=1;nt<=we;nt++){const ht=`PC-${String(nt).padStart(2,"0")}`;if(!me.has(ht)&&!fe.has(ht)){Me=ht;break}}if(!Me){l.notify({type:"negative",message:"All PCs are currently occupied or unavailable.",timeout:5e3});return}const{error:$e}=await ze.from("attendance").insert([{student_record_id:D.value.id,date:xe.value,check_in_time:new Date().toISOString(),pc_number:Me}]);if($e)throw $e;l.notify({type:"positive",message:`Checked In Successfully! Assigned to ${Me}`,icon:"computer",timeout:5e3}),D.value&&(D.value.last_attendance_date=xe.value),c()}catch(k){console.error(k),l.notify({type:"negative",message:"Check-in failed"})}},M=async()=>{if(D.value)try{const{data:k}=await ze.from("attendance").select("id").eq("student_record_id",D.value.id).eq("date",xe.value).is("check_out_time",null).order("check_in_time",{ascending:!1}).limit(1);if(k&&k.length>0){const{error:t}=await ze.from("attendance").update({check_out_time:new Date().toISOString()}).eq("id",k[0].id);if(t)throw t;l.notify({type:"positive",message:"Checked Out Successfully"}),c()}else l.notify({type:"warning",message:"No active check-in found for today"})}catch(k){console.error(k),l.notify({type:"negative",message:"Check-out failed"})}},G=async()=>{if(!(!D.value||!Je.value.amount))try{const{error:k}=await ze.from("payments").insert([{student_record_id:D.value.id,year:Je.value.year,month:Je.value.month,amount:Je.value.amount,paid_at:new Date().toISOString()}]);if(k)throw k;l.notify({type:"positive",message:"Payment recorded"}),Je.value.amount="",c()}catch(k){console.error(k),l.notify({type:"negative",message:"Payment failed"})}},le=F(new Date().toLocaleDateString("en-CA")),Ye=[{name:"email",label:"Email",field:"email",align:"left",sortable:!0},{name:"role",label:"Role",field:"role",align:"left",sortable:!0,style:"width: 200px"},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"actions",label:"Actions",field:"actions",align:"right"}];$l(async()=>{try{const{data:{user:k}}=await ze.auth.getUser();if(v.value=k?.id,k){const{data:t,error:a}=await ze.from("profiles").select("*").eq("id",k.id).single();a?(f.value=a.message,console.error("Profile Load Error:",a)):n.value=t,n.value?.role==="admin"&&se(),["admin","teacher","sub_admin","staff"].includes(n.value?.role)&&Pe()}}catch(k){console.error(k),f.value=k.message}finally{r.value=!1}});const se=async()=>{i.value=!0;const{data:k,error:t}=await ze.from("profiles").select("*").order("created_at",{ascending:!1});t||(u.value=k),i.value=!1},Ie=async(k,t)=>{try{const{error:a}=await ze.from("profiles").update({status:t}).eq("id",k);if(a)throw a;l.notify({color:"positive",message:`Status updated to ${t}`,icon:"check"}),se()}catch(a){console.error(a),l.notify({color:"negative",message:"Failed to update status",icon:"error"})}},et=async(k,t)=>{try{const{error:a}=await ze.from("profiles").update({role:t}).eq("id",k);if(a)throw a;l.notify({color:"positive",message:`Role updated to ${t}`,icon:"check"}),se()}catch(a){console.error(a),l.notify({color:"negative",message:"Failed to update role",icon:"error"})}},Pt=k=>{C.value=k;const t={delete_payments:!1,change_salary:!1,edit_student_profile:!1,view_profit_loss:!1,manage_database:!1};T.value={...t,...k.permissions||{}},w.value=!0},ql=async()=>{try{const{error:k}=await ze.from("profiles").update({permissions:T.value}).eq("id",C.value.id);if(k)throw k;l.notify({color:"positive",message:"Permissions saved successfully",icon:"check"}),w.value=!1,se()}catch(k){console.error(k),l.notify({color:"negative",message:"Failed to save permissions",icon:"error"})}},mn=k=>{switch(k){case"active":return"green";case"pending":return"orange";case"rejected":return"red";default:return"grey"}},zl=k=>{switch(k){case"admin":return"red-9";case"sub_admin":return"deep-purple";case"teacher":return"blue";case"staff":return"teal";case"student":return"grey-7";default:return"grey"}},Nl=k=>{switch(k){case"admin":return"Super Admin";case"sub_admin":return"Sub-Admin";case"teacher":return"Teacher";case"staff":return"Staff/Reception";case"student":return"Student";default:return k}},jl=k=>{switch(k){case"sub_admin":return"Can check attendance, daily reports, and schedules.";case"staff":return"Can register students, collect fees, mark attendance.";case"teacher":return"Can view class lists, upload materials, add marks.";case"student":return"Can view own profile and results.";default:return""}};return(k,t)=>(oe(),bt(Fo,{class:"q-pa-md bg-grey-1"},{default:m(()=>[s("div",xs,[s("div",null,[s("h4",ks,Se(n.value?.role==="admin"?"Super Admin Dashboard":"My Dashboard"),1),s("p",Cs," Welcome back, "+Se(n.value?.role==="admin"?"Deepal":"User"),1)]),s("div",qs,[o(Ve,{color:"white","text-color":"primary",icon:"event",label:new Date().toLocaleDateString(),unelevated:"",class:"shadow-1"},null,8,["label"])])]),n.value?.role==="admin"?(oe(),bt(Yo,{key:0,dense:"","dense-toggle":"","expand-separator":"",icon:"bug_report",label:"Dev Debug Info",class:"q-mb-md bg-white rounded-borders shadow-1"},{default:m(()=>[s("div",Ds,[s("div",null,"User ID: "+Se(v.value),1),s("div",null,"Role: "+Se(n.value?.role),1),s("div",null,"Status: "+Se(n.value?.status),1)])]),_:1})):st("",!0),r.value?(oe(),Oe("div",Ts,[o(ko,{color:"primary",size:"3em"})])):(oe(),Oe("div",Vs,[n.value?.role==="admin"?(oe(),Oe("div",Ms,[s("div",As,[s("div",Ps,[o(Ee,{class:"no-shadow border-radius-lg bg-blue-7 text-white"},{default:m(()=>[o(ge,null,{default:m(()=>[t[66]||(t[66]=s("div",{class:"text-subtitle2 text-blue-2"},"Today's Collection",-1)),s("div",Is," LKR "+Se(z.value.toLocaleString()),1),s("div",Es,[o(Re,{name:"trending_up",size:"xs"}),t[65]||(t[65]=s("span",{class:"text-caption q-ml-xs"},"Updated just now",-1))])]),_:1})]),_:1})]),s("div",Rs,[o(Ee,{class:"no-shadow border-radius-lg bg-deep-purple-7 text-white"},{default:m(()=>[o(ge,null,{default:m(()=>[t[67]||(t[67]=s("div",{class:"text-subtitle2 text-deep-purple-2"},"Active Students",-1)),s("div",Os,Se(mt.value),1),s("div",Ls,[o(Re,{name:"person_add",size:"xs"}),s("span",Bs,"Total: "+Se(Ge.value),1)])]),_:1})]),_:1})]),s("div",Fs,[o(Ee,{class:"no-shadow border-radius-lg bg-orange-8 text-white"},{default:m(()=>[o(ge,null,{default:m(()=>[t[69]||(t[69]=s("div",{class:"text-subtitle2 text-orange-2"},"Total Branches",-1)),t[70]||(t[70]=s("div",{class:"text-h4 text-weight-bold q-mt-sm"},"5",-1)),s("div",$s,[o(Re,{name:"store",size:"xs"}),t[68]||(t[68]=s("span",{class:"text-caption q-ml-xs"},"All systems operational",-1))])]),_:1})]),_:1})]),s("div",Hs,[o(Ee,{class:"no-shadow border-radius-lg bg-green-7 text-white"},{default:m(()=>[o(ge,null,{default:m(()=>[t[72]||(t[72]=s("div",{class:"text-subtitle2 text-green-2"},"Checked-in Now (Live)",-1)),s("div",zs,Se(ie.value),1),s("div",Ns,[o(Re,{name:"schedule",size:"xs"}),t[71]||(t[71]=s("span",{class:"text-caption q-ml-xs"},"Active sessions running",-1))])]),_:1})]),_:1})])]),o(Ee,{class:"no-shadow border-radius-lg"},{default:m(()=>[o(Zo,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=a=>h.value=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:m(()=>[o(Ul,{name:"users",icon:"group",label:"User & Staff"}),o(Ul,{name:"finance",icon:"payments",label:"Finance"}),o(Ul,{name:"academic",icon:"school",label:"Academic"}),o(Ul,{name:"analytics",icon:"analytics",label:"Analytics & Logs"})]),_:1},8,["modelValue"]),o(jt),o(Xi,{modelValue:h.value,"onUpdate:modelValue":t[16]||(t[16]=a=>h.value=a),animated:""},{default:m(()=>[o(Wl,{name:"users",class:"q-pa-md"},{default:m(()=>[s("div",js,[t[73]||(t[73]=s("div",{class:"text-h6 text-primary"},"Team Management & Access Control",-1)),o(Ve,{color:"primary",icon:"person_add",label:"Add New User",unelevated:"",size:"sm",onClick:t[1]||(t[1]=a=>k.newUserDialog=!0)})]),o(Pl,{rows:u.value,columns:Ye,"row-key":"id",flat:"",bordered:"",loading:i.value},{"body-cell-role":m(a=>[o(ul,{props:a},{default:m(()=>[o(Nt,{modelValue:a.row.role,"onUpdate:modelValue":[B=>a.row.role=B,B=>et(a.row.id,B)],options:["admin","sub_admin","staff","teacher","student"],dense:"",borderless:"","emit-value":"","map-options":""},{selected:m(()=>[o(El,{dense:"",color:zl(a.row.role),"text-color":"white"},{default:m(()=>[Ke(Se(Nl(a.row.role)),1)]),_:2},1032,["color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["props"])]),"body-cell-status":m(a=>[o(ul,{props:a},{default:m(()=>[o(El,{color:mn(a.row.status),"text-color":"white",size:"sm",class:"text-weight-bold"},{default:m(()=>[Ke(Se(a.row.status.toUpperCase()),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-actions":m(a=>[o(ul,{props:a,class:"q-gutter-sm"},{default:m(()=>[o(Ve,{color:"indigo",icon:"vpn_key",label:"Permissions",size:"sm",unelevated:"",onClick:B=>Pt(a.row)},null,8,["onClick"]),a.row.status==="pending"?(oe(),bt(Ve,{key:0,color:"positive",round:"",dense:"",flat:"",icon:"check_circle",onClick:B=>Ie(a.row.id,"active")},{default:m(()=>[o(wn,null,{default:m(()=>[...t[74]||(t[74]=[Ke("Approve",-1)])]),_:1})]),_:1},8,["onClick"])):st("",!0),a.row.status==="active"?(oe(),bt(Ve,{key:1,color:"negative",round:"",dense:"",flat:"",icon:"block",onClick:B=>Ie(a.row.id,"rejected")},{default:m(()=>[o(wn,null,{default:m(()=>[...t[75]||(t[75]=[Ke("Suspend",-1)])]),_:1})]),_:1},8,["onClick"])):st("",!0),a.row.status==="rejected"?(oe(),bt(Ve,{key:2,color:"positive",round:"",dense:"",flat:"",icon:"restore",onClick:B=>Ie(a.row.id,"active")},{default:m(()=>[o(wn,null,{default:m(()=>[...t[76]||(t[76]=[Ke("Activate",-1)])]),_:1})]),_:1},8,["onClick"])):st("",!0)]),_:2},1032,["props"])]),_:1},8,["rows","loading"])]),_:1}),o(Wl,{name:"finance"},{default:m(()=>[s("div",Us,[s("div",Ys,[o(Ee,{bordered:"",flat:""},{default:m(()=>[o(ge,{class:"row justify-between items-center"},{default:m(()=>[t[77]||(t[77]=s("div",{class:"text-h6"},"Income & Payments",-1)),s("div",null,[s("input",{type:"file",ref_key:"paymentFileInputRef",ref:$t,accept:".csv",class:"hidden",onChange:At},null,544),o(Ve,{label:"Import Payments CSV",color:"green",icon:"upload_file",size:"sm",onClick:Gt,loading:Tt.value},null,8,["loading"])])]),_:1}),o(ge,{class:"flex flex-center",style:{height:"200px"}},{default:m(()=>[s("div",Qs,[o(Re,{name:"cloud_upload",size:"3em",color:"grey-4"}),t[78]||(t[78]=s("div",{class:"text-grey q-mt-sm"},"Upload Payment Sheet",-1)),t[79]||(t[79]=s("div",{class:"text-caption text-grey-6"}," Columns: StudentID, Year, Month, Amount, Date, Time ",-1))])]),_:1})]),_:1})]),s("div",Ws,[o(Ee,{bordered:"",flat:""},{default:m(()=>[o(ge,null,{default:m(()=>[...t[80]||(t[80]=[s("div",{class:"text-h6"},"Teacher Commissions",-1)])]),_:1}),o(yl,{separator:""},{default:m(()=>[(oe(),Oe(zt,null,Kt(3,a=>o(qt,{key:a},{default:m(()=>[o(tt,null,{default:m(()=>[o(Vt,null,{default:m(()=>[...t[81]||(t[81]=[Ke("Physics Class - Grade 12",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[82]||(t[82]=[Ke("Commission Due: LKR 15,000",-1)])]),_:1})]),_:1}),o(tt,{side:""},{default:m(()=>[o(Ve,{color:"primary",flat:"",label:"Pay Now"})]),_:1})]),_:1})),64))]),_:1})]),_:1})])])]),_:1}),o(Wl,{name:"academic"},{default:m(()=>[s("div",Ks,[o(Ee,{class:"col-12 col-md-3 bg-teal-1 text-center cursor-pointer hover-card",onClick:t[2]||(t[2]=a=>d.value=!0)},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"person_add",size:"xl",color:"teal"}),t[83]||(t[83]=s("div",{class:"text-h6 q-mt-sm"},"Register Student",-1)),t[84]||(t[84]=s("div",{class:"text-caption"},"Add new student to database",-1))]),_:1})]),_:1}),o(Ee,{class:"col-12 col-md-3 bg-cyan-1 text-center cursor-pointer hover-card"},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"book",size:"xl",color:"cyan"}),t[85]||(t[85]=s("div",{class:"text-h6 q-mt-sm"},"Subjects",-1)),t[86]||(t[86]=s("div",{class:"text-caption"},"Add courses & syllabi",-1))]),_:1})]),_:1}),o(Ee,{class:"col-12 col-md-3 bg-indigo-1 text-center cursor-pointer hover-card"},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"fact_check",size:"xl",color:"indigo"}),t[87]||(t[87]=s("div",{class:"text-h6 q-mt-sm"},"Attendance",-1)),t[88]||(t[88]=s("div",{class:"text-caption"},"Monitor student presence",-1))]),_:1})]),_:1})]),o(Rl,{modelValue:d.value,"onUpdate:modelValue":t[15]||(t[15]=a=>d.value=a)},{default:m(()=>[o(Ee,{style:{"min-width":"600px"}},{default:m(()=>[o(ge,null,{default:m(()=>[...t[89]||(t[89]=[s("div",{class:"text-h6"},"Register New Student",-1)])]),_:1}),o(ge,null,{default:m(()=>[o(Jn,{onSubmit:E,class:"q-gutter-md"},{default:m(()=>[s("div",Gs,[s("div",Js,[o(rt,{modelValue:P.value.student_id,"onUpdate:modelValue":t[3]||(t[3]=a=>P.value.student_id=a),label:"Student ID *",outlined:"",dense:"",placeholder:"ST-2024-001",rules:[a=>!!a||"Field is required"]},null,8,["modelValue","rules"])]),s("div",Xs,[o(rt,{modelValue:P.value.full_name,"onUpdate:modelValue":t[4]||(t[4]=a=>P.value.full_name=a),label:"Full Name *",outlined:"",dense:"",rules:[a=>!!a||"Field is required"]},null,8,["modelValue","rules"])]),s("div",Zs,[o(Nt,{modelValue:P.value.gender,"onUpdate:modelValue":t[5]||(t[5]=a=>P.value.gender=a),options:["Male","Female"],label:"Gender",outlined:"",dense:""},null,8,["modelValue"])]),s("div",er,[o(rt,{modelValue:P.value.dob,"onUpdate:modelValue":t[6]||(t[6]=a=>P.value.dob=a),label:"Date of Birth",outlined:"",dense:"",type:"date","stack-label":""},null,8,["modelValue"])]),s("div",tr,[o(rt,{modelValue:P.value.whatsapp_student,"onUpdate:modelValue":t[7]||(t[7]=a=>P.value.whatsapp_student=a),label:"WhatsApp (Student)",outlined:"",dense:"",mask:"##########",hint:"10 digits"},null,8,["modelValue"])]),s("div",lr,[o(rt,{modelValue:P.value.guardian_name,"onUpdate:modelValue":t[8]||(t[8]=a=>P.value.guardian_name=a),label:"Guardian Name",outlined:"",dense:""},null,8,["modelValue"])]),s("div",nr,[o(rt,{modelValue:P.value.whatsapp_guardian,"onUpdate:modelValue":t[9]||(t[9]=a=>P.value.whatsapp_guardian=a),label:"WhatsApp (Guardian)",outlined:"",dense:"",mask:"##########",hint:"10 digits"},null,8,["modelValue"])]),s("div",ar,[o(rt,{modelValue:P.value.daham_pasala,"onUpdate:modelValue":t[10]||(t[10]=a=>P.value.daham_pasala=a),label:"Daham Pasala",outlined:"",dense:""},null,8,["modelValue"])]),s("div",or,[o(rt,{modelValue:P.value.gn_division,"onUpdate:modelValue":t[11]||(t[11]=a=>P.value.gn_division=a),label:"GN Division",outlined:"",dense:""},null,8,["modelValue"])]),s("div",ir,[o(Nt,{modelValue:P.value.status,"onUpdate:modelValue":t[12]||(t[12]=a=>P.value.status=a),options:["Active","Inactive","Pending"],label:"Status",outlined:"",dense:""},null,8,["modelValue"])]),s("div",sr,[o(rt,{modelValue:P.value.submission_date,"onUpdate:modelValue":t[13]||(t[13]=a=>P.value.submission_date=a),label:"Submission Date",outlined:"",dense:"",type:"date","stack-label":""},null,8,["modelValue"])]),s("div",rr,[o(rt,{modelValue:P.value.address,"onUpdate:modelValue":t[14]||(t[14]=a=>P.value.address=a),label:"Address",outlined:"",dense:"",type:"textarea",rows:"3"},null,8,["modelValue"])])]),s("div",ur,[Ct(o(Ve,{flat:"",label:"Cancel",color:"primary"},null,512),[[Jl]]),o(Ve,{label:"Register",type:"submit",color:"primary",unelevated:"",loading:pe.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(Wl,{name:"analytics"},{default:m(()=>[t[98]||(t[98]=s("div",{class:"text-h6 text-primary q-mb-md"},"System Logs (Security)",-1)),o(yl,{bordered:"",class:"rounded-borders"},{default:m(()=>[o(qt,null,{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"security",color:"grey"})]),_:1}),o(tt,null,{default:m(()=>[o(Vt,null,{default:m(()=>[...t[90]||(t[90]=[Ke("Admin Login (Deepal)",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[91]||(t[91]=[Ke("IP: 192.168.1.1 - Success",-1)])]),_:1})]),_:1}),o(tt,{side:"",top:""},{default:m(()=>[...t[92]||(t[92]=[Ke(" 1 min ago ",-1)])]),_:1})]),_:1}),o(qt,null,{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"person_add",color:"green"})]),_:1}),o(tt,null,{default:m(()=>[o(Vt,null,{default:m(()=>[...t[93]||(t[93]=[Ke("New Student Registration",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[94]||(t[94]=[Ke("ID: STU-2024-001",-1)])]),_:1})]),_:1}),o(tt,{side:"",top:""},{default:m(()=>[...t[95]||(t[95]=[Ke(" 15 mins ago ",-1)])]),_:1})]),_:1})]),_:1}),s("div",dr,[t[96]||(t[96]=s("div",{class:"text-h6 text-primary q-mb-md"},"Branch Management",-1)),t[97]||(t[97]=s("p",null,"Manage all 5 branches from this central console.",-1)),o(Ve,{color:"primary",label:"Manage Branches",unelevated:""})])]),_:1})]),_:1},8,["modelValue"])]),_:1})])):n.value?.role==="staff"||n.value?.role==="sub_admin"?(oe(),Oe("div",cr,[s("div",fr,[s("div",vr,[o(Ee,{class:"no-shadow border-radius-lg bg-cyan-1 text-cyan-9"},{default:m(()=>[o(ge,null,{default:m(()=>[t[99]||(t[99]=s("div",{class:"text-subtitle2"},"Checked-in Now (Live)",-1)),s("div",mr,Se(ie.value),1),s("div",gr,"Total Today: "+Se(ne.value),1)]),_:1})]),_:1})]),s("div",hr,[o(Ee,{class:"no-shadow border-radius-lg bg-teal-1 text-teal-9"},{default:m(()=>[o(ge,null,{default:m(()=>[t[100]||(t[100]=s("div",{class:"text-subtitle2"},"Daily Cash Summary",-1)),s("div",br," LKR "+Se(z.value.toLocaleString()),1),t[101]||(t[101]=s("div",{class:"text-caption"},"Recorded Payments",-1))]),_:1})]),_:1})]),s("div",yr,[o(Ee,{class:"no-shadow border-radius-lg bg-orange-1 text-orange-9"},{default:m(()=>[o(ge,null,{default:m(()=>[t[102]||(t[102]=s("div",{class:"text-subtitle2"},"New Registrations",-1)),s("div",pr,Se(je.value),1),t[103]||(t[103]=s("div",{class:"text-caption"},"Added today",-1))]),_:1})]),_:1})])]),s("div",_r,[s("div",wr,[o(Ee,{class:"no-shadow border-radius-lg bordered"},{default:m(()=>[o(ge,null,{default:m(()=>[s("div",Sr,[o(Re,{name:"payments",class:"q-mr-sm"}),t[104]||(t[104]=Ke("Quick Payment Portal ",-1))])]),_:1}),o(jt),o(ge,{class:"q-gutter-md"},{default:m(()=>[s("div",xr,[s("div",kr,[o(rt,{outlined:"",dense:"",label:"Student ID / Name",placeholder:"Search student...",modelValue:q.value,"onUpdate:modelValue":t[17]||(t[17]=a=>q.value=a)},{append:m(()=>[o(Re,{name:"search"})]),_:1},8,["modelValue"])]),s("div",Cr,[o(Nt,{outlined:"",dense:"",modelValue:A.value,"onUpdate:modelValue":t[18]||(t[18]=a=>A.value=a),options:["Monthly Fee","Exam Fee","Registration"],label:"Type"},null,8,["modelValue"])]),s("div",qr,[o(rt,{outlined:"",dense:"",modelValue:O.value,"onUpdate:modelValue":t[19]||(t[19]=a=>O.value=a),label:"Amount",type:"number",prefix:"LKR"},null,8,["modelValue"])])]),s("div",Dr,[o(Ve,{color:"cyan-8",icon:"print",label:"Process & Print Receipt",unelevated:"",size:"md"})])]),_:1})]),_:1})]),s("div",Tr,[o(Ee,{class:"no-shadow border-radius-lg bordered",style:{height:"100%"}},{default:m(()=>[o(ge,null,{default:m(()=>[...t[105]||(t[105]=[s("div",{class:"text-h6 text-grey-8"},"Notifications",-1)])]),_:1}),o(yl,{separator:""},{default:m(()=>[Ct((oe(),bt(qt,{clickable:""},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"cake",color:"pink"})]),_:1}),o(tt,null,{default:m(()=>[o(Vt,null,{default:m(()=>[...t[106]||(t[106]=[Ke("Dasun's Birthday",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[107]||(t[107]=[Ke("Grade 11 - Today",-1)])]),_:1})]),_:1})]),_:1})),[[Ft]]),Ct((oe(),bt(qt,{clickable:""},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"warning",color:"red"})]),_:1}),o(tt,null,{default:m(()=>[o(Vt,null,{default:m(()=>[...t[108]||(t[108]=[Ke("Late Fees: 5 Students",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[109]||(t[109]=[Ke("Physics Batch A",-1)])]),_:1})]),_:1})]),_:1})),[[Ft]])]),_:1})]),_:1})])])])):n.value?.role==="teacher"?(oe(),Oe("div",Vr,[s("div",Mr,[s("div",Ar,[o(yl,{padding:"",class:"text-grey-8"},{default:m(()=>[Ct((oe(),bt(qt,{clickable:"",active:x.value==="dashboard","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[20]||(t[20]=a=>x.value="dashboard")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"dashboard"})]),_:1}),o(tt,{class:"text-weight-bold"},{default:m(()=>[...t[110]||(t[110]=[Ke("Dashboard",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="add_student","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[21]||(t[21]=a=>x.value="add_student")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"person_add"})]),_:1}),o(tt,null,{default:m(()=>[...t[111]||(t[111]=[Ke("Add Student",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="student_portal","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[22]||(t[22]=a=>x.value="student_portal")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"search"})]),_:1}),o(tt,null,{default:m(()=>[...t[112]||(t[112]=[Ke("Student Portal",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="all_students","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[23]||(t[23]=a=>x.value="all_students")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"list"})]),_:1}),o(tt,null,{default:m(()=>[...t[113]||(t[113]=[Ke("All Students",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="checked_in","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[24]||(t[24]=a=>x.value="checked_in")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"assignment_turned_in"})]),_:1}),o(tt,null,{default:m(()=>[...t[114]||(t[114]=[Ke("Checked-in List",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="pc_management","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[25]||(t[25]=a=>x.value="pc_management")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"computer"})]),_:1}),o(tt,null,{default:m(()=>[...t[115]||(t[115]=[Ke("PC Management",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="monthly_expenses","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[26]||(t[26]=a=>x.value="monthly_expenses")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"attach_money"})]),_:1}),o(tt,null,{default:m(()=>[...t[116]||(t[116]=[Ke("Monthly Expenses",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]]),Ct((oe(),bt(qt,{clickable:"",active:x.value==="reports","active-class":"bg-red-8 text-white rounded-borders",class:"q-mb-sm rounded-borders",onClick:t[27]||(t[27]=a=>x.value="reports")},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"trending_up"})]),_:1}),o(tt,null,{default:m(()=>[...t[117]||(t[117]=[Ke("Reports",-1)])]),_:1})]),_:1},8,["active"])),[[Ft]])]),_:1})]),s("div",Pr,[s("div",Ir,[s("div",Er,[o(Un,{size:"32px",color:"primary","text-color":"white",icon:"person"}),s("div",Rr," Logged in: "+Se(n.value?.email)+" (Teacher) ",1)]),s("div",Or,[s("div",null,[o(Re,{name:"event",class:"q-mr-sm"}),Ke(Se(new Date().toLocaleDateString()),1)]),s("div",null,[o(Re,{name:"schedule",class:"q-mr-sm"}),Ke(Se(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)])]),o(Ve,{color:"negative",label:"Logout",size:"sm",icon:"logout",unelevated:"",onClick:k.handleLogout},null,8,["onClick"])]),x.value==="dashboard"?(oe(),Oe("div",Lr,[s("div",Br,[s("div",Fr,[o(Ee,{class:"bg-teal-1 text-center cursor-pointer hover-card full-height",onClick:t[28]||(t[28]=a=>x.value="add_student")},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"person_add",size:"xl",color:"teal"}),t[118]||(t[118]=s("div",{class:"text-h6 q-mt-sm"},"Register Student",-1)),t[119]||(t[119]=s("div",{class:"text-caption"},"Add new student to database",-1))]),_:1})]),_:1})]),s("div",$r,[o(Ee,{class:"bg-indigo-1 text-center cursor-pointer hover-card full-height",onClick:t[29]||(t[29]=a=>x.value="checked_in")},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"fact_check",size:"xl",color:"indigo"}),t[120]||(t[120]=s("div",{class:"text-h6 q-mt-sm"},"Attendance List",-1)),t[121]||(t[121]=s("div",{class:"text-caption"},"View checked-in students",-1))]),_:1})]),_:1})]),s("div",Hr,[o(Ee,{class:"bg-orange-1 text-center cursor-pointer hover-card full-height",onClick:t[30]||(t[30]=a=>x.value="reports")},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"assessment",size:"xl",color:"orange"}),t[122]||(t[122]=s("div",{class:"text-h6 q-mt-sm"},"Reports",-1)),t[123]||(t[123]=s("div",{class:"text-caption"},"View financial reports",-1))]),_:1})]),_:1})])]),s("div",zr,[s("div",Nr,[o(Ee,{class:"no-shadow border-radius-lg bg-blue-1 text-blue-9 full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[t[124]||(t[124]=s("div",{class:"text-subtitle2 text-uppercase"},"Total Students",-1)),s("div",jr,Se(Ge.value),1)]),_:1})]),_:1})]),s("div",Ur,[o(Ee,{class:"no-shadow border-radius-lg bg-green-1 text-green-9 full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[t[125]||(t[125]=s("div",{class:"text-subtitle2 text-uppercase"},"Active Students",-1)),s("div",Yr,Se(mt.value),1)]),_:1})]),_:1})]),s("div",Qr,[o(Ee,{class:"no-shadow border-radius-lg bg-pink-1 text-red full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[t[126]||(t[126]=s("div",{class:"text-subtitle2 text-uppercase"},"Checked-in Now (Live)",-1)),s("div",{class:"text-h4 text-weight-bold q-mt-sm truncate-text",title:ie.value},Se(ie.value),9,Wr)]),_:1})]),_:1})]),s("div",Kr,[o(Ee,{class:"no-shadow border-radius-lg bg-grey-1 text-grey-8 full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[t[127]||(t[127]=s("div",{class:"text-subtitle2 text-uppercase"},"Today's Attendance",-1)),s("div",Gr,Se(ne.value),1)]),_:1})]),_:1})])])])):st("",!0),x.value==="add_student"?(oe(),Oe("div",Jr,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg"},{default:m(()=>[o(ge,{class:"row items-center justify-between"},{default:m(()=>[t[128]||(t[128]=s("div",null,[s("div",{class:"text-h6 text-primary"},"Student Registration"),s("div",{class:"text-caption text-grey"}," Add a new student manually or import from CSV ")],-1)),s("div",null,[s("input",{type:"file",ref_key:"fileInputRef",ref:I,accept:".csv",class:"hidden",onChange:ee},null,544),o(Ve,{label:"Import from CSV",color:"green",icon:"upload_file",outline:"",loading:Y.value,onClick:he},null,8,["loading"])])]),_:1}),o(ge,null,{default:m(()=>[o(Jn,{onSubmit:E,class:"q-gutter-md"},{default:m(()=>[s("div",Xr,[s("div",Zr,[o(rt,{modelValue:P.value.student_id,"onUpdate:modelValue":t[31]||(t[31]=a=>P.value.student_id=a),label:"Student ID *",outlined:"",dense:"",placeholder:"ST-2024-001",rules:[a=>!!a||"Field is required"]},null,8,["modelValue","rules"])]),s("div",eu,[o(rt,{modelValue:P.value.full_name,"onUpdate:modelValue":t[32]||(t[32]=a=>P.value.full_name=a),label:"Full Name *",outlined:"",dense:"",rules:[a=>!!a||"Field is required"]},null,8,["modelValue","rules"])]),s("div",tu,[o(Nt,{modelValue:P.value.gender,"onUpdate:modelValue":t[33]||(t[33]=a=>P.value.gender=a),options:["Male","Female"],label:"Gender",outlined:"",dense:""},null,8,["modelValue"])]),s("div",lu,[o(rt,{modelValue:P.value.dob,"onUpdate:modelValue":t[34]||(t[34]=a=>P.value.dob=a),label:"Date of Birth",outlined:"",dense:"",type:"date","stack-label":""},null,8,["modelValue"])]),s("div",nu,[o(rt,{modelValue:P.value.whatsapp_student,"onUpdate:modelValue":t[35]||(t[35]=a=>P.value.whatsapp_student=a),label:"WhatsApp (Student)",outlined:"",dense:"",mask:"##########",hint:"10 digits"},null,8,["modelValue"])]),s("div",au,[o(rt,{modelValue:P.value.guardian_name,"onUpdate:modelValue":t[36]||(t[36]=a=>P.value.guardian_name=a),label:"Guardian Name",outlined:"",dense:""},null,8,["modelValue"])]),s("div",ou,[o(rt,{modelValue:P.value.whatsapp_guardian,"onUpdate:modelValue":t[37]||(t[37]=a=>P.value.whatsapp_guardian=a),label:"WhatsApp (Guardian)",outlined:"",dense:"",mask:"##########",hint:"10 digits"},null,8,["modelValue"])]),s("div",iu,[o(rt,{modelValue:P.value.daham_pasala,"onUpdate:modelValue":t[38]||(t[38]=a=>P.value.daham_pasala=a),label:"Daham Pasala",outlined:"",dense:""},null,8,["modelValue"])]),s("div",su,[o(rt,{modelValue:P.value.gn_division,"onUpdate:modelValue":t[39]||(t[39]=a=>P.value.gn_division=a),label:"GN Division",outlined:"",dense:""},null,8,["modelValue"])]),s("div",ru,[o(Nt,{modelValue:P.value.status,"onUpdate:modelValue":t[40]||(t[40]=a=>P.value.status=a),options:["Active","Inactive","Pending"],label:"Status",outlined:"",dense:""},null,8,["modelValue"])]),s("div",uu,[o(rt,{modelValue:P.value.submission_date,"onUpdate:modelValue":t[41]||(t[41]=a=>P.value.submission_date=a),label:"Submission Date",outlined:"",dense:"",type:"date","stack-label":""},null,8,["modelValue"])]),s("div",du,[o(rt,{modelValue:P.value.address,"onUpdate:modelValue":t[42]||(t[42]=a=>P.value.address=a),label:"Address",outlined:"",dense:"",type:"textarea",rows:"3"},null,8,["modelValue"])])]),s("div",cu,[o(Ve,{label:"Register Student",type:"submit",color:"primary",unelevated:"",loading:pe.value},null,8,["loading"])])]),_:1})]),_:1})]),_:1})])):st("",!0),x.value==="student_portal"?(oe(),Oe("div",fu,[s("div",vu,[s("div",mu,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[t[129]||(t[129]=s("div",{class:"text-h6 text-primary q-mb-md"},"Student Lookup",-1)),s("div",gu,[s("div",hu,[o(rt,{modelValue:Bt.value,"onUpdate:modelValue":t[43]||(t[43]=a=>Bt.value=a),label:"Enter Student ID",outlined:"",dense:"",onKeyup:Co(c,["enter"]),placeholder:"STU165..."},{append:m(()=>[o(Ve,{flat:"",round:"",color:"primary",icon:"search",onClick:c,loading:Z.value},null,8,["loading"])]),_:1},8,["modelValue"])]),D.value?(oe(),Oe("div",bu,[s("div",yu,[o(Un,{color:"primary","text-color":"white",icon:"person",size:"md"}),s("div",null,[s("div",pu,Se(D.value.full_name),1),o(El,{size:"sm",color:H(D.value)?"green":"grey","text-color":"white"},{default:m(()=>[Ke(Se(H(D.value)?"Active":"Inactive"),1)]),_:1},8,["color"]),D.value.last_attendance_date?(oe(),Oe("span",_u," Last seen: "+Se(D.value.last_attendance_date),1)):st("",!0),s("div",wu,Se(D.value.student_id),1)])])])):st("",!0)])]),_:1})]),_:1})]),D.value?(oe(),Oe(zt,{key:0},[Be.value?(oe(),Oe("div",Su,[o(Zi,{rounded:"",class:"bg-green-1 text-green-9 border-green q-mb-md"},{avatar:m(()=>[o(Re,{name:"computer",color:"green"})]),default:m(()=>[s("div",xu,[t[130]||(t[130]=Ke(" Currently Checked In at ",-1)),s("span",ku,Se(Be.value.pc_number),1)]),s("div",Cu," Since "+Se(new Date(Be.value.check_in_time).toLocaleTimeString()),1)]),_:1})])):st("",!0),s("div",qu,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[131]||(t[131]=[s("div",{class:"text-h6 text-orange-9"},"Daily Attendance",-1),s("div",{class:"text-caption text-grey"},"Manage check-in/out",-1)])]),_:1}),o(jt),o(ge,{class:"q-gutter-y-md"},{default:m(()=>[s("div",Du,[t[132]||(t[132]=s("span",{class:"text-weight-bold"},"Date:",-1)),o(rt,{modelValue:xe.value,"onUpdate:modelValue":t[44]||(t[44]=a=>xe.value=a),dense:"",outlined:"",type:"date",style:{"max-width":"200px"}},null,8,["modelValue"])]),s("div",Tu,[s("div",Vu,[o(Ve,{color:"positive",class:"full-width",label:"Check-In",icon:"login",size:"lg",onClick:b})]),s("div",Mu,[o(Ve,{color:"negative",class:"full-width",label:"Check-Out",icon:"logout",size:"lg",outline:"",onClick:M})])]),s("div",Au,[t[137]||(t[137]=s("div",{class:"text-subtitle2 q-mb-sm"},"Recent History",-1)),o(Zl,{flat:"",bordered:"",dense:""},{default:m(()=>[t[136]||(t[136]=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Date"),s("th",{class:"text-center"},"PC"),s("th",{class:"text-center"},"In"),s("th",{class:"text-center"},"Out"),s("th",{class:"text-right"},"Status")])],-1)),s("tbody",null,[(oe(!0),Oe(zt,null,Kt(ye.value,a=>(oe(),Oe("tr",{key:a.id},[s("td",Pu,Se(a.date),1),s("td",Iu,[a.pc_number?(oe(),bt(ml,{key:0,color:"purple","text-color":"white"},{default:m(()=>[Ke(Se(a.pc_number),1)]),_:2},1024)):(oe(),Oe("span",Eu,"-"))]),s("td",Ru,Se(a.check_in_time?new Date(a.check_in_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"),1),s("td",Ou,Se(a.check_out_time?new Date(a.check_out_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"),1),s("td",Lu,[a.check_out_time?(oe(),bt(ml,{key:0,color:"green"},{default:m(()=>[...t[133]||(t[133]=[Ke("Completed",-1)])]),_:1})):(oe(),bt(ml,{key:1,color:"orange"},{default:m(()=>[...t[134]||(t[134]=[Ke("Active",-1)])]),_:1}))])]))),128)),ye.value.length===0?(oe(),Oe("tr",Bu,[...t[135]||(t[135]=[s("td",{colspan:"4",class:"text-center text-grey"},"No recent records",-1)])])):st("",!0)])]),_:1})])]),_:1})]),_:1})]),s("div",Fu,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[138]||(t[138]=[s("div",{class:"text-h6 text-purple-9"},"Financial Management",-1),s("div",{class:"text-caption text-grey"},"Record fees and payments",-1)])]),_:1}),o(jt),o(ge,{class:"q-gutter-y-md"},{default:m(()=>[s("div",$u,[s("div",Hu,[o(rt,{modelValue:Je.value.year,"onUpdate:modelValue":t[45]||(t[45]=a=>Je.value.year=a),label:"Year",outlined:"",dense:"",type:"number"},null,8,["modelValue"])]),s("div",zu,[o(Nt,{modelValue:Je.value.month,"onUpdate:modelValue":t[46]||(t[46]=a=>Je.value.month=a),options:["January","February","March","April","May","June","July","August","September","October","November","December","Anniversary"],label:"Month",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Nu,[o(rt,{modelValue:Je.value.amount,"onUpdate:modelValue":t[47]||(t[47]=a=>Je.value.amount=a),label:"Amount",outlined:"",dense:"",type:"number",prefix:"Rs."},null,8,["modelValue"])])]),o(Ve,{label:"Record Payment",color:"purple",class:"full-width",unelevated:"",icon:"payments",onClick:G}),s("div",ju,[t[141]||(t[141]=s("div",{class:"text-subtitle2 q-mb-sm"},"Payment History",-1)),o(Zl,{flat:"",bordered:"",dense:""},{default:m(()=>[t[140]||(t[140]=s("thead",null,[s("tr",null,[s("th",{class:"text-left"},"Month/Year"),s("th",{class:"text-right"},"Amount"),s("th",{class:"text-right"},"Date Paid")])],-1)),s("tbody",null,[(oe(!0),Oe(zt,null,Kt(it.value,a=>(oe(),Oe("tr",{key:a.id},[s("td",Uu,Se(a.month)+" "+Se(a.year),1),s("td",Yu,"Rs. "+Se(a.amount),1),s("td",Qu,Se(new Date(a.paid_at).toLocaleDateString()),1)]))),128)),it.value.length===0?(oe(),Oe("tr",Wu,[...t[139]||(t[139]=[s("td",{colspan:"3",class:"text-center text-grey"},"No records found",-1)])])):st("",!0)])]),_:1})])]),_:1})]),_:1})])],64)):st("",!0)])])):st("",!0),x.value==="all_students"?(oe(),Oe("div",Ku,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg"},{default:m(()=>[o(ge,{class:"row items-center justify-between"},{default:m(()=>[t[142]||(t[142]=s("div",{class:"text-h6 text-primary"},"Student Directory",-1)),o(Ve,{icon:"refresh",flat:"",round:"",dense:"",color:"primary",onClick:te,loading:de.value},null,8,["loading"])]),_:1}),o(ge,null,{default:m(()=>[o(Pl,{rows:L.value,columns:W,"row-key":"id",flat:"",bordered:"",filter:ve.value,loading:de.value},{"top-right":m(()=>[o(rt,{borderless:"",dense:"",debounce:"300",modelValue:ve.value,"onUpdate:modelValue":t[48]||(t[48]=a=>ve.value=a),placeholder:"Search"},{append:m(()=>[o(Re,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell-status":m(a=>[o(ul,{props:a},{default:m(()=>[o(ml,{color:a.value==="Active"?"green":"grey",label:a.value},null,8,["color","label"])]),_:2},1032,["props"])]),"body-cell-actions":m(a=>[o(ul,{props:a},{default:m(()=>[o(Ve,{icon:"visibility",color:"blue",flat:"",round:"",dense:"",size:"sm"}),o(Ve,{icon:"edit",color:"orange",flat:"",round:"",dense:"",size:"sm"})]),_:1},8,["props"])]),_:1},8,["rows","filter","loading"])]),_:1})]),_:1})])):st("",!0),x.value==="checked_in"?(oe(),Oe("div",Gu,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg"},{default:m(()=>[o(ge,{class:"row justify-between items-center q-pb-none"},{default:m(()=>[t[143]||(t[143]=s("div",{class:"text-h6 text-primary"},"Checked-in List",-1)),s("div",Ju,[s("input",{type:"file",ref_key:"attendanceFileInputRef",ref:Q,accept:".csv",class:"hidden",onChange:$},null,544),o(Ve,{label:"Import CSV",color:"green",icon:"upload_file",size:"sm",onClick:_e,loading:ue.value},null,8,["loading"]),o(Ve,{label:"Check-Out All",color:"negative",icon:"logout",size:"sm",onClick:Ne,disable:g.value.length===0},null,8,["disable"])])]),_:1}),o(ge,null,{default:m(()=>[o(Pl,{rows:g.value,columns:N,"row-key":"id",loading:p.value,class:"no-shadow",flat:"",bordered:""},{"no-data":m(()=>[s("div",Xu,[o(Re,{name:"assignment_turned_in",size:"2em",class:"q-mr-sm"}),t[144]||(t[144]=s("span",null,"No students currently checked in",-1))])]),"body-cell-action":m(a=>[o(ul,{props:a},{default:m(()=>[o(Ve,{label:"Check Out",size:"sm",color:"warning","text-color":"black",unelevated:"",onClick:B=>J(a.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading"])]),_:1})]),_:1}),o(Ee,{class:"no-shadow shadow-1 border-radius-lg q-mt-md"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[145]||(t[145]=[s("div",{class:"text-h6 text-purple-9"},"Today's Activity Log",-1)])]),_:1}),o(ge,null,{default:m(()=>[o(Pl,{rows:j.value,columns:re,"row-key":"id",loading:p.value,class:"no-shadow",flat:"",bordered:"",dense:""},{"body-cell-status":m(a=>[o(ul,{props:a},{default:m(()=>[a.row.check_out_time?(oe(),bt(ml,{key:0,color:"green",label:"Completed"})):(oe(),bt(ml,{key:1,color:"orange",label:"Active"}))]),_:2},1032,["props"])]),"no-data":m(()=>[...t[146]||(t[146]=[s("div",{class:"full-width row flex-center text-grey q-pa-md"},[s("span",null,"No activity recorded today")],-1)])]),_:1},8,["rows","loading"])]),_:1})]),_:1}),o(Rl,{modelValue:V.value,"onUpdate:modelValue":t[49]||(t[49]=a=>V.value=a)},{default:m(()=>[o(Ee,{style:{"min-width":"350px"}},{default:m(()=>[o(ge,null,{default:m(()=>[t[147]||(t[147]=s("div",{class:"text-h6"},"Confirm Check-Out All",-1)),s("div",Zu," Area you sure you want to check out all "+Se(g.value.length)+" students? ",1)]),_:1}),o(Kl,{align:"right"},{default:m(()=>[Ct(o(Ve,{flat:"",label:"Cancel",color:"primary"},null,512),[[Jl]]),o(Ve,{flat:"",label:"Check Out All",color:"negative",onClick:S})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):st("",!0),x.value==="pc_management"?(oe(),Oe("div",ed,[s("div",td,[(oe(!0),Oe(zt,null,Kt(De.value,a=>(oe(),Oe("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3",key:a.id},[o(Ee,{class:qo(`no-shadow shadow-1 border-radius-lg bg-${a.color} text-${a.textColor}`),style:{"min-height":"120px"}},{default:m(()=>[o(ge,null,{default:m(()=>[s("div",ld,[s("div",nd,Se(a.id),1),o(Re,{name:a.icon,size:"sm"},null,8,["name"])]),s("div",ad,[a.status==="Occupied"?(oe(),Oe("div",od,Se(a.student_name),1)):a.status==="Issue"?(oe(),Oe("div",id,Se(a.student_name),1)):(oe(),Oe("div",sd,"Available")),a.status==="Occupied"?(oe(),Oe("div",rd," ID: "+Se(a.student_id),1)):st("",!0),a.status==="Issue"?(oe(),Oe("div",ud,Se(a.record.description),1)):st("",!0)])]),_:2},1024),o(jt,{color:a.textColor},null,8,["color"]),o(Kl,{align:"right",class:"q-pt-xs q-pb-xs"},{default:m(()=>[a.status!=="Issue"?(oe(),bt(Ve,{key:0,flat:"",dense:"",label:"Report",size:"sm",icon:"report_problem",color:a.textColor,onClick:B=>Fe(a.id)},null,8,["color","onClick"])):st("",!0),a.status==="Issue"?(oe(),bt(Ve,{key:1,flat:"",dense:"",label:"Resolve",size:"sm",icon:"check_circle",color:"positive",onClick:B=>Xe(a.id)},null,8,["onClick"])):st("",!0),a.status==="Occupied"?(oe(),bt(Ve,{key:2,flat:"",dense:"",label:"Release",size:"sm",color:a.textColor,onClick:B=>J(a.record)},null,8,["color","onClick"])):st("",!0)]),_:2},1024)]),_:2},1032,["class"])]))),128))]),o(Rl,{modelValue:K.value,"onUpdate:modelValue":t[52]||(t[52]=a=>K.value=a)},{default:m(()=>[o(Ee,{style:{"min-width":"350px"}},{default:m(()=>[o(ge,null,{default:m(()=>[s("div",dd,"Report Issue for "+Se(Te.value),1)]),_:1}),o(ge,{class:"q-pt-none"},{default:m(()=>[o(Nt,{modelValue:Le.value.type,"onUpdate:modelValue":t[50]||(t[50]=a=>Le.value.type=a),options:["Hardware","Software","Network","Other"],label:"Issue Type",filled:"",class:"q-mb-sm"},null,8,["modelValue"]),o(rt,{modelValue:Le.value.description,"onUpdate:modelValue":t[51]||(t[51]=a=>Le.value.description=a),label:"Description",filled:"",type:"textarea",rows:"3"},null,8,["modelValue"])]),_:1}),o(Kl,{align:"right"},{default:m(()=>[Ct(o(Ve,{flat:"",label:"Cancel",color:"primary"},null,512),[[Jl]]),o(Ve,{flat:"",label:"Submit Issue",color:"negative",onClick:Ce})]),_:1})]),_:1})]),_:1},8,["modelValue"])])):st("",!0),x.value==="monthly_expenses"?(oe(),Oe("div",cd,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg q-mb-md"},{default:m(()=>[o(ge,{class:"row justify-between items-center"},{default:m(()=>[s("div",fd,[t[148]||(t[148]=s("div",{class:"text-h6 text-primary"},"Monthly Fees (Collection)",-1)),o(rt,{modelValue:Rt.value,"onUpdate:modelValue":t[53]||(t[53]=a=>Rt.value=a),type:"month",dense:"",outlined:"",class:"q-ml-md",style:{"min-width":"150px"}},null,8,["modelValue"])]),s("div",null,[s("input",{type:"file",ref_key:"paymentFileInputRef",ref:$t,accept:".csv",class:"hidden",onChange:At},null,544),o(Ve,{label:"Import CSV",icon:"upload_file",color:"green",unelevated:"",class:"q-mr-sm",onClick:Gt,loading:Tt.value},null,8,["loading"])])]),_:1})]),_:1}),s("div",vd,[s("div",md,[o(Ee,{class:"no-shadow border-radius-lg bg-green-1 text-green-9"},{default:m(()=>[o(ge,null,{default:m(()=>[t[149]||(t[149]=s("div",{class:"text-subtitle2 text-uppercase"},"Total Collections",-1)),s("div",gd," LKR "+Se(Dt.value.toLocaleString()),1),s("div",hd,"For "+Se(Rt.value),1)]),_:1})]),_:1})])]),o(Ee,{class:"no-shadow shadow-1 border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[o(Pl,{rows:yt.value,columns:Qt,"row-key":"id",loading:_t.value,flat:"",bordered:""},{"no-data":m(()=>[s("div",bd,[o(Re,{name:"payments",size:"2em",class:"q-mr-sm"}),t[150]||(t[150]=s("span",null,"No payments recorded for this month",-1))])]),_:1},8,["rows","loading"])]),_:1})]),_:1})])):st("",!0),x.value==="reports"?(oe(),Oe("div",yd,[s("div",pd,[s("div",_d,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg full-height"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[151]||(t[151]=[s("div",{class:"text-h6 text-primary"},"Generate Report",-1),s("div",{class:"text-caption text-grey"},"Select report type and period",-1)])]),_:1}),o(jt),o(ge,{class:"q-gutter-y-md"},{default:m(()=>[o(ls,{modelValue:be.value,"onUpdate:modelValue":t[54]||(t[54]=a=>be.value=a),spread:"","no-caps":"",rounded:"",unelevated:"","toggle-color":"primary",color:"white","text-color":"primary",options:[{label:"Daily Report",value:"daily"},{label:"Monthly Report",value:"monthly"}],class:"border-primary"},null,8,["modelValue"]),be.value==="daily"?(oe(),Oe("div",wd,[o(rt,{modelValue:qe.value,"onUpdate:modelValue":t[55]||(t[55]=a=>qe.value=a),type:"date",outlined:"",dense:"",label:"Select Date"},null,8,["modelValue"]),o(Ve,{label:"Get Daily Report",class:"full-width q-mt-md",color:"primary",icon:"assessment",onClick:St,loading:at.value},null,8,["loading"])])):st("",!0),be.value==="monthly"?(oe(),Oe("div",Sd,[s("div",xd,[o(Nt,{modelValue:Ze.value,"onUpdate:modelValue":t[56]||(t[56]=a=>Ze.value=a),options:[2024,2025,2026,2027],label:"Year",outlined:"",dense:""},null,8,["modelValue"])]),s("div",kd,[o(Nt,{modelValue:lt.value,"onUpdate:modelValue":t[57]||(t[57]=a=>lt.value=a),options:["January","February","March","April","May","June","July","August","September","October","November","December"],label:"Month",outlined:"",dense:""},null,8,["modelValue"])]),s("div",Cd,[o(Ve,{label:"Get Monthly Report",class:"full-width q-mt-md",color:"purple",icon:"Summarize",onClick:St,loading:at.value},null,8,["loading"])])])):st("",!0)]),_:1})]),_:1})]),Ue.value?st("",!0):(oe(),Oe("div",qd,[s("div",Dd,[o(Re,{name:"analytics",size:"5em",color:"grey-4"}),t[152]||(t[152]=s("div",{class:"text-h6 q-mt-md"},"Analytics Center",-1)),t[153]||(t[153]=s("div",null,"Select a period to view financial and operational snapshots.",-1))])])),Ue.value?(oe(),Oe("div",Td,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg bg-grey-1"},{default:m(()=>[o(ge,null,{default:m(()=>[s("div",Vd,[t[154]||(t[154]=Ke(" Report for: ",-1)),s("span",Md,Se(Ue.value.period),1)])]),_:1}),o(jt),o(ge,null,{default:m(()=>[s("div",Ad,[s("div",Pd,[o(Ee,{class:"no-shadow bg-white text-green border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[t[155]||(t[155]=s("div",{class:"text-caption text-uppercase"},"Total Income",-1)),s("div",Id," LKR "+Se(Ue.value.income),1)]),_:1})]),_:1})]),s("div",Ed,[o(Ee,{class:"no-shadow bg-white text-red border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[t[156]||(t[156]=s("div",{class:"text-caption text-uppercase"},"Total Expenses",-1)),s("div",Rd," LKR "+Se(Ue.value.expenses),1)]),_:1})]),_:1})]),s("div",Od,[o(Ee,{class:"no-shadow bg-white text-blue border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[t[157]||(t[157]=s("div",{class:"text-caption text-uppercase"},"Net Profit/Loss",-1)),s("div",Ld,"LKR "+Se(Ue.value.net),1)]),_:1})]),_:1})]),s("div",Bd,[o(Ee,{class:"no-shadow bg-white text-orange border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[t[158]||(t[158]=s("div",{class:"text-caption text-uppercase"},"Total Attendance",-1)),s("div",Fd,Se(Ue.value.attendance),1)]),_:1})]),_:1})])]),be.value==="daily"&&Ue.value.slots?(oe(),Oe("div",$d,[t[159]||(t[159]=s("div",{class:"text-subtitle1 text-weight-bold q-mb-sm text-grey-8"}," Time Slot Breakdown (1hr+ Overlap) ",-1)),s("div",Hd,[(oe(!0),Oe(zt,null,Kt(Ue.value.slots,a=>(oe(),Oe("div",{class:"col-6 col-sm-4 col-md-2",key:a.label},[o(Ee,{class:"no-shadow border-primary text-center"},{default:m(()=>[o(ge,{class:"q-pa-sm"},{default:m(()=>[s("div",zd,Se(a.label),1),s("div",Nd,Se(a.count),1)]),_:2},1024)]),_:2},1024)]))),128))])])):st("",!0),Ue.value.pcUsage&&Ue.value.pcUsage.length>0?(oe(),Oe("div",jd,[t[161]||(t[161]=s("div",{class:"text-subtitle1 text-weight-bold q-mb-sm text-grey-8"}," PC Performance Analysis ",-1)),o(Zl,{flat:"",bordered:"",dense:""},{default:m(()=>[t[160]||(t[160]=s("thead",{class:"bg-grey-2"},[s("tr",null,[s("th",{class:"text-left"},"PC Number"),s("th",{class:"text-center"},"Total Sessions"),s("th",{class:"text-right"},"Total Usage (Hours)")])],-1)),s("tbody",null,[(oe(!0),Oe(zt,null,Kt(Ue.value.pcUsage,a=>(oe(),Oe("tr",{key:a.id},[s("td",Ud,Se(a.id),1),s("td",Yd,Se(a.sessions),1),s("td",Qd,Se((a.minutes/60).toFixed(1))+" hrs",1)]))),128))])]),_:1})])):st("",!0)]),_:1})]),_:1})])):st("",!0)])])):st("",!0),x.value==="dashboard"?(oe(),Oe("div",Wd,[s("div",Kd,[o(Ee,{class:"no-shadow shadow-1 border-radius-lg q-mb-md"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[162]||(t[162]=[s("div",{class:"text-h6 text-red-7 text-weight-bold"}," Last 30 Days Attendance Trend ",-1),s("div",{class:"text-caption text-grey"}," Analysis of student presence fluctuations ",-1)])]),_:1}),o(ge,{class:"q-pt-none"},{default:m(()=>[s("div",Gd,[t[172]||(t[172]=s("div",{style:{position:"absolute",left:"-25px",top:"50%",transform:"rotate(-90deg) translateX(50%)","font-size":"10px",color:"#666"}}," Student Count ",-1)),(oe(),Oe("svg",Jd,[t[163]||(t[163]=s("defs",null,[s("linearGradient",{id:"chartFill",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[s("stop",{offset:"0%",style:{"stop-color":"#ef9a9a","stop-opacity":"0.5"}}),s("stop",{offset:"100%",style:{"stop-color":"#ef9a9a","stop-opacity":"0.1"}})])],-1)),t[164]||(t[164]=s("g",{stroke:"#e0e0e0","stroke-width":"1","stroke-dasharray":"0"},[s("line",{x1:"0",y1:"250",x2:"800",y2:"250"}),s("line",{x1:"0",y1:"218.75",x2:"800",y2:"218.75"}),s("line",{x1:"0",y1:"187.5",x2:"800",y2:"187.5"}),s("line",{x1:"0",y1:"156.25",x2:"800",y2:"156.25"}),s("line",{x1:"0",y1:"125",x2:"800",y2:"125"}),s("line",{x1:"0",y1:"93.75",x2:"800",y2:"93.75"}),s("line",{x1:"0",y1:"62.5",x2:"800",y2:"62.5"}),s("line",{x1:"0",y1:"31.25",x2:"800",y2:"31.25"}),s("line",{x1:"0",y1:"0",x2:"800",y2:"0"})],-1)),s("g",Xd,[(oe(),Oe(zt,null,Kt(30,a=>s("line",{key:a,x1:(a-1)*(800/29),y1:"0",x2:(a-1)*(800/29),y2:"250"},null,8,Zd)),64))]),t[165]||(t[165]=s("g",{"font-size":"10",fill:"#666","text-anchor":"end"},[s("text",{x:"-10",y:"253"},"0"),s("text",{x:"-10",y:"190"},"1.0"),s("text",{x:"-10",y:"128"},"2.0"),s("text",{x:"-10",y:"65"},"3.0"),s("text",{x:"-10",y:"3"},"4.0")],-1)),s("g",ec,[(oe(),Oe(zt,null,Kt(["Dec-20","Dec-21","Dec-22","Dec-23","Dec-24","Dec-25","Dec-26","Dec-27","Dec-28","Dec-29","Dec-30","Dec-31","Jan-01","Jan-02","Jan-03","Jan-04","Jan-05","Jan-06","Jan-07","Jan-08","Jan-09","Jan-10","Jan-11","Jan-12","Jan-13","Jan-14","Jan-15","Jan-16","Jan-17","Jan-18"],(a,B)=>s("text",{key:B,x:B*(800/29)-5,y:"265",transform:"rotate(-45)",style:{"transform-box":"fill-box","transform-origin":"center"}},Se(a),9,tc)),64))]),t[166]||(t[166]=s("path",{d:`M0,250
                                 L165,250
                                 Q193,0 220,250
                                 L275,250
                                 Q303,187 330,250
                                 L630,250
                                 Q660,187 690,250
                                 L800,250`,fill:"none",stroke:"#d32f2f","stroke-width":"2"},null,-1)),t[167]||(t[167]=s("path",{d:`M0,250
                                 L165,250
                                 Q193,0 220,250
                                 L275,250
                                 Q303,187 330,250
                                 L630,250
                                 Q660,187 690,250
                                 L800,250 v0 h-800 z`,fill:"url(#chartFill)",stroke:"none"},null,-1)),t[168]||(t[168]=s("circle",{cx:"193",cy:"0",r:"3",fill:"white",stroke:"#d32f2f","stroke-width":"2"},null,-1)),t[169]||(t[169]=s("circle",{cx:"303",cy:"187.5",r:"3",fill:"white",stroke:"#d32f2f","stroke-width":"2"},null,-1)),t[170]||(t[170]=s("circle",{cx:"660",cy:"187.5",r:"3",fill:"white",stroke:"#d32f2f","stroke-width":"2"},null,-1)),s("g",lc,[(oe(),Oe(zt,null,Kt(30,a=>s("circle",{key:a,cx:(a-1)*(800/29),cy:"250",r:"2"},null,8,nc)),64))]),t[171]||(t[171]=s("g",{transform:"translate(350, -20)"},[s("rect",{x:"0",y:"0",width:"20",height:"10",fill:"#ef9a9a",stroke:"#d32f2f"}),s("text",{x:"25",y:"8","font-size":"10",fill:"#666"},"Total Students")],-1))])),t[173]||(t[173]=s("div",{class:"text-center text-caption text-grey q-mt-sm"},"Date",-1))])]),_:1})]),_:1}),o(Ee,{class:"no-shadow shadow-1 border-radius-lg border-red-left"},{default:m(()=>[o(ge,{class:"row items-center"},{default:m(()=>[o(Re,{name:"warning",color:"negative",size:"md",class:"q-mr-md"}),t[174]||(t[174]=s("div",null,[s("div",{class:"text-subtitle1 text-weight-bold"},"Low Attendance Alert"),s("div",{class:"text-caption text-grey-8"}," 15 Students have missed more than 3 consecutive classes. ")],-1)),o(Ao),o(Ve,{flat:"",color:"negative",label:"View List","icon-right":"arrow_forward"})]),_:1})]),_:1})])])):st("",!0)])])])):n.value?.role==="student"?(oe(),Oe("div",ac,[s("div",oc,[s("div",ic,[o(Ee,{class:"bg-purple-1 text-purple-9 text-center no-shadow border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"check_circle",size:"lg"}),t[175]||(t[175]=s("div",{class:"text-weight-bold q-mt-sm"},"Attendance",-1)),t[176]||(t[176]=s("div",{class:"text-h5"},"92%",-1))]),_:1})]),_:1})]),s("div",sc,[o(Ee,{class:"bg-indigo-1 text-indigo-9 text-center no-shadow border-radius-lg"},{default:m(()=>[o(ge,null,{default:m(()=>[o(Re,{name:"payments",size:"lg"}),t[177]||(t[177]=s("div",{class:"text-weight-bold q-mt-sm"},"Payments",-1)),t[178]||(t[178]=s("div",{class:"text-subtitle2 text-green-7"},"Up to date",-1))]),_:1})]),_:1})]),s("div",rc,[o(Ee,{class:"bg-deep-purple-7 text-white no-shadow border-radius-lg"},{default:m(()=>[o(ge,{class:"row items-center justify-between"},{default:m(()=>[t[179]||(t[179]=s("div",null,[s("div",{class:"text-h6"},"My Courses"),s("div",{class:"text-caption"},"Access notes and videos")],-1)),o(Ve,{icon:"school",color:"white","text-color":"deep-purple",flat:"",label:"Go to LMS"})]),_:1})]),_:1})]),s("div",uc,[o(Ee,{class:"no-shadow border-radius-lg bordered"},{default:m(()=>[o(ge,null,{default:m(()=>[...t[180]||(t[180]=[s("div",{class:"text-h6 text-purple-9"},"Notice Board",-1)])]),_:1}),o(yl,{separator:""},{default:m(()=>[(oe(),Oe(zt,null,Kt(3,a=>o(qt,{key:a},{default:m(()=>[o(tt,{avatar:""},{default:m(()=>[o(Re,{name:"campaign",color:"orange"})]),_:1}),o(tt,null,{default:m(()=>[o(Vt,{class:"text-weight-bold"},{default:m(()=>[...t[181]||(t[181]=[Ke("Important Exam Notice",-1)])]),_:1}),o(Vt,{caption:""},{default:m(()=>[...t[182]||(t[182]=[Ke("The final exam for Term 1 has been rescheduled to...",-1)])]),_:1})]),_:1}),o(tt,{side:"",top:""},{default:m(()=>[o(El,{size:"sm",color:"purple-1","text-color":"purple"},{default:m(()=>[...t[183]||(t[183]=[Ke("New",-1)])]),_:1})]),_:1})]),_:1})),64))]),_:1})]),_:1})]),s("div",dc,[o(Ee,{class:"no-shadow border-radius-lg bordered"},{default:m(()=>[s("div",cc,[t[184]||(t[184]=s("div",{class:"text-subtitle1 text-weight-bold q-mb-sm text-center"}," Class Calendar ",-1)),o(ys,{modelValue:le.value,"onUpdate:modelValue":t[58]||(t[58]=a=>le.value=a),minimal:"",flat:"",class:"full-width",color:"purple",readonly:""},null,8,["modelValue"])])]),_:1})])])])):(oe(),Oe("div",fc,[o(Re,{name:"lock",size:"4em",color:"grey"}),t[185]||(t[185]=s("div",{class:"text-h5 q-mt-md"},"Access Restricted",-1)),t[186]||(t[186]=s("p",{class:"text-grey"},"Please contact the administrator to assign a valid role.",-1))]))])),o(Rl,{modelValue:w.value,"onUpdate:modelValue":t[64]||(t[64]=a=>w.value=a)},{default:m(()=>[o(Ee,{style:{"min-width":"400px"}},{default:m(()=>[o(ge,null,{default:m(()=>[t[188]||(t[188]=s("div",{class:"text-h6"},"Manage Permissions",-1)),s("div",vc,[Ke(" User: "+Se(C.value?.email)+" ",1),t[187]||(t[187]=s("br",null,null,-1)),Ke(" Role: "+Se(C.value?.role),1)])]),_:1}),o(jt),o(ge,{class:"q-pt-none"},{default:m(()=>[s("div",mc,[t[189]||(t[189]=s("div",{class:"text-weight-bold q-mb-sm"},"Financial Control",-1)),o(Il,{modelValue:T.value.delete_payments,"onUpdate:modelValue":t[59]||(t[59]=a=>T.value.delete_payments=a),label:"Delete Payments",color:"red"},null,8,["modelValue"]),o(Il,{modelValue:T.value.change_salary,"onUpdate:modelValue":t[60]||(t[60]=a=>T.value.change_salary=a),label:"Change Staff Salary",color:"orange"},null,8,["modelValue"]),o(Il,{modelValue:T.value.view_profit_loss,"onUpdate:modelValue":t[61]||(t[61]=a=>T.value.view_profit_loss=a),label:"View Profit/Loss Reports",color:"green"},null,8,["modelValue"]),t[190]||(t[190]=s("div",{class:"text-weight-bold q-mb-sm q-mt-md"},"Operational Control",-1)),o(Il,{modelValue:T.value.edit_student_profile,"onUpdate:modelValue":t[62]||(t[62]=a=>T.value.edit_student_profile=a),label:"Edit Student Profiles",color:"blue"},null,8,["modelValue"]),o(Il,{modelValue:T.value.manage_database,"onUpdate:modelValue":t[63]||(t[63]=a=>T.value.manage_database=a),label:"Manage Database (Advanced)",color:"purple"},null,8,["modelValue"]),t[191]||(t[191]=s("div",{class:"text-weight-bold q-mb-sm q-mt-md"},"Default Permissions",-1)),s("p",gc,Se(jl(C.value?.role)),1)])]),_:1}),o(Kl,{align:"right",class:"text-primary"},{default:m(()=>[Ct(o(Ve,{flat:"",label:"Cancel"},null,512),[[Jl]]),o(Ve,{flat:"",label:"Save Changes",onClick:ql})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},qc=Bo(hc,[["__scopeId","data-v-d8bb3cc6"]]);export{qc as default};
