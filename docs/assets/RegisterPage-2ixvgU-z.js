import{k as U,a8 as A,g as $,a9 as j,r as f,c as m,aa as V,h as n,_ as D,L as F,l as L,H as C,S as N,U as E,V as u,W as M,X as K,f as s,Y as v,a6 as O,a0 as Y,Z as S}from"./index-B5G9evRI.js";import{_ as H,Q as J,a as W,b as q}from"./_plugin-vue_export-helper-RSNwod5w.js";import{u as X,o as Z,b as G,c as ee,Q as ae,a as w}from"./QForm-DXrY6HoK.js";import{u as te,a as le}from"./use-dark-BbgiJ76y.js";import{u as oe}from"./use-quasar-DzTJ7Wdc.js";import{supabase as se}from"./supabase-CvbrL4DE.js";const re=()=>n("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[n("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),n("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),P=U({name:"QRadio",props:{...te,...A,...X,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:g,emit:y}){const{proxy:i}=$(),d=le(e,i.$q),b=j(e,Z),r=f(null),{refocusTargetEl:c,refocusTarget:p}=G(e,r),o=m(()=>V(e.modelValue)===V(e.val)),a=m(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(d.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),x=m(()=>{const l=e.color!==void 0&&(e.keepColor===!0||o.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${o.value===!0?"truthy":"falsy"}${l}`}),t=m(()=>(o.value===!0?e.checkedIcon:e.uncheckedIcon)||null),Q=m(()=>e.disable===!0?-1:e.tabindex||0),I=m(()=>{const l={type:"radio"};return e.name!==void 0&&Object.assign(l,{".checked":o.value===!0,"^checked":o.value===!0?"checked":void 0,name:e.name,value:e.val}),l}),R=ee(I);function h(l){l!==void 0&&(C(l),p(l)),e.disable!==!0&&o.value!==!0&&y("update:modelValue",e.val,l)}function z(l){(l.keyCode===13||l.keyCode===32)&&C(l)}function B(l){(l.keyCode===13||l.keyCode===32)&&h(l)}Object.assign(i,{set:h});const T=re();return()=>{const l=t.value!==null?[n("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[n(D,{class:"q-radio__icon",name:t.value})])]:[T];e.disable!==!0&&R(l,"unshift"," q-radio__native q-ma-none q-pa-none");const k=[n("div",{class:x.value,style:b.value,"aria-hidden":"true"},l)];c.value!==null&&k.push(c.value);const _=e.label!==void 0?F(g.default,[e.label]):L(g.default);return _!==void 0&&k.push(n("div",{class:"q-radio__label q-anchor--skip"},_)),n("div",{ref:r,class:a.value,tabindex:Q.value,role:"radio","aria-label":e.label,"aria-checked":o.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:h,onKeydown:z,onKeyup:B},k)}}}),ne={class:"q-gutter-sm q-mb-md"},ue={class:"text-grey-7"},ie={__name:"RegisterPage",setup(e){const g=oe(),y=M(),i=f(""),d=f(""),b=f(""),r=f("student"),c=f(!1),p=async()=>{c.value=!0;try{const{error:o}=await se.auth.signUp({email:i.value,password:d.value,options:{data:{role:r.value}}});if(o)throw o;let a="Registration successful!";r.value==="teacher"&&(a+=" Your account is pending approval."),g.notify({color:"positive",message:a,icon:"check"}),y.push("/login")}catch(o){g.notify({color:"negative",message:o.message||"Registration failed",icon:"error"})}finally{c.value=!1}};return(o,a)=>{const x=K("router-link");return E(),N(J,{class:"flex flex-center bg-grey-1"},{default:u(()=>[s(W,{class:"auth-card q-pa-lg shadow-4",style:{width:"100%","max-width":"400px"}},{default:u(()=>[s(q,{class:"text-center"},{default:u(()=>[s(O,{size:"80px","font-size":"40px",color:"red-1","text-color":"primary",icon:"person_add"}),a[5]||(a[5]=v("div",{class:"text-h5 text-weight-bold q-mt-md text-primary"},"Create Account",-1)),a[6]||(a[6]=v("div",{class:"text-subtitle2 text-grey-7"},"Join DP Education IT Campus",-1))]),_:1}),s(q,null,{default:u(()=>[s(ae,{onSubmit:p,class:"q-gutter-md"},{default:u(()=>[s(w,{filled:"",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),label:"Email Address",type:"email","lazy-rules":"",rules:[t=>t&&t.length>0||"Please enter your email"]},null,8,["modelValue","rules"]),s(w,{filled:"",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=t=>d.value=t),label:"Password",type:"password","lazy-rules":"",rules:[t=>t&&t.length>0||"Please enter your password",t=>t.length>=6||"Password must be at least 6 characters"]},null,8,["modelValue","rules"]),s(w,{filled:"",modelValue:b.value,"onUpdate:modelValue":a[2]||(a[2]=t=>b.value=t),label:"Confirm Password",type:"password","lazy-rules":"",rules:[t=>t&&t.length>0||"Please confirm your password",t=>t===d.value||"Passwords do not match"]},null,8,["modelValue","rules"]),v("div",ne,[a[7]||(a[7]=v("span",{class:"text-grey-7 q-mr-sm"},"I am a:",-1)),s(P,{modelValue:r.value,"onUpdate:modelValue":a[3]||(a[3]=t=>r.value=t),val:"student",label:"Student"},null,8,["modelValue"]),s(P,{modelValue:r.value,"onUpdate:modelValue":a[4]||(a[4]=t=>r.value=t),val:"teacher",label:"Teacher"},null,8,["modelValue"])]),v("div",null,[s(Y,{label:"Register",type:"submit",color:"primary",unelevated:"",rounded:"",class:"full-width q-mt-md",size:"lg",loading:c.value},null,8,["loading"])])]),_:1})]),_:1}),s(q,{class:"text-center q-pt-none"},{default:u(()=>[v("div",ue,[a[9]||(a[9]=S(" Already have an account? ",-1)),s(x,{to:"/login",class:"text-primary text-weight-bold"},{default:u(()=>[...a[8]||(a[8]=[S("Login here",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})}}},be=H(ie,[["__scopeId","data-v-6feaed55"]]);export{be as default};
